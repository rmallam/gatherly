appId: com.guestscanner.app
---
# Test: User Login Flow (Fresh Start)
- launchApp:
    clearState: true  # Clear app data before launch

# Wait for app to load
- extendedWaitUntil:
    visible: "Sign In"
    timeout: 30000

# Handle notification permission
- runFlow:
    when:
      visible: "Allow"
    commands:
      - tapOn: "Allow"
      - waitForAnimationToEnd

# Verify we're on login screen
- assertVisible: "Email"
- assertVisible: "Password"
- assertVisible: "Sign In"

# Enter email
- tapOn: "Email"
- inputText: "mallamrakeshkumar@gmail.com"

# Enter password
- tapOn: "Password"
- inputText: "Rakeshkumar@123"

# Wait a moment to ensure input is complete
- waitForAnimationToEnd

# Submit login
- tapOn: "Sign In"

# Wait for dashboard to load
- extendedWaitUntil:
    visible:
      text: ".*Event.*"
    timeout: 20000

# Verify we're logged in - should see dashboard elements
- assertVisible:
    text: ".*Event.*"

# Success!
