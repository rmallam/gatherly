appId: com.guestscanner.app
---
# Test: User Login Flow (with Screenshots)
- launchApp:
    clearState: true

# Wait for app to load
- extendedWaitUntil:
    visible: "Sign In"
    timeout: 30000

- takeScreenshot: "01-app-loaded"

# Handle notification permission
- runFlow:
    when:
      visible: "Allow"
    commands:
      - tapOn: "Allow"
      - waitForAnimationToEnd
      - takeScreenshot: "02-permission-granted"

# Verify we're on login screen (NOT dashboard)
- assertVisible: "Email"
- assertVisible: "Password"
- assertVisible: "Sign In"

# Make sure we're NOT on dashboard yet
- assertNotVisible: "My Events"
- assertNotVisible: "Create Event"

- takeScreenshot: "03-login-screen"

# Enter email
- tapOn: 
    text: "your@email.com"
- inputText: "mallamrakeshkumar@gmail.com"
- waitForAnimationToEnd

# Enter password
- tapOn:
    text: "Enter your password"
- inputText: "Rakeshkumar@123"
- waitForAnimationToEnd

- takeScreenshot: "04-credentials-entered"

# Submit login
- tapOn: "Sign In"

# Wait for response
- waitForAnimationToEnd

- takeScreenshot: "05-after-login-click"

# Wait for dashboard - be very specific
- extendedWaitUntil:
    visible: "My Events"
    timeout: 20000

# Verify we're actually on dashboard
- assertVisible: "My Events"

- takeScreenshot: "06-dashboard-loaded"

# Success!
