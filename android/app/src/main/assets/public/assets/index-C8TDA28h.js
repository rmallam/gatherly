function S0(e,n){for(var s=0;s<n.length;s++){const a=n[s];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const x of d.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var N0={exports:{}},pl={},T0={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ws=Symbol.for("react.element"),kh=Symbol.for("react.portal"),Ph=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),Fh=Symbol.for("react.provider"),Uh=Symbol.for("react.context"),jh=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Vh=Symbol.for("react.memo"),Hh=Symbol.for("react.lazy"),Wc=Symbol.iterator;function Wh(e){return e===null||typeof e!="object"?null:(e=Wc&&e[Wc]||e["@@iterator"],typeof e=="function"?e:null)}var _0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R0=Object.assign,O0={};function Fi(e,n,s){this.props=e,this.context=n,this.refs=O0,this.updater=s||_0}Fi.prototype.isReactComponent={};Fi.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Fi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b0(){}b0.prototype=Fi.prototype;function Iu(e,n,s){this.props=e,this.context=n,this.refs=O0,this.updater=s||_0}var Nu=Iu.prototype=new b0;Nu.constructor=Iu;R0(Nu,Fi.prototype);Nu.isPureReactComponent=!0;var Gc=Array.isArray,M0=Object.prototype.hasOwnProperty,Tu={current:null},D0={key:!0,ref:!0,__self:!0,__source:!0};function k0(e,n,s){var a,c={},d=null,x=null;if(n!=null)for(a in n.ref!==void 0&&(x=n.ref),n.key!==void 0&&(d=""+n.key),n)M0.call(n,a)&&!D0.hasOwnProperty(a)&&(c[a]=n[a]);var y=arguments.length-2;if(y===1)c.children=s;else if(1<y){for(var m=Array(y),p=0;p<y;p++)m[p]=arguments[p+2];c.children=m}if(e&&e.defaultProps)for(a in y=e.defaultProps,y)c[a]===void 0&&(c[a]=y[a]);return{$$typeof:Ws,type:e,key:d,ref:x,props:c,_owner:Tu.current}}function Gh(e,n){return{$$typeof:Ws,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function _u(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ws}function Xh(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return n[s]})}var Xc=/\/+/g;function $l(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Xh(""+e.key):n.toString(36)}function Ro(e,n,s,a,c){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var x=!1;if(e===null)x=!0;else switch(d){case"string":case"number":x=!0;break;case"object":switch(e.$$typeof){case Ws:case kh:x=!0}}if(x)return x=e,c=c(x),e=a===""?"."+$l(x,0):a,Gc(c)?(s="",e!=null&&(s=e.replace(Xc,"$&/")+"/"),Ro(c,n,s,"",function(p){return p})):c!=null&&(_u(c)&&(c=Gh(c,s+(!c.key||x&&x.key===c.key?"":(""+c.key).replace(Xc,"$&/")+"/")+e)),n.push(c)),1;if(x=0,a=a===""?".":a+":",Gc(e))for(var y=0;y<e.length;y++){d=e[y];var m=a+$l(d,y);x+=Ro(d,n,s,m,c)}else if(m=Wh(e),typeof m=="function")for(e=m.call(e),y=0;!(d=e.next()).done;)d=d.value,m=a+$l(d,y++),x+=Ro(d,n,s,m,c);else if(d==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return x}function co(e,n,s){if(e==null)return e;var a=[],c=0;return Ro(e,a,"","",function(d){return n.call(s,d,c++)}),a}function Yh(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Oo={transition:null},Zh={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Oo,ReactCurrentOwner:Tu};function P0(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:co,forEach:function(e,n,s){co(e,function(){n.apply(this,arguments)},s)},count:function(e){var n=0;return co(e,function(){n++}),n},toArray:function(e){return co(e,function(n){return n})||[]},only:function(e){if(!_u(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=Fi;Ee.Fragment=Ph;Ee.Profiler=Lh;Ee.PureComponent=Iu;Ee.StrictMode=Bh;Ee.Suspense=zh;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zh;Ee.act=P0;Ee.cloneElement=function(e,n,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=R0({},e.props),c=e.key,d=e.ref,x=e._owner;if(n!=null){if(n.ref!==void 0&&(d=n.ref,x=Tu.current),n.key!==void 0&&(c=""+n.key),e.type&&e.type.defaultProps)var y=e.type.defaultProps;for(m in n)M0.call(n,m)&&!D0.hasOwnProperty(m)&&(a[m]=n[m]===void 0&&y!==void 0?y[m]:n[m])}var m=arguments.length-2;if(m===1)a.children=s;else if(1<m){y=Array(m);for(var p=0;p<m;p++)y[p]=arguments[p+2];a.children=y}return{$$typeof:Ws,type:e.type,key:c,ref:d,props:a,_owner:x}};Ee.createContext=function(e){return e={$$typeof:Uh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fh,_context:e},e.Consumer=e};Ee.createElement=k0;Ee.createFactory=function(e){var n=k0.bind(null,e);return n.type=e,n};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:jh,render:e}};Ee.isValidElement=_u;Ee.lazy=function(e){return{$$typeof:Hh,_payload:{_status:-1,_result:e},_init:Yh}};Ee.memo=function(e,n){return{$$typeof:Vh,type:e,compare:n===void 0?null:n}};Ee.startTransition=function(e){var n=Oo.transition;Oo.transition={};try{e()}finally{Oo.transition=n}};Ee.unstable_act=P0;Ee.useCallback=function(e,n){return jt.current.useCallback(e,n)};Ee.useContext=function(e){return jt.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};Ee.useEffect=function(e,n){return jt.current.useEffect(e,n)};Ee.useId=function(){return jt.current.useId()};Ee.useImperativeHandle=function(e,n,s){return jt.current.useImperativeHandle(e,n,s)};Ee.useInsertionEffect=function(e,n){return jt.current.useInsertionEffect(e,n)};Ee.useLayoutEffect=function(e,n){return jt.current.useLayoutEffect(e,n)};Ee.useMemo=function(e,n){return jt.current.useMemo(e,n)};Ee.useReducer=function(e,n,s){return jt.current.useReducer(e,n,s)};Ee.useRef=function(e){return jt.current.useRef(e)};Ee.useState=function(e){return jt.current.useState(e)};Ee.useSyncExternalStore=function(e,n,s){return jt.current.useSyncExternalStore(e,n,s)};Ee.useTransition=function(){return jt.current.useTransition()};Ee.version="18.3.1";T0.exports=Ee;var ee=T0.exports;const vn=I0(ee),Kh=S0({__proto__:null,default:vn},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=ee,qh=Symbol.for("react.element"),Jh=Symbol.for("react.fragment"),$h=Object.prototype.hasOwnProperty,e2=Qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t2={key:!0,ref:!0,__self:!0,__source:!0};function B0(e,n,s){var a,c={},d=null,x=null;s!==void 0&&(d=""+s),n.key!==void 0&&(d=""+n.key),n.ref!==void 0&&(x=n.ref);for(a in n)$h.call(n,a)&&!t2.hasOwnProperty(a)&&(c[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)c[a]===void 0&&(c[a]=n[a]);return{$$typeof:qh,type:e,key:d,ref:x,props:c,_owner:e2.current}}pl.Fragment=Jh;pl.jsx=B0;pl.jsxs=B0;N0.exports=pl;var M=N0.exports,Na={},L0={exports:{}},on={},F0={exports:{}},U0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ne,de){var ge=ne.length;ne.push(de);e:for(;0<ge;){var Ge=ge-1>>>1,Se=ne[Ge];if(0<c(Se,de))ne[Ge]=de,ne[ge]=Se,ge=Ge;else break e}}function s(ne){return ne.length===0?null:ne[0]}function a(ne){if(ne.length===0)return null;var de=ne[0],ge=ne.pop();if(ge!==de){ne[0]=ge;e:for(var Ge=0,Se=ne.length,an=Se>>>1;Ge<an;){var Ke=2*(Ge+1)-1,br=ne[Ke],le=Ke+1,er=ne[le];if(0>c(br,ge))le<Se&&0>c(er,br)?(ne[Ge]=er,ne[le]=ge,Ge=le):(ne[Ge]=br,ne[Ke]=ge,Ge=Ke);else if(le<Se&&0>c(er,ge))ne[Ge]=er,ne[le]=ge,Ge=le;else break e}}return de}function c(ne,de){var ge=ne.sortIndex-de.sortIndex;return ge!==0?ge:ne.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var x=Date,y=x.now();e.unstable_now=function(){return x.now()-y}}var m=[],p=[],v=1,A=null,N=3,D=!1,B=!1,P=!1,W=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(ne){for(var de=s(p);de!==null;){if(de.callback===null)a(p);else if(de.startTime<=ne)a(p),de.sortIndex=de.expirationTime,n(m,de);else break;de=s(p)}}function U(ne){if(P=!1,_(ne),!B)if(s(m)!==null)B=!0,et(Z);else{var de=s(p);de!==null&&pe(U,de.startTime-ne)}}function Z(ne,de){B=!1,P&&(P=!1,O($),$=-1),D=!0;var ge=N;try{for(_(de),A=s(m);A!==null&&(!(A.expirationTime>de)||ne&&!Me());){var Ge=A.callback;if(typeof Ge=="function"){A.callback=null,N=A.priorityLevel;var Se=Ge(A.expirationTime<=de);de=e.unstable_now(),typeof Se=="function"?A.callback=Se:A===s(m)&&a(m),_(de)}else a(m);A=s(m)}if(A!==null)var an=!0;else{var Ke=s(p);Ke!==null&&pe(U,Ke.startTime-de),an=!1}return an}finally{A=null,N=ge,D=!1}}var Q=!1,j=null,$=-1,G=5,xe=-1;function Me(){return!(e.unstable_now()-xe<G)}function ue(){if(j!==null){var ne=e.unstable_now();xe=ne;var de=!0;try{de=j(!0,ne)}finally{de?Ce():(Q=!1,j=null)}}else Q=!1}var Ce;if(typeof R=="function")Ce=function(){R(ue)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,H=Ze.port2;Ze.port1.onmessage=ue,Ce=function(){H.postMessage(null)}}else Ce=function(){W(ue,0)};function et(ne){j=ne,Q||(Q=!0,Ce())}function pe(ne,de){$=W(function(){ne(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){B||D||(B=!0,et(Z))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return s(m)},e.unstable_next=function(ne){switch(N){case 1:case 2:case 3:var de=3;break;default:de=N}var ge=N;N=de;try{return ne()}finally{N=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ge=N;N=ne;try{return de()}finally{N=ge}},e.unstable_scheduleCallback=function(ne,de,ge){var Ge=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ge+ge:Ge):ge=Ge,ne){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ge+Se,ne={id:v++,callback:de,priorityLevel:ne,startTime:ge,expirationTime:Se,sortIndex:-1},ge>Ge?(ne.sortIndex=ge,n(p,ne),s(m)===null&&ne===s(p)&&(P?(O($),$=-1):P=!0,pe(U,ge-Ge))):(ne.sortIndex=Se,n(m,ne),B||D||(B=!0,et(Z))),ne},e.unstable_shouldYield=Me,e.unstable_wrapCallback=function(ne){var de=N;return function(){var ge=N;N=de;try{return ne.apply(this,arguments)}finally{N=ge}}}})(U0);F0.exports=U0;var n2=F0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2=ee,sn=n2;function K(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j0=new Set,Is={};function qr(e,n){Oi(e,n),Oi(e+"Capture",n)}function Oi(e,n){for(Is[e]=n,e=0;e<n.length;e++)j0.add(n[e])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=Object.prototype.hasOwnProperty,i2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yc={},Zc={};function s2(e){return Ta.call(Zc,e)?!0:Ta.call(Yc,e)?!1:i2.test(e)?Zc[e]=!0:(Yc[e]=!0,!1)}function o2(e,n,s,a){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function l2(e,n,s,a){if(n===null||typeof n>"u"||o2(e,n,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function zt(e,n,s,a,c,d,x){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=x}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rt[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Rt[n]=new zt(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rt[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rt[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rt[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rt[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rt[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rt[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rt[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ru=/[\-:]([a-z])/g;function Ou(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Ru,Ou);Rt[n]=new zt(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Ru,Ou);Rt[n]=new zt(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Ru,Ou);Rt[n]=new zt(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rt[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rt[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function bu(e,n,s,a){var c=Rt.hasOwnProperty(n)?Rt[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(l2(n,s,c,a)&&(s=null),a||c===null?s2(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,n,s):e.setAttribute(n,s))))}var $n=r2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fo=Symbol.for("react.element"),fi=Symbol.for("react.portal"),di=Symbol.for("react.fragment"),Mu=Symbol.for("react.strict_mode"),_a=Symbol.for("react.profiler"),z0=Symbol.for("react.provider"),V0=Symbol.for("react.context"),Du=Symbol.for("react.forward_ref"),Ra=Symbol.for("react.suspense"),Oa=Symbol.for("react.suspense_list"),ku=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),H0=Symbol.for("react.offscreen"),Kc=Symbol.iterator;function ts(e){return e===null||typeof e!="object"?null:(e=Kc&&e[Kc]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,ea;function cs(e){if(ea===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||""}return`
`+ea+e}var ta=!1;function na(e,n){if(!e||ta)return"";ta=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(p){var a=p}Reflect.construct(e,[],n)}else{try{n.call()}catch(p){a=p}e.call(n.prototype)}else{try{throw Error()}catch(p){a=p}e()}}catch(p){if(p&&a&&typeof p.stack=="string"){for(var c=p.stack.split(`
`),d=a.stack.split(`
`),x=c.length-1,y=d.length-1;1<=x&&0<=y&&c[x]!==d[y];)y--;for(;1<=x&&0<=y;x--,y--)if(c[x]!==d[y]){if(x!==1||y!==1)do if(x--,y--,0>y||c[x]!==d[y]){var m=`
`+c[x].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=x&&0<=y);break}}}finally{ta=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?cs(e):""}function a2(e){switch(e.tag){case 5:return cs(e.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return e=na(e.type,!1),e;case 11:return e=na(e.type.render,!1),e;case 1:return e=na(e.type,!0),e;default:return""}}function ba(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case di:return"Fragment";case fi:return"Portal";case _a:return"Profiler";case Mu:return"StrictMode";case Ra:return"Suspense";case Oa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V0:return(e.displayName||"Context")+".Consumer";case z0:return(e._context.displayName||"Context")+".Provider";case Du:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ku:return n=e.displayName||null,n!==null?n:ba(e.type)||"Memo";case ur:n=e._payload,e=e._init;try{return ba(e(n))}catch{}}return null}function u2(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ba(n);case 8:return n===Mu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ir(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function W0(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function c2(e){var n=W0(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(x){a=""+x,d.call(this,x)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ho(e){e._valueTracker||(e._valueTracker=c2(e))}function G0(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return e&&(a=W0(e)?e.checked?"true":"false":e.value),e=a,e!==s?(n.setValue(e),!0):!1}function zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ma(e,n){var s=n.checked;return $e({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Qc(e,n){var s=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;s=Ir(n.value!=null?n.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function X0(e,n){n=n.checked,n!=null&&bu(e,"checked",n,!1)}function Da(e,n){X0(e,n);var s=Ir(n.value),a=n.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ka(e,n.type,s):n.hasOwnProperty("defaultValue")&&ka(e,n.type,Ir(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function qc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function ka(e,n,s){(n!=="number"||zo(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var fs=Array.isArray;function Si(e,n,s,a){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Ir(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Pa(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(K(91));return $e({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(K(92));if(fs(s)){if(1<s.length)throw Error(K(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Ir(s)}}function Y0(e,n){var s=Ir(n.value),a=Ir(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function $c(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Z0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ba(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Z0(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var go,K0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=go.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ns(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f2=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(e){f2.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ps[n]=ps[e]})});function Q0(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ps.hasOwnProperty(e)&&ps[e]?(""+n).trim():n+"px"}function q0(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=Q0(s,n[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var d2=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function La(e,n){if(n){if(d2[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(K(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(K(61))}if(n.style!=null&&typeof n.style!="object")throw Error(K(62))}}function Fa(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ua=null;function Pu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ja=null,Ii=null,Ni=null;function e1(e){if(e=Ys(e)){if(typeof ja!="function")throw Error(K(280));var n=e.stateNode;n&&(n=Cl(n),ja(e.stateNode,e.type,n))}}function J0(e){Ii?Ni?Ni.push(e):Ni=[e]:Ii=e}function $0(){if(Ii){var e=Ii,n=Ni;if(Ni=Ii=null,e1(e),n)for(e=0;e<n.length;e++)e1(n[e])}}function ef(e,n){return e(n)}function tf(){}var ra=!1;function nf(e,n,s){if(ra)return e(n,s);ra=!0;try{return ef(e,n,s)}finally{ra=!1,(Ii!==null||Ni!==null)&&(tf(),$0())}}function Ts(e,n){var s=e.stateNode;if(s===null)return null;var a=Cl(s);if(a===null)return null;s=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(K(231,n,typeof s));return s}var za=!1;if(Kn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){za=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{za=!1}function h2(e,n,s,a,c,d,x,y,m){var p=Array.prototype.slice.call(arguments,3);try{n.apply(s,p)}catch(v){this.onError(v)}}var ms=!1,Vo=null,Ho=!1,Va=null,g2={onError:function(e){ms=!0,Vo=e}};function x2(e,n,s,a,c,d,x,y,m){ms=!1,Vo=null,h2.apply(g2,arguments)}function p2(e,n,s,a,c,d,x,y,m){if(x2.apply(this,arguments),ms){if(ms){var p=Vo;ms=!1,Vo=null}else throw Error(K(198));Ho||(Ho=!0,Va=p)}}function Jr(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function rf(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function t1(e){if(Jr(e)!==e)throw Error(K(188))}function m2(e){var n=e.alternate;if(!n){if(n=Jr(e),n===null)throw Error(K(188));return n!==e?null:e}for(var s=e,a=n;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return t1(c),e;if(d===a)return t1(c),n;d=d.sibling}throw Error(K(188))}if(s.return!==a.return)s=c,a=d;else{for(var x=!1,y=c.child;y;){if(y===s){x=!0,s=c,a=d;break}if(y===a){x=!0,a=c,s=d;break}y=y.sibling}if(!x){for(y=d.child;y;){if(y===s){x=!0,s=d,a=c;break}if(y===a){x=!0,a=d,s=c;break}y=y.sibling}if(!x)throw Error(K(189))}}if(s.alternate!==a)throw Error(K(190))}if(s.tag!==3)throw Error(K(188));return s.stateNode.current===s?e:n}function sf(e){return e=m2(e),e!==null?of(e):null}function of(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=of(e);if(n!==null)return n;e=e.sibling}return null}var lf=sn.unstable_scheduleCallback,n1=sn.unstable_cancelCallback,w2=sn.unstable_shouldYield,y2=sn.unstable_requestPaint,lt=sn.unstable_now,E2=sn.unstable_getCurrentPriorityLevel,Bu=sn.unstable_ImmediatePriority,af=sn.unstable_UserBlockingPriority,Wo=sn.unstable_NormalPriority,C2=sn.unstable_LowPriority,uf=sn.unstable_IdlePriority,ml=null,jn=null;function A2(e){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(ml,e,void 0,(e.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:I2,v2=Math.log,S2=Math.LN2;function I2(e){return e>>>=0,e===0?32:31-(v2(e)/S2|0)|0}var xo=64,po=4194304;function ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Go(e,n){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,d=e.pingedLanes,x=s&268435455;if(x!==0){var y=x&~c;y!==0?a=ds(y):(d&=x,d!==0&&(a=ds(d)))}else x=s&~c,x!==0?a=ds(x):d!==0&&(a=ds(d));if(a===0)return 0;if(n!==0&&n!==a&&!(n&c)&&(c=a&-a,d=n&-n,c>=d||c===16&&(d&4194240)!==0))return n;if(a&4&&(a|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)s=31-Tn(n),c=1<<s,a|=e[s],n&=~c;return a}function N2(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T2(e,n){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var x=31-Tn(d),y=1<<x,m=c[x];m===-1?(!(y&s)||y&a)&&(c[x]=N2(y,n)):m<=n&&(e.expiredLanes|=y),d&=~y}}function Ha(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cf(){var e=xo;return xo<<=1,!(xo&4194240)&&(xo=64),e}function ia(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Gs(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Tn(n),e[n]=s}function _2(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Tn(s),d=1<<c;n[c]=0,a[c]=-1,e[c]=-1,s&=~d}}function Lu(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var a=31-Tn(s),c=1<<a;c&n|e[a]&n&&(e[a]|=n),s&=~c}}var De=0;function ff(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var df,Fu,hf,gf,xf,Wa=!1,mo=[],pr=null,mr=null,wr=null,_s=new Map,Rs=new Map,fr=[],R2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r1(e,n){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":_s.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(n.pointerId)}}function rs(e,n,s,a,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},n!==null&&(n=Ys(n),n!==null&&Fu(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function O2(e,n,s,a,c){switch(n){case"focusin":return pr=rs(pr,e,n,s,a,c),!0;case"dragenter":return mr=rs(mr,e,n,s,a,c),!0;case"mouseover":return wr=rs(wr,e,n,s,a,c),!0;case"pointerover":var d=c.pointerId;return _s.set(d,rs(_s.get(d)||null,e,n,s,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Rs.set(d,rs(Rs.get(d)||null,e,n,s,a,c)),!0}return!1}function pf(e){var n=jr(e.target);if(n!==null){var s=Jr(n);if(s!==null){if(n=s.tag,n===13){if(n=rf(s),n!==null){e.blockedOn=n,xf(e.priority,function(){hf(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ga(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Ua=a,s.target.dispatchEvent(a),Ua=null}else return n=Ys(s),n!==null&&Fu(n),e.blockedOn=s,!1;n.shift()}return!0}function i1(e,n,s){bo(e)&&s.delete(n)}function b2(){Wa=!1,pr!==null&&bo(pr)&&(pr=null),mr!==null&&bo(mr)&&(mr=null),wr!==null&&bo(wr)&&(wr=null),_s.forEach(i1),Rs.forEach(i1)}function is(e,n){e.blockedOn===n&&(e.blockedOn=null,Wa||(Wa=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,b2)))}function Os(e){function n(c){return is(c,e)}if(0<mo.length){is(mo[0],e);for(var s=1;s<mo.length;s++){var a=mo[s];a.blockedOn===e&&(a.blockedOn=null)}}for(pr!==null&&is(pr,e),mr!==null&&is(mr,e),wr!==null&&is(wr,e),_s.forEach(n),Rs.forEach(n),s=0;s<fr.length;s++)a=fr[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<fr.length&&(s=fr[0],s.blockedOn===null);)pf(s),s.blockedOn===null&&fr.shift()}var Ti=$n.ReactCurrentBatchConfig,Xo=!0;function M2(e,n,s,a){var c=De,d=Ti.transition;Ti.transition=null;try{De=1,Uu(e,n,s,a)}finally{De=c,Ti.transition=d}}function D2(e,n,s,a){var c=De,d=Ti.transition;Ti.transition=null;try{De=4,Uu(e,n,s,a)}finally{De=c,Ti.transition=d}}function Uu(e,n,s,a){if(Xo){var c=Ga(e,n,s,a);if(c===null)ga(e,n,a,Yo,s),r1(e,a);else if(O2(c,e,n,s,a))a.stopPropagation();else if(r1(e,a),n&4&&-1<R2.indexOf(e)){for(;c!==null;){var d=Ys(c);if(d!==null&&df(d),d=Ga(e,n,s,a),d===null&&ga(e,n,a,Yo,s),d===c)break;c=d}c!==null&&a.stopPropagation()}else ga(e,n,a,null,s)}}var Yo=null;function Ga(e,n,s,a){if(Yo=null,e=Pu(a),e=jr(e),e!==null)if(n=Jr(e),n===null)e=null;else if(s=n.tag,s===13){if(e=rf(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Yo=e,null}function mf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E2()){case Bu:return 1;case af:return 4;case Wo:case C2:return 16;case uf:return 536870912;default:return 16}default:return 16}}var hr=null,ju=null,Mo=null;function wf(){if(Mo)return Mo;var e,n=ju,s=n.length,a,c="value"in hr?hr.value:hr.textContent,d=c.length;for(e=0;e<s&&n[e]===c[e];e++);var x=s-e;for(a=1;a<=x&&n[s-a]===c[d-a];a++);return Mo=c.slice(e,1<a?1-a:void 0)}function Do(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function wo(){return!0}function s1(){return!1}function ln(e){function n(s,a,c,d,x){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(s=e[y],this[y]=s?s(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?wo:s1,this.isPropagationStopped=s1,this}return $e(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zu=ln(Ui),Xs=$e({},Ui,{view:0,detail:0}),k2=ln(Xs),sa,oa,ss,wl=$e({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(sa=e.screenX-ss.screenX,oa=e.screenY-ss.screenY):oa=sa=0,ss=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),o1=ln(wl),P2=$e({},wl,{dataTransfer:0}),B2=ln(P2),L2=$e({},Xs,{relatedTarget:0}),la=ln(L2),F2=$e({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),U2=ln(F2),j2=$e({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z2=ln(j2),V2=$e({},Ui,{data:0}),l1=ln(V2),H2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X2(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=G2[e])?!!n[e]:!1}function Vu(){return X2}var Y2=$e({},Xs,{key:function(e){if(e.key){var n=H2[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Do(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vu,charCode:function(e){return e.type==="keypress"?Do(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Do(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Z2=ln(Y2),K2=$e({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a1=ln(K2),Q2=$e({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vu}),q2=ln(Q2),J2=$e({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),$2=ln(J2),eg=$e({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tg=ln(eg),ng=[9,13,27,32],Hu=Kn&&"CompositionEvent"in window,ws=null;Kn&&"documentMode"in document&&(ws=document.documentMode);var rg=Kn&&"TextEvent"in window&&!ws,yf=Kn&&(!Hu||ws&&8<ws&&11>=ws),u1=" ",c1=!1;function Ef(e,n){switch(e){case"keyup":return ng.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hi=!1;function ig(e,n){switch(e){case"compositionend":return Cf(n);case"keypress":return n.which!==32?null:(c1=!0,u1);case"textInput":return e=n.data,e===u1&&c1?null:e;default:return null}}function sg(e,n){if(hi)return e==="compositionend"||!Hu&&Ef(e,n)?(e=wf(),Mo=ju=hr=null,hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yf&&n.locale!=="ko"?null:n.data;default:return null}}var og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!og[e.type]:n==="textarea"}function Af(e,n,s,a){J0(a),n=Zo(n,"onChange"),0<n.length&&(s=new zu("onChange","change",null,s,a),e.push({event:s,listeners:n}))}var ys=null,bs=null;function lg(e){Df(e,0)}function yl(e){var n=pi(e);if(G0(n))return e}function ag(e,n){if(e==="change")return n}var vf=!1;if(Kn){var aa;if(Kn){var ua="oninput"in document;if(!ua){var d1=document.createElement("div");d1.setAttribute("oninput","return;"),ua=typeof d1.oninput=="function"}aa=ua}else aa=!1;vf=aa&&(!document.documentMode||9<document.documentMode)}function h1(){ys&&(ys.detachEvent("onpropertychange",Sf),bs=ys=null)}function Sf(e){if(e.propertyName==="value"&&yl(bs)){var n=[];Af(n,bs,e,Pu(e)),nf(lg,n)}}function ug(e,n,s){e==="focusin"?(h1(),ys=n,bs=s,ys.attachEvent("onpropertychange",Sf)):e==="focusout"&&h1()}function cg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yl(bs)}function fg(e,n){if(e==="click")return yl(n)}function dg(e,n){if(e==="input"||e==="change")return yl(n)}function hg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rn=typeof Object.is=="function"?Object.is:hg;function Ms(e,n){if(Rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!Ta.call(n,c)||!Rn(e[c],n[c]))return!1}return!0}function g1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function x1(e,n){var s=g1(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=n&&a>=n)return{node:s,offset:n-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=g1(s)}}function If(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?If(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Nf(){for(var e=window,n=zo();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=zo(e.document)}return n}function Wu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function gg(e){var n=Nf(),s=e.focusedElem,a=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&If(s.ownerDocument.documentElement,s)){if(a!==null&&Wu(s)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!e.extend&&d>a&&(c=a,a=d,d=c),c=x1(s,d);var x=x1(s,a);c&&x&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),d>a?(e.addRange(n),e.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xg=Kn&&"documentMode"in document&&11>=document.documentMode,gi=null,Xa=null,Es=null,Ya=!1;function p1(e,n,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ya||gi==null||gi!==zo(a)||(a=gi,"selectionStart"in a&&Wu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Es&&Ms(Es,a)||(Es=a,a=Zo(Xa,"onSelect"),0<a.length&&(n=new zu("onSelect","select",null,n,s),e.push({event:n,listeners:a}),n.target=gi)))}function yo(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var xi={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},ca={},Tf={};Kn&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function El(e){if(ca[e])return ca[e];if(!xi[e])return e;var n=xi[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tf)return ca[e]=n[s];return e}var _f=El("animationend"),Rf=El("animationiteration"),Of=El("animationstart"),bf=El("transitionend"),Mf=new Map,m1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,n){Mf.set(e,n),qr(n,[e])}for(var fa=0;fa<m1.length;fa++){var da=m1[fa],pg=da.toLowerCase(),mg=da[0].toUpperCase()+da.slice(1);Tr(pg,"on"+mg)}Tr(_f,"onAnimationEnd");Tr(Rf,"onAnimationIteration");Tr(Of,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(bf,"onTransitionEnd");Oi("onMouseEnter",["mouseout","mouseover"]);Oi("onMouseLeave",["mouseout","mouseover"]);Oi("onPointerEnter",["pointerout","pointerover"]);Oi("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wg=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function w1(e,n,s){var a=e.type||"unknown-event";e.currentTarget=s,p2(a,n,void 0,e),e.currentTarget=null}function Df(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var d=void 0;if(n)for(var x=a.length-1;0<=x;x--){var y=a[x],m=y.instance,p=y.currentTarget;if(y=y.listener,m!==d&&c.isPropagationStopped())break e;w1(c,y,p),d=m}else for(x=0;x<a.length;x++){if(y=a[x],m=y.instance,p=y.currentTarget,y=y.listener,m!==d&&c.isPropagationStopped())break e;w1(c,y,p),d=m}}}if(Ho)throw e=Va,Ho=!1,Va=null,e}function Ve(e,n){var s=n[Ja];s===void 0&&(s=n[Ja]=new Set);var a=e+"__bubble";s.has(a)||(kf(n,e,2,!1),s.add(a))}function ha(e,n,s){var a=0;n&&(a|=4),kf(s,e,a,n)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Ds(e){if(!e[Eo]){e[Eo]=!0,j0.forEach(function(s){s!=="selectionchange"&&(wg.has(s)||ha(s,!1,e),ha(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Eo]||(n[Eo]=!0,ha("selectionchange",!1,n))}}function kf(e,n,s,a){switch(mf(n)){case 1:var c=M2;break;case 4:c=D2;break;default:c=Uu}s=c.bind(null,n,s,e),c=void 0,!za||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function ga(e,n,s,a,c){var d=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var y=a.stateNode.containerInfo;if(y===c||y.nodeType===8&&y.parentNode===c)break;if(x===4)for(x=a.return;x!==null;){var m=x.tag;if((m===3||m===4)&&(m=x.stateNode.containerInfo,m===c||m.nodeType===8&&m.parentNode===c))return;x=x.return}for(;y!==null;){if(x=jr(y),x===null)return;if(m=x.tag,m===5||m===6){a=d=x;continue e}y=y.parentNode}}a=a.return}nf(function(){var p=d,v=Pu(s),A=[];e:{var N=Mf.get(e);if(N!==void 0){var D=zu,B=e;switch(e){case"keypress":if(Do(s)===0)break e;case"keydown":case"keyup":D=Z2;break;case"focusin":B="focus",D=la;break;case"focusout":B="blur",D=la;break;case"beforeblur":case"afterblur":D=la;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=o1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=B2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=q2;break;case _f:case Rf:case Of:D=U2;break;case bf:D=$2;break;case"scroll":D=k2;break;case"wheel":D=tg;break;case"copy":case"cut":case"paste":D=z2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=a1}var P=(n&4)!==0,W=!P&&e==="scroll",O=P?N!==null?N+"Capture":null:N;P=[];for(var R=p,_;R!==null;){_=R;var U=_.stateNode;if(_.tag===5&&U!==null&&(_=U,O!==null&&(U=Ts(R,O),U!=null&&P.push(ks(R,U,_)))),W)break;R=R.return}0<P.length&&(N=new D(N,B,null,s,v),A.push({event:N,listeners:P}))}}if(!(n&7)){e:{if(N=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",N&&s!==Ua&&(B=s.relatedTarget||s.fromElement)&&(jr(B)||B[Qn]))break e;if((D||N)&&(N=v.window===v?v:(N=v.ownerDocument)?N.defaultView||N.parentWindow:window,D?(B=s.relatedTarget||s.toElement,D=p,B=B?jr(B):null,B!==null&&(W=Jr(B),B!==W||B.tag!==5&&B.tag!==6)&&(B=null)):(D=null,B=p),D!==B)){if(P=o1,U="onMouseLeave",O="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(P=a1,U="onPointerLeave",O="onPointerEnter",R="pointer"),W=D==null?N:pi(D),_=B==null?N:pi(B),N=new P(U,R+"leave",D,s,v),N.target=W,N.relatedTarget=_,U=null,jr(v)===p&&(P=new P(O,R+"enter",B,s,v),P.target=_,P.relatedTarget=W,U=P),W=U,D&&B)t:{for(P=D,O=B,R=0,_=P;_;_=ci(_))R++;for(_=0,U=O;U;U=ci(U))_++;for(;0<R-_;)P=ci(P),R--;for(;0<_-R;)O=ci(O),_--;for(;R--;){if(P===O||O!==null&&P===O.alternate)break t;P=ci(P),O=ci(O)}P=null}else P=null;D!==null&&y1(A,N,D,P,!1),B!==null&&W!==null&&y1(A,W,B,P,!0)}}e:{if(N=p?pi(p):window,D=N.nodeName&&N.nodeName.toLowerCase(),D==="select"||D==="input"&&N.type==="file")var Z=ag;else if(f1(N))if(vf)Z=dg;else{Z=cg;var Q=ug}else(D=N.nodeName)&&D.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(Z=fg);if(Z&&(Z=Z(e,p))){Af(A,Z,s,v);break e}Q&&Q(e,N,p),e==="focusout"&&(Q=N._wrapperState)&&Q.controlled&&N.type==="number"&&ka(N,"number",N.value)}switch(Q=p?pi(p):window,e){case"focusin":(f1(Q)||Q.contentEditable==="true")&&(gi=Q,Xa=p,Es=null);break;case"focusout":Es=Xa=gi=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,p1(A,s,v);break;case"selectionchange":if(xg)break;case"keydown":case"keyup":p1(A,s,v)}var j;if(Hu)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else hi?Ef(e,s)&&($="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&($="onCompositionStart");$&&(yf&&s.locale!=="ko"&&(hi||$!=="onCompositionStart"?$==="onCompositionEnd"&&hi&&(j=wf()):(hr=v,ju="value"in hr?hr.value:hr.textContent,hi=!0)),Q=Zo(p,$),0<Q.length&&($=new l1($,e,null,s,v),A.push({event:$,listeners:Q}),j?$.data=j:(j=Cf(s),j!==null&&($.data=j)))),(j=rg?ig(e,s):sg(e,s))&&(p=Zo(p,"onBeforeInput"),0<p.length&&(v=new l1("onBeforeInput","beforeinput",null,s,v),A.push({event:v,listeners:p}),v.data=j))}Df(A,n)})}function ks(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Zo(e,n){for(var s=n+"Capture",a=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Ts(e,s),d!=null&&a.unshift(ks(e,d,c)),d=Ts(e,n),d!=null&&a.push(ks(e,d,c))),e=e.return}return a}function ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function y1(e,n,s,a,c){for(var d=n._reactName,x=[];s!==null&&s!==a;){var y=s,m=y.alternate,p=y.stateNode;if(m!==null&&m===a)break;y.tag===5&&p!==null&&(y=p,c?(m=Ts(s,d),m!=null&&x.unshift(ks(s,m,y))):c||(m=Ts(s,d),m!=null&&x.push(ks(s,m,y)))),s=s.return}x.length!==0&&e.push({event:n,listeners:x})}var yg=/\r\n?/g,Eg=/\u0000|\uFFFD/g;function E1(e){return(typeof e=="string"?e:""+e).replace(yg,`
`).replace(Eg,"")}function Co(e,n,s){if(n=E1(n),E1(e)!==n&&s)throw Error(K(425))}function Ko(){}var Za=null,Ka=null;function Qa(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qa=typeof setTimeout=="function"?setTimeout:void 0,Cg=typeof clearTimeout=="function"?clearTimeout:void 0,C1=typeof Promise=="function"?Promise:void 0,Ag=typeof queueMicrotask=="function"?queueMicrotask:typeof C1<"u"?function(e){return C1.resolve(null).then(e).catch(vg)}:qa;function vg(e){setTimeout(function(){throw e})}function xa(e,n){var s=n,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),Os(n);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);Os(n)}function yr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function A1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var ji=Math.random().toString(36).slice(2),Un="__reactFiber$"+ji,Ps="__reactProps$"+ji,Qn="__reactContainer$"+ji,Ja="__reactEvents$"+ji,Sg="__reactListeners$"+ji,Ig="__reactHandles$"+ji;function jr(e){var n=e[Un];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Qn]||s[Un]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=A1(e);e!==null;){if(s=e[Un])return s;e=A1(e)}return n}e=s,s=e.parentNode}return null}function Ys(e){return e=e[Un]||e[Qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function Cl(e){return e[Ps]||null}var $a=[],mi=-1;function _r(e){return{current:e}}function We(e){0>mi||(e.current=$a[mi],$a[mi]=null,mi--)}function je(e,n){mi++,$a[mi]=e.current,e.current=n}var Nr={},Pt=_r(Nr),Qt=_r(!1),Gr=Nr;function bi(e,n){var s=e.type.contextTypes;if(!s)return Nr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in s)c[d]=n[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function qt(e){return e=e.childContextTypes,e!=null}function Qo(){We(Qt),We(Pt)}function v1(e,n,s){if(Pt.current!==Nr)throw Error(K(168));je(Pt,n),je(Qt,s)}function Pf(e,n,s){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(K(108,u2(e)||"Unknown",c));return $e({},s,a)}function qo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,Gr=Pt.current,je(Pt,e),je(Qt,Qt.current),!0}function S1(e,n,s){var a=e.stateNode;if(!a)throw Error(K(169));s?(e=Pf(e,n,Gr),a.__reactInternalMemoizedMergedChildContext=e,We(Qt),We(Pt),je(Pt,e)):We(Qt),je(Qt,s)}var Gn=null,Al=!1,pa=!1;function Bf(e){Gn===null?Gn=[e]:Gn.push(e)}function Ng(e){Al=!0,Bf(e)}function Rr(){if(!pa&&Gn!==null){pa=!0;var e=0,n=De;try{var s=Gn;for(De=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Gn=null,Al=!1}catch(c){throw Gn!==null&&(Gn=Gn.slice(e+1)),lf(Bu,Rr),c}finally{De=n,pa=!1}}return null}var wi=[],yi=0,Jo=null,$o=0,hn=[],gn=0,Xr=null,Xn=1,Yn="";function Fr(e,n){wi[yi++]=$o,wi[yi++]=Jo,Jo=e,$o=n}function Lf(e,n,s){hn[gn++]=Xn,hn[gn++]=Yn,hn[gn++]=Xr,Xr=e;var a=Xn;e=Yn;var c=32-Tn(a)-1;a&=~(1<<c),s+=1;var d=32-Tn(n)+c;if(30<d){var x=c-c%5;d=(a&(1<<x)-1).toString(32),a>>=x,c-=x,Xn=1<<32-Tn(n)+c|s<<c|a,Yn=d+e}else Xn=1<<d|s<<c|a,Yn=e}function Gu(e){e.return!==null&&(Fr(e,1),Lf(e,1,0))}function Xu(e){for(;e===Jo;)Jo=wi[--yi],wi[yi]=null,$o=wi[--yi],wi[yi]=null;for(;e===Xr;)Xr=hn[--gn],hn[gn]=null,Yn=hn[--gn],hn[gn]=null,Xn=hn[--gn],hn[gn]=null}var rn=null,nn=null,Ye=!1,Nn=null;function Ff(e,n){var s=xn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function I1(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,rn=e,nn=yr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,rn=e,nn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Xr!==null?{id:Xn,overflow:Yn}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=xn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,rn=e,nn=null,!0):!1;default:return!1}}function eu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tu(e){if(Ye){var n=nn;if(n){var s=n;if(!I1(e,n)){if(eu(e))throw Error(K(418));n=yr(s.nextSibling);var a=rn;n&&I1(e,n)?Ff(a,s):(e.flags=e.flags&-4097|2,Ye=!1,rn=e)}}else{if(eu(e))throw Error(K(418));e.flags=e.flags&-4097|2,Ye=!1,rn=e}}}function N1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rn=e}function Ao(e){if(e!==rn)return!1;if(!Ye)return N1(e),Ye=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Qa(e.type,e.memoizedProps)),n&&(n=nn)){if(eu(e))throw Uf(),Error(K(418));for(;n;)Ff(e,n),n=yr(n.nextSibling)}if(N1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){nn=yr(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}nn=null}}else nn=rn?yr(e.stateNode.nextSibling):null;return!0}function Uf(){for(var e=nn;e;)e=yr(e.nextSibling)}function Mi(){nn=rn=null,Ye=!1}function Yu(e){Nn===null?Nn=[e]:Nn.push(e)}var Tg=$n.ReactCurrentBatchConfig;function os(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(K(309));var a=s.stateNode}if(!a)throw Error(K(147,e));var c=a,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(x){var y=c.refs;x===null?delete y[d]:y[d]=x},n._stringRef=d,n)}if(typeof e!="string")throw Error(K(284));if(!s._owner)throw Error(K(290,e))}return e}function vo(e,n){throw e=Object.prototype.toString.call(n),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function T1(e){var n=e._init;return n(e._payload)}function jf(e){function n(O,R){if(e){var _=O.deletions;_===null?(O.deletions=[R],O.flags|=16):_.push(R)}}function s(O,R){if(!e)return null;for(;R!==null;)n(O,R),R=R.sibling;return null}function a(O,R){for(O=new Map;R!==null;)R.key!==null?O.set(R.key,R):O.set(R.index,R),R=R.sibling;return O}function c(O,R){return O=vr(O,R),O.index=0,O.sibling=null,O}function d(O,R,_){return O.index=_,e?(_=O.alternate,_!==null?(_=_.index,_<R?(O.flags|=2,R):_):(O.flags|=2,R)):(O.flags|=1048576,R)}function x(O){return e&&O.alternate===null&&(O.flags|=2),O}function y(O,R,_,U){return R===null||R.tag!==6?(R=va(_,O.mode,U),R.return=O,R):(R=c(R,_),R.return=O,R)}function m(O,R,_,U){var Z=_.type;return Z===di?v(O,R,_.props.children,U,_.key):R!==null&&(R.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ur&&T1(Z)===R.type)?(U=c(R,_.props),U.ref=os(O,R,_),U.return=O,U):(U=jo(_.type,_.key,_.props,null,O.mode,U),U.ref=os(O,R,_),U.return=O,U)}function p(O,R,_,U){return R===null||R.tag!==4||R.stateNode.containerInfo!==_.containerInfo||R.stateNode.implementation!==_.implementation?(R=Sa(_,O.mode,U),R.return=O,R):(R=c(R,_.children||[]),R.return=O,R)}function v(O,R,_,U,Z){return R===null||R.tag!==7?(R=Wr(_,O.mode,U,Z),R.return=O,R):(R=c(R,_),R.return=O,R)}function A(O,R,_){if(typeof R=="string"&&R!==""||typeof R=="number")return R=va(""+R,O.mode,_),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case fo:return _=jo(R.type,R.key,R.props,null,O.mode,_),_.ref=os(O,null,R),_.return=O,_;case fi:return R=Sa(R,O.mode,_),R.return=O,R;case ur:var U=R._init;return A(O,U(R._payload),_)}if(fs(R)||ts(R))return R=Wr(R,O.mode,_,null),R.return=O,R;vo(O,R)}return null}function N(O,R,_,U){var Z=R!==null?R.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return Z!==null?null:y(O,R,""+_,U);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case fo:return _.key===Z?m(O,R,_,U):null;case fi:return _.key===Z?p(O,R,_,U):null;case ur:return Z=_._init,N(O,R,Z(_._payload),U)}if(fs(_)||ts(_))return Z!==null?null:v(O,R,_,U,null);vo(O,_)}return null}function D(O,R,_,U,Z){if(typeof U=="string"&&U!==""||typeof U=="number")return O=O.get(_)||null,y(R,O,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case fo:return O=O.get(U.key===null?_:U.key)||null,m(R,O,U,Z);case fi:return O=O.get(U.key===null?_:U.key)||null,p(R,O,U,Z);case ur:var Q=U._init;return D(O,R,_,Q(U._payload),Z)}if(fs(U)||ts(U))return O=O.get(_)||null,v(R,O,U,Z,null);vo(R,U)}return null}function B(O,R,_,U){for(var Z=null,Q=null,j=R,$=R=0,G=null;j!==null&&$<_.length;$++){j.index>$?(G=j,j=null):G=j.sibling;var xe=N(O,j,_[$],U);if(xe===null){j===null&&(j=G);break}e&&j&&xe.alternate===null&&n(O,j),R=d(xe,R,$),Q===null?Z=xe:Q.sibling=xe,Q=xe,j=G}if($===_.length)return s(O,j),Ye&&Fr(O,$),Z;if(j===null){for(;$<_.length;$++)j=A(O,_[$],U),j!==null&&(R=d(j,R,$),Q===null?Z=j:Q.sibling=j,Q=j);return Ye&&Fr(O,$),Z}for(j=a(O,j);$<_.length;$++)G=D(j,O,$,_[$],U),G!==null&&(e&&G.alternate!==null&&j.delete(G.key===null?$:G.key),R=d(G,R,$),Q===null?Z=G:Q.sibling=G,Q=G);return e&&j.forEach(function(Me){return n(O,Me)}),Ye&&Fr(O,$),Z}function P(O,R,_,U){var Z=ts(_);if(typeof Z!="function")throw Error(K(150));if(_=Z.call(_),_==null)throw Error(K(151));for(var Q=Z=null,j=R,$=R=0,G=null,xe=_.next();j!==null&&!xe.done;$++,xe=_.next()){j.index>$?(G=j,j=null):G=j.sibling;var Me=N(O,j,xe.value,U);if(Me===null){j===null&&(j=G);break}e&&j&&Me.alternate===null&&n(O,j),R=d(Me,R,$),Q===null?Z=Me:Q.sibling=Me,Q=Me,j=G}if(xe.done)return s(O,j),Ye&&Fr(O,$),Z;if(j===null){for(;!xe.done;$++,xe=_.next())xe=A(O,xe.value,U),xe!==null&&(R=d(xe,R,$),Q===null?Z=xe:Q.sibling=xe,Q=xe);return Ye&&Fr(O,$),Z}for(j=a(O,j);!xe.done;$++,xe=_.next())xe=D(j,O,$,xe.value,U),xe!==null&&(e&&xe.alternate!==null&&j.delete(xe.key===null?$:xe.key),R=d(xe,R,$),Q===null?Z=xe:Q.sibling=xe,Q=xe);return e&&j.forEach(function(ue){return n(O,ue)}),Ye&&Fr(O,$),Z}function W(O,R,_,U){if(typeof _=="object"&&_!==null&&_.type===di&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case fo:e:{for(var Z=_.key,Q=R;Q!==null;){if(Q.key===Z){if(Z=_.type,Z===di){if(Q.tag===7){s(O,Q.sibling),R=c(Q,_.props.children),R.return=O,O=R;break e}}else if(Q.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ur&&T1(Z)===Q.type){s(O,Q.sibling),R=c(Q,_.props),R.ref=os(O,Q,_),R.return=O,O=R;break e}s(O,Q);break}else n(O,Q);Q=Q.sibling}_.type===di?(R=Wr(_.props.children,O.mode,U,_.key),R.return=O,O=R):(U=jo(_.type,_.key,_.props,null,O.mode,U),U.ref=os(O,R,_),U.return=O,O=U)}return x(O);case fi:e:{for(Q=_.key;R!==null;){if(R.key===Q)if(R.tag===4&&R.stateNode.containerInfo===_.containerInfo&&R.stateNode.implementation===_.implementation){s(O,R.sibling),R=c(R,_.children||[]),R.return=O,O=R;break e}else{s(O,R);break}else n(O,R);R=R.sibling}R=Sa(_,O.mode,U),R.return=O,O=R}return x(O);case ur:return Q=_._init,W(O,R,Q(_._payload),U)}if(fs(_))return B(O,R,_,U);if(ts(_))return P(O,R,_,U);vo(O,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,R!==null&&R.tag===6?(s(O,R.sibling),R=c(R,_),R.return=O,O=R):(s(O,R),R=va(_,O.mode,U),R.return=O,O=R),x(O)):s(O,R)}return W}var Di=jf(!0),zf=jf(!1),el=_r(null),tl=null,Ei=null,Zu=null;function Ku(){Zu=Ei=tl=null}function Qu(e){var n=el.current;We(el),e._currentValue=n}function nu(e,n,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===s)break;e=e.return}}function _i(e,n){tl=e,Zu=Ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Kt=!0),e.firstContext=null)}function mn(e){var n=e._currentValue;if(Zu!==e)if(e={context:e,memoizedValue:n,next:null},Ei===null){if(tl===null)throw Error(K(308));Ei=e,tl.dependencies={lanes:0,firstContext:e}}else Ei=Ei.next=e;return n}var zr=null;function qu(e){zr===null?zr=[e]:zr.push(e)}function Vf(e,n,s,a){var c=n.interleaved;return c===null?(s.next=s,qu(n)):(s.next=c.next,c.next=s),n.interleaved=s,qn(e,a)}function qn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var cr=!1;function Ju(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Er(e,n,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Te&2){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,qn(e,s)}return c=a.interleaved,c===null?(n.next=n,qu(a)):(n.next=c.next,c.next=n),a.interleaved=n,qn(e,s)}function ko(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,Lu(e,s)}}function _1(e,n){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var x={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?c=d=x:d=d.next=x,s=s.next}while(s!==null);d===null?c=d=n:d=d.next=n}else c=d=n;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function nl(e,n,s,a){var c=e.updateQueue;cr=!1;var d=c.firstBaseUpdate,x=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var m=y,p=m.next;m.next=null,x===null?d=p:x.next=p,x=m;var v=e.alternate;v!==null&&(v=v.updateQueue,y=v.lastBaseUpdate,y!==x&&(y===null?v.firstBaseUpdate=p:y.next=p,v.lastBaseUpdate=m))}if(d!==null){var A=c.baseState;x=0,v=p=m=null,y=d;do{var N=y.lane,D=y.eventTime;if((a&N)===N){v!==null&&(v=v.next={eventTime:D,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var B=e,P=y;switch(N=n,D=s,P.tag){case 1:if(B=P.payload,typeof B=="function"){A=B.call(D,A,N);break e}A=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=P.payload,N=typeof B=="function"?B.call(D,A,N):B,N==null)break e;A=$e({},A,N);break e;case 2:cr=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,N=c.effects,N===null?c.effects=[y]:N.push(y))}else D={eventTime:D,lane:N,tag:y.tag,payload:y.payload,callback:y.callback,next:null},v===null?(p=v=D,m=A):v=v.next=D,x|=N;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;N=y,y=N.next,N.next=null,c.lastBaseUpdate=N,c.shared.pending=null}}while(!0);if(v===null&&(m=A),c.baseState=m,c.firstBaseUpdate=p,c.lastBaseUpdate=v,n=c.shared.interleaved,n!==null){c=n;do x|=c.lane,c=c.next;while(c!==n)}else d===null&&(c.shared.lanes=0);Zr|=x,e.lanes=x,e.memoizedState=A}}function R1(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(K(191,c));c.call(a)}}}var Zs={},zn=_r(Zs),Bs=_r(Zs),Ls=_r(Zs);function Vr(e){if(e===Zs)throw Error(K(174));return e}function $u(e,n){switch(je(Ls,n),je(Bs,e),je(zn,Zs),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ba(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ba(n,e)}We(zn),je(zn,n)}function ki(){We(zn),We(Bs),We(Ls)}function Wf(e){Vr(Ls.current);var n=Vr(zn.current),s=Ba(n,e.type);n!==s&&(je(Bs,e),je(zn,s))}function ec(e){Bs.current===e&&(We(zn),We(Bs))}var qe=_r(0);function rl(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ma=[];function tc(){for(var e=0;e<ma.length;e++)ma[e]._workInProgressVersionPrimary=null;ma.length=0}var Po=$n.ReactCurrentDispatcher,wa=$n.ReactCurrentBatchConfig,Yr=0,Je=null,gt=null,Et=null,il=!1,Cs=!1,Fs=0,_g=0;function Mt(){throw Error(K(321))}function nc(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Rn(e[s],n[s]))return!1;return!0}function rc(e,n,s,a,c,d){if(Yr=d,Je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Po.current=e===null||e.memoizedState===null?Mg:Dg,e=s(a,c),Cs){d=0;do{if(Cs=!1,Fs=0,25<=d)throw Error(K(301));d+=1,Et=gt=null,n.updateQueue=null,Po.current=kg,e=s(a,c)}while(Cs)}if(Po.current=sl,n=gt!==null&&gt.next!==null,Yr=0,Et=gt=Je=null,il=!1,n)throw Error(K(300));return e}function ic(){var e=Fs!==0;return Fs=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Je.memoizedState=Et=e:Et=Et.next=e,Et}function wn(){if(gt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var n=Et===null?Je.memoizedState:Et.next;if(n!==null)Et=n,gt=e;else{if(e===null)throw Error(K(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Et===null?Je.memoizedState=Et=e:Et=Et.next=e}return Et}function Us(e,n){return typeof n=="function"?n(e):n}function ya(e){var n=wn(),s=n.queue;if(s===null)throw Error(K(311));s.lastRenderedReducer=e;var a=gt,c=a.baseQueue,d=s.pending;if(d!==null){if(c!==null){var x=c.next;c.next=d.next,d.next=x}a.baseQueue=c=d,s.pending=null}if(c!==null){d=c.next,a=a.baseState;var y=x=null,m=null,p=d;do{var v=p.lane;if((Yr&v)===v)m!==null&&(m=m.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),a=p.hasEagerState?p.eagerState:e(a,p.action);else{var A={lane:v,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};m===null?(y=m=A,x=a):m=m.next=A,Je.lanes|=v,Zr|=v}p=p.next}while(p!==null&&p!==d);m===null?x=a:m.next=y,Rn(a,n.memoizedState)||(Kt=!0),n.memoizedState=a,n.baseState=x,n.baseQueue=m,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do d=c.lane,Je.lanes|=d,Zr|=d,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Ea(e){var n=wn(),s=n.queue;if(s===null)throw Error(K(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,d=n.memoizedState;if(c!==null){s.pending=null;var x=c=c.next;do d=e(d,x.action),x=x.next;while(x!==c);Rn(d,n.memoizedState)||(Kt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,a]}function Gf(){}function Xf(e,n){var s=Je,a=wn(),c=n(),d=!Rn(a.memoizedState,c);if(d&&(a.memoizedState=c,Kt=!0),a=a.queue,sc(Kf.bind(null,s,a,e),[e]),a.getSnapshot!==n||d||Et!==null&&Et.memoizedState.tag&1){if(s.flags|=2048,js(9,Zf.bind(null,s,a,c,n),void 0,null),Ct===null)throw Error(K(349));Yr&30||Yf(s,n,c)}return c}function Yf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Je.updateQueue,n===null?(n={lastEffect:null,stores:null},Je.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Zf(e,n,s,a){n.value=s,n.getSnapshot=a,Qf(n)&&qf(e)}function Kf(e,n,s){return s(function(){Qf(n)&&qf(e)})}function Qf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Rn(e,s)}catch{return!0}}function qf(e){var n=qn(e,1);n!==null&&_n(n,e,1,-1)}function O1(e){var n=Fn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:e},n.queue=e,e=e.dispatch=bg.bind(null,Je,e),[n.memoizedState,e]}function js(e,n,s,a){return e={tag:e,create:n,destroy:s,deps:a,next:null},n=Je.updateQueue,n===null?(n={lastEffect:null,stores:null},Je.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,n.lastEffect=e)),e}function Jf(){return wn().memoizedState}function Bo(e,n,s,a){var c=Fn();Je.flags|=e,c.memoizedState=js(1|n,s,void 0,a===void 0?null:a)}function vl(e,n,s,a){var c=wn();a=a===void 0?null:a;var d=void 0;if(gt!==null){var x=gt.memoizedState;if(d=x.destroy,a!==null&&nc(a,x.deps)){c.memoizedState=js(n,s,d,a);return}}Je.flags|=e,c.memoizedState=js(1|n,s,d,a)}function b1(e,n){return Bo(8390656,8,e,n)}function sc(e,n){return vl(2048,8,e,n)}function $f(e,n){return vl(4,2,e,n)}function ed(e,n){return vl(4,4,e,n)}function td(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function nd(e,n,s){return s=s!=null?s.concat([e]):null,vl(4,4,td.bind(null,n,e),s)}function oc(){}function rd(e,n){var s=wn();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&nc(n,a[1])?a[0]:(s.memoizedState=[e,n],e)}function id(e,n){var s=wn();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&nc(n,a[1])?a[0]:(e=e(),s.memoizedState=[e,n],e)}function sd(e,n,s){return Yr&21?(Rn(s,n)||(s=cf(),Je.lanes|=s,Zr|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=s)}function Rg(e,n){var s=De;De=s!==0&&4>s?s:4,e(!0);var a=wa.transition;wa.transition={};try{e(!1),n()}finally{De=s,wa.transition=a}}function od(){return wn().memoizedState}function Og(e,n,s){var a=Ar(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},ld(e))ad(n,s);else if(s=Vf(e,n,s,a),s!==null){var c=Ut();_n(s,e,a,c),ud(s,n,a)}}function bg(e,n,s){var a=Ar(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(ld(e))ad(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var x=n.lastRenderedState,y=d(x,s);if(c.hasEagerState=!0,c.eagerState=y,Rn(y,x)){var m=n.interleaved;m===null?(c.next=c,qu(n)):(c.next=m.next,m.next=c),n.interleaved=c;return}}catch{}finally{}s=Vf(e,n,c,a),s!==null&&(c=Ut(),_n(s,e,a,c),ud(s,n,a))}}function ld(e){var n=e.alternate;return e===Je||n!==null&&n===Je}function ad(e,n){Cs=il=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function ud(e,n,s){if(s&4194240){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,Lu(e,s)}}var sl={readContext:mn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},Mg={readContext:mn,useCallback:function(e,n){return Fn().memoizedState=[e,n===void 0?null:n],e},useContext:mn,useEffect:b1,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Bo(4194308,4,td.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Bo(4194308,4,e,n)},useInsertionEffect:function(e,n){return Bo(4,2,e,n)},useMemo:function(e,n){var s=Fn();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var a=Fn();return n=s!==void 0?s(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Og.bind(null,Je,e),[a.memoizedState,e]},useRef:function(e){var n=Fn();return e={current:e},n.memoizedState=e},useState:O1,useDebugValue:oc,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=O1(!1),n=e[0];return e=Rg.bind(null,e[1]),Fn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var a=Je,c=Fn();if(Ye){if(s===void 0)throw Error(K(407));s=s()}else{if(s=n(),Ct===null)throw Error(K(349));Yr&30||Yf(a,n,s)}c.memoizedState=s;var d={value:s,getSnapshot:n};return c.queue=d,b1(Kf.bind(null,a,d,e),[e]),a.flags|=2048,js(9,Zf.bind(null,a,d,s,n),void 0,null),s},useId:function(){var e=Fn(),n=Ct.identifierPrefix;if(Ye){var s=Yn,a=Xn;s=(a&~(1<<32-Tn(a)-1)).toString(32)+s,n=":"+n+"R"+s,s=Fs++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=_g++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Dg={readContext:mn,useCallback:rd,useContext:mn,useEffect:sc,useImperativeHandle:nd,useInsertionEffect:$f,useLayoutEffect:ed,useMemo:id,useReducer:ya,useRef:Jf,useState:function(){return ya(Us)},useDebugValue:oc,useDeferredValue:function(e){var n=wn();return sd(n,gt.memoizedState,e)},useTransition:function(){var e=ya(Us)[0],n=wn().memoizedState;return[e,n]},useMutableSource:Gf,useSyncExternalStore:Xf,useId:od,unstable_isNewReconciler:!1},kg={readContext:mn,useCallback:rd,useContext:mn,useEffect:sc,useImperativeHandle:nd,useInsertionEffect:$f,useLayoutEffect:ed,useMemo:id,useReducer:Ea,useRef:Jf,useState:function(){return Ea(Us)},useDebugValue:oc,useDeferredValue:function(e){var n=wn();return gt===null?n.memoizedState=e:sd(n,gt.memoizedState,e)},useTransition:function(){var e=Ea(Us)[0],n=wn().memoizedState;return[e,n]},useMutableSource:Gf,useSyncExternalStore:Xf,useId:od,unstable_isNewReconciler:!1};function Sn(e,n){if(e&&e.defaultProps){n=$e({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function ru(e,n,s,a){n=e.memoizedState,s=s(a,n),s=s==null?n:$e({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Sl={isMounted:function(e){return(e=e._reactInternals)?Jr(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var a=Ut(),c=Ar(e),d=Zn(a,c);d.payload=n,s!=null&&(d.callback=s),n=Er(e,d,c),n!==null&&(_n(n,e,c,a),ko(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var a=Ut(),c=Ar(e),d=Zn(a,c);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=Er(e,d,c),n!==null&&(_n(n,e,c,a),ko(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Ut(),a=Ar(e),c=Zn(s,a);c.tag=2,n!=null&&(c.callback=n),n=Er(e,c,a),n!==null&&(_n(n,e,a,s),ko(n,e,a))}};function M1(e,n,s,a,c,d,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,x):n.prototype&&n.prototype.isPureReactComponent?!Ms(s,a)||!Ms(c,d):!0}function cd(e,n,s){var a=!1,c=Nr,d=n.contextType;return typeof d=="object"&&d!==null?d=mn(d):(c=qt(n)?Gr:Pt.current,a=n.contextTypes,d=(a=a!=null)?bi(e,c):Nr),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Sl,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),n}function D1(e,n,s,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==e&&Sl.enqueueReplaceState(n,n.state,null)}function iu(e,n,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Ju(e);var d=n.contextType;typeof d=="object"&&d!==null?c.context=mn(d):(d=qt(n)?Gr:Pt.current,c.context=bi(e,d)),c.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(ru(e,n,d,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Sl.enqueueReplaceState(c,c.state,null),nl(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Pi(e,n){try{var s="",a=n;do s+=a2(a),a=a.return;while(a);var c=s}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:c,digest:null}}function Ca(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function su(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Pg=typeof WeakMap=="function"?WeakMap:Map;function fd(e,n,s){s=Zn(-1,s),s.tag=3,s.payload={element:null};var a=n.value;return s.callback=function(){ll||(ll=!0,xu=a),su(e,n)},s}function dd(e,n,s){s=Zn(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;s.payload=function(){return a(c)},s.callback=function(){su(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){su(e,n),typeof a!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})}),s}function k1(e,n,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Pg;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(s)||(c.add(s),e=Kg.bind(null,e,n,s),n.then(e,e))}function P1(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function B1(e,n,s,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Zn(-1,1),n.tag=2,Er(s,n,1))),s.lanes|=1),e)}var Bg=$n.ReactCurrentOwner,Kt=!1;function Ft(e,n,s,a){n.child=e===null?zf(n,null,s,a):Di(n,e.child,s,a)}function L1(e,n,s,a,c){s=s.render;var d=n.ref;return _i(n,c),a=rc(e,n,s,a,d,c),s=ic(),e!==null&&!Kt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,Jn(e,n,c)):(Ye&&s&&Gu(n),n.flags|=1,Ft(e,n,a,c),n.child)}function F1(e,n,s,a,c){if(e===null){var d=s.type;return typeof d=="function"&&!gc(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,hd(e,n,d,a,c)):(e=jo(s.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&c)){var x=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ms,s(x,a)&&e.ref===n.ref)return Jn(e,n,c)}return n.flags|=1,e=vr(d,a),e.ref=n.ref,e.return=n,n.child=e}function hd(e,n,s,a,c){if(e!==null){var d=e.memoizedProps;if(Ms(d,a)&&e.ref===n.ref)if(Kt=!1,n.pendingProps=a=d,(e.lanes&c)!==0)e.flags&131072&&(Kt=!0);else return n.lanes=e.lanes,Jn(e,n,c)}return ou(e,n,s,a,c)}function gd(e,n,s){var a=n.pendingProps,c=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ai,tn),tn|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,je(Ai,tn),tn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:s,je(Ai,tn),tn|=a}else d!==null?(a=d.baseLanes|s,n.memoizedState=null):a=s,je(Ai,tn),tn|=a;return Ft(e,n,c,s),n.child}function xd(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function ou(e,n,s,a,c){var d=qt(s)?Gr:Pt.current;return d=bi(n,d),_i(n,c),s=rc(e,n,s,a,d,c),a=ic(),e!==null&&!Kt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,Jn(e,n,c)):(Ye&&a&&Gu(n),n.flags|=1,Ft(e,n,s,c),n.child)}function U1(e,n,s,a,c){if(qt(s)){var d=!0;qo(n)}else d=!1;if(_i(n,c),n.stateNode===null)Lo(e,n),cd(n,s,a),iu(n,s,a,c),a=!0;else if(e===null){var x=n.stateNode,y=n.memoizedProps;x.props=y;var m=x.context,p=s.contextType;typeof p=="object"&&p!==null?p=mn(p):(p=qt(s)?Gr:Pt.current,p=bi(n,p));var v=s.getDerivedStateFromProps,A=typeof v=="function"||typeof x.getSnapshotBeforeUpdate=="function";A||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(y!==a||m!==p)&&D1(n,x,a,p),cr=!1;var N=n.memoizedState;x.state=N,nl(n,a,x,c),m=n.memoizedState,y!==a||N!==m||Qt.current||cr?(typeof v=="function"&&(ru(n,s,v,a),m=n.memoizedState),(y=cr||M1(n,s,y,a,N,m,p))?(A||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=m),x.props=a,x.state=m,x.context=p,a=y):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{x=n.stateNode,Hf(e,n),y=n.memoizedProps,p=n.type===n.elementType?y:Sn(n.type,y),x.props=p,A=n.pendingProps,N=x.context,m=s.contextType,typeof m=="object"&&m!==null?m=mn(m):(m=qt(s)?Gr:Pt.current,m=bi(n,m));var D=s.getDerivedStateFromProps;(v=typeof D=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(y!==A||N!==m)&&D1(n,x,a,m),cr=!1,N=n.memoizedState,x.state=N,nl(n,a,x,c);var B=n.memoizedState;y!==A||N!==B||Qt.current||cr?(typeof D=="function"&&(ru(n,s,D,a),B=n.memoizedState),(p=cr||M1(n,s,p,a,N,B,m)||!1)?(v||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(a,B,m),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(a,B,m)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=B),x.props=a,x.state=B,x.context=m,a=p):(typeof x.componentDidUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),a=!1)}return lu(e,n,s,a,d,c)}function lu(e,n,s,a,c,d){xd(e,n);var x=(n.flags&128)!==0;if(!a&&!x)return c&&S1(n,s,!1),Jn(e,n,d);a=n.stateNode,Bg.current=n;var y=x&&typeof s.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&x?(n.child=Di(n,e.child,null,d),n.child=Di(n,null,y,d)):Ft(e,n,y,d),n.memoizedState=a.state,c&&S1(n,s,!0),n.child}function pd(e){var n=e.stateNode;n.pendingContext?v1(e,n.pendingContext,n.pendingContext!==n.context):n.context&&v1(e,n.context,!1),$u(e,n.containerInfo)}function j1(e,n,s,a,c){return Mi(),Yu(c),n.flags|=256,Ft(e,n,s,a),n.child}var au={dehydrated:null,treeContext:null,retryLane:0};function uu(e){return{baseLanes:e,cachePool:null,transitions:null}}function md(e,n,s){var a=n.pendingProps,c=qe.current,d=!1,x=(n.flags&128)!==0,y;if((y=x)||(y=e!==null&&e.memoizedState===null?!1:(c&2)!==0),y?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),je(qe,c&1),e===null)return tu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(x=a.children,e=a.fallback,d?(a=n.mode,d=n.child,x={mode:"hidden",children:x},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=x):d=Tl(x,a,0,null),e=Wr(e,a,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=uu(s),n.memoizedState=au,e):lc(n,x));if(c=e.memoizedState,c!==null&&(y=c.dehydrated,y!==null))return Lg(e,n,x,a,y,c,s);if(d){d=a.fallback,x=n.mode,c=e.child,y=c.sibling;var m={mode:"hidden",children:a.children};return!(x&1)&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=m,n.deletions=null):(a=vr(c,m),a.subtreeFlags=c.subtreeFlags&14680064),y!==null?d=vr(y,d):(d=Wr(d,x,s,null),d.flags|=2),d.return=n,a.return=n,a.sibling=d,n.child=a,a=d,d=n.child,x=e.child.memoizedState,x=x===null?uu(s):{baseLanes:x.baseLanes|s,cachePool:null,transitions:x.transitions},d.memoizedState=x,d.childLanes=e.childLanes&~s,n.memoizedState=au,a}return d=e.child,e=d.sibling,a=vr(d,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=s),a.return=n,a.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=a,n.memoizedState=null,a}function lc(e,n){return n=Tl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function So(e,n,s,a){return a!==null&&Yu(a),Di(n,e.child,null,s),e=lc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lg(e,n,s,a,c,d,x){if(s)return n.flags&256?(n.flags&=-257,a=Ca(Error(K(422))),So(e,n,x,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=a.fallback,c=n.mode,a=Tl({mode:"visible",children:a.children},c,0,null),d=Wr(d,c,x,null),d.flags|=2,a.return=n,d.return=n,a.sibling=d,n.child=a,n.mode&1&&Di(n,e.child,null,x),n.child.memoizedState=uu(x),n.memoizedState=au,d);if(!(n.mode&1))return So(e,n,x,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var y=a.dgst;return a=y,d=Error(K(419)),a=Ca(d,a,void 0),So(e,n,x,a)}if(y=(x&e.childLanes)!==0,Kt||y){if(a=Ct,a!==null){switch(x&-x){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|x)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,qn(e,c),_n(a,e,c,-1))}return hc(),a=Ca(Error(K(421))),So(e,n,x,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=Qg.bind(null,e),c._reactRetry=n,null):(e=d.treeContext,nn=yr(c.nextSibling),rn=n,Ye=!0,Nn=null,e!==null&&(hn[gn++]=Xn,hn[gn++]=Yn,hn[gn++]=Xr,Xn=e.id,Yn=e.overflow,Xr=n),n=lc(n,a.children),n.flags|=4096,n)}function z1(e,n,s){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),nu(e.return,n,s)}function Aa(e,n,s,a,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=s,d.tailMode=c)}function wd(e,n,s){var a=n.pendingProps,c=a.revealOrder,d=a.tail;if(Ft(e,n,a.children,s),a=qe.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&z1(e,s,n);else if(e.tag===19)z1(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(je(qe,a),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&rl(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Aa(n,!1,c,s,d);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&rl(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Aa(n,!0,s,null,d);break;case"together":Aa(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Lo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Jn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Zr|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(K(153));if(n.child!==null){for(e=n.child,s=vr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=vr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Fg(e,n,s){switch(n.tag){case 3:pd(n),Mi();break;case 5:Wf(n);break;case 1:qt(n.type)&&qo(n);break;case 4:$u(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;je(el,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(je(qe,qe.current&1),n.flags|=128,null):s&n.child.childLanes?md(e,n,s):(je(qe,qe.current&1),e=Jn(e,n,s),e!==null?e.sibling:null);je(qe,qe.current&1);break;case 19:if(a=(s&n.childLanes)!==0,e.flags&128){if(a)return wd(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),je(qe,qe.current),a)break;return null;case 22:case 23:return n.lanes=0,gd(e,n,s)}return Jn(e,n,s)}var yd,cu,Ed,Cd;yd=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};cu=function(){};Ed=function(e,n,s,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,Vr(zn.current);var d=null;switch(s){case"input":c=Ma(e,c),a=Ma(e,a),d=[];break;case"select":c=$e({},c,{value:void 0}),a=$e({},a,{value:void 0}),d=[];break;case"textarea":c=Pa(e,c),a=Pa(e,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Ko)}La(s,a);var x;s=null;for(p in c)if(!a.hasOwnProperty(p)&&c.hasOwnProperty(p)&&c[p]!=null)if(p==="style"){var y=c[p];for(x in y)y.hasOwnProperty(x)&&(s||(s={}),s[x]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Is.hasOwnProperty(p)?d||(d=[]):(d=d||[]).push(p,null));for(p in a){var m=a[p];if(y=c!=null?c[p]:void 0,a.hasOwnProperty(p)&&m!==y&&(m!=null||y!=null))if(p==="style")if(y){for(x in y)!y.hasOwnProperty(x)||m&&m.hasOwnProperty(x)||(s||(s={}),s[x]="");for(x in m)m.hasOwnProperty(x)&&y[x]!==m[x]&&(s||(s={}),s[x]=m[x])}else s||(d||(d=[]),d.push(p,s)),s=m;else p==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,y=y?y.__html:void 0,m!=null&&y!==m&&(d=d||[]).push(p,m)):p==="children"?typeof m!="string"&&typeof m!="number"||(d=d||[]).push(p,""+m):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Is.hasOwnProperty(p)?(m!=null&&p==="onScroll"&&Ve("scroll",e),d||y===m||(d=[])):(d=d||[]).push(p,m))}s&&(d=d||[]).push("style",s);var p=d;(n.updateQueue=p)&&(n.flags|=4)}};Cd=function(e,n,s,a){s!==a&&(n.flags|=4)};function ls(e,n){if(!Ye)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Dt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,n}function Ug(e,n,s){var a=n.pendingProps;switch(Xu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(n),null;case 1:return qt(n.type)&&Qo(),Dt(n),null;case 3:return a=n.stateNode,ki(),We(Qt),We(Pt),tc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ao(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Nn!==null&&(wu(Nn),Nn=null))),cu(e,n),Dt(n),null;case 5:ec(n);var c=Vr(Ls.current);if(s=n.type,e!==null&&n.stateNode!=null)Ed(e,n,s,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(K(166));return Dt(n),null}if(e=Vr(zn.current),Ao(n)){a=n.stateNode,s=n.type;var d=n.memoizedProps;switch(a[Un]=n,a[Ps]=d,e=(n.mode&1)!==0,s){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(c=0;c<hs.length;c++)Ve(hs[c],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Qc(a,d),Ve("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Ve("invalid",a);break;case"textarea":Jc(a,d),Ve("invalid",a)}La(s,d),c=null;for(var x in d)if(d.hasOwnProperty(x)){var y=d[x];x==="children"?typeof y=="string"?a.textContent!==y&&(d.suppressHydrationWarning!==!0&&Co(a.textContent,y,e),c=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&Co(a.textContent,y,e),c=["children",""+y]):Is.hasOwnProperty(x)&&y!=null&&x==="onScroll"&&Ve("scroll",a)}switch(s){case"input":ho(a),qc(a,d,!0);break;case"textarea":ho(a),$c(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Ko)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{x=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Z0(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=x.createElement(s,{is:a.is}):(e=x.createElement(s),s==="select"&&(x=e,a.multiple?x.multiple=!0:a.size&&(x.size=a.size))):e=x.createElementNS(e,s),e[Un]=n,e[Ps]=a,yd(e,n,!1,!1),n.stateNode=e;e:{switch(x=Fa(s,a),s){case"dialog":Ve("cancel",e),Ve("close",e),c=a;break;case"iframe":case"object":case"embed":Ve("load",e),c=a;break;case"video":case"audio":for(c=0;c<hs.length;c++)Ve(hs[c],e);c=a;break;case"source":Ve("error",e),c=a;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),c=a;break;case"details":Ve("toggle",e),c=a;break;case"input":Qc(e,a),c=Ma(e,a),Ve("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=$e({},a,{value:void 0}),Ve("invalid",e);break;case"textarea":Jc(e,a),c=Pa(e,a),Ve("invalid",e);break;default:c=a}La(s,c),y=c;for(d in y)if(y.hasOwnProperty(d)){var m=y[d];d==="style"?q0(e,m):d==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&K0(e,m)):d==="children"?typeof m=="string"?(s!=="textarea"||m!=="")&&Ns(e,m):typeof m=="number"&&Ns(e,""+m):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Is.hasOwnProperty(d)?m!=null&&d==="onScroll"&&Ve("scroll",e):m!=null&&bu(e,d,m,x))}switch(s){case"input":ho(e),qc(e,a,!1);break;case"textarea":ho(e),$c(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ir(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?Si(e,!!a.multiple,d,!1):a.defaultValue!=null&&Si(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Ko)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Dt(n),null;case 6:if(e&&n.stateNode!=null)Cd(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(K(166));if(s=Vr(Ls.current),Vr(zn.current),Ao(n)){if(a=n.stateNode,s=n.memoizedProps,a[Un]=n,(d=a.nodeValue!==s)&&(e=rn,e!==null))switch(e.tag){case 3:Co(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Co(a.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Un]=n,n.stateNode=a}return Dt(n),null;case 13:if(We(qe),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&nn!==null&&n.mode&1&&!(n.flags&128))Uf(),Mi(),n.flags|=98560,d=!1;else if(d=Ao(n),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(K(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(K(317));d[Un]=n}else Mi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Dt(n),d=!1}else Nn!==null&&(wu(Nn),Nn=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||qe.current&1?xt===0&&(xt=3):hc())),n.updateQueue!==null&&(n.flags|=4),Dt(n),null);case 4:return ki(),cu(e,n),e===null&&Ds(n.stateNode.containerInfo),Dt(n),null;case 10:return Qu(n.type._context),Dt(n),null;case 17:return qt(n.type)&&Qo(),Dt(n),null;case 19:if(We(qe),d=n.memoizedState,d===null)return Dt(n),null;if(a=(n.flags&128)!==0,x=d.rendering,x===null)if(a)ls(d,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(x=rl(e),x!==null){for(n.flags|=128,ls(d,!1),a=x.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=s,s=n.child;s!==null;)d=s,e=a,d.flags&=14680066,x=d.alternate,x===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,e=x.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return je(qe,qe.current&1|2),n.child}e=e.sibling}d.tail!==null&&lt()>Bi&&(n.flags|=128,a=!0,ls(d,!1),n.lanes=4194304)}else{if(!a)if(e=rl(x),e!==null){if(n.flags|=128,a=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),ls(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!Ye)return Dt(n),null}else 2*lt()-d.renderingStartTime>Bi&&s!==1073741824&&(n.flags|=128,a=!0,ls(d,!1),n.lanes=4194304);d.isBackwards?(x.sibling=n.child,n.child=x):(s=d.last,s!==null?s.sibling=x:n.child=x,d.last=x)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=lt(),n.sibling=null,s=qe.current,je(qe,a?s&1|2:s&1),n):(Dt(n),null);case 22:case 23:return dc(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?tn&1073741824&&(Dt(n),n.subtreeFlags&6&&(n.flags|=8192)):Dt(n),null;case 24:return null;case 25:return null}throw Error(K(156,n.tag))}function jg(e,n){switch(Xu(n),n.tag){case 1:return qt(n.type)&&Qo(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(),We(Qt),We(Pt),tc(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return ec(n),null;case 13:if(We(qe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(K(340));Mi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return We(qe),null;case 4:return ki(),null;case 10:return Qu(n.type._context),null;case 22:case 23:return dc(),null;case 24:return null;default:return null}}var Io=!1,kt=!1,zg=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ci(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){st(e,n,a)}else s.current=null}function fu(e,n,s){try{s()}catch(a){st(e,n,a)}}var V1=!1;function Vg(e,n){if(Za=Xo,e=Nf(),Wu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var x=0,y=-1,m=-1,p=0,v=0,A=e,N=null;t:for(;;){for(var D;A!==s||c!==0&&A.nodeType!==3||(y=x+c),A!==d||a!==0&&A.nodeType!==3||(m=x+a),A.nodeType===3&&(x+=A.nodeValue.length),(D=A.firstChild)!==null;)N=A,A=D;for(;;){if(A===e)break t;if(N===s&&++p===c&&(y=x),N===d&&++v===a&&(m=x),(D=A.nextSibling)!==null)break;A=N,N=A.parentNode}A=D}s=y===-1||m===-1?null:{start:y,end:m}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ka={focusedElem:e,selectionRange:s},Xo=!1,se=n;se!==null;)if(n=se,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,se=e;else for(;se!==null;){n=se;try{var B=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var P=B.memoizedProps,W=B.memoizedState,O=n.stateNode,R=O.getSnapshotBeforeUpdate(n.elementType===n.type?P:Sn(n.type,P),W);O.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var _=n.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(U){st(n,n.return,U)}if(e=n.sibling,e!==null){e.return=n.return,se=e;break}se=n.return}return B=V1,V1=!1,B}function As(e,n,s){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&fu(n,s,d)}c=c.next}while(c!==a)}}function Il(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==n)}}function du(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Ad(e){var n=e.alternate;n!==null&&(e.alternate=null,Ad(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Un],delete n[Ps],delete n[Ja],delete n[Sg],delete n[Ig])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vd(e){return e.tag===5||e.tag===3||e.tag===4}function H1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hu(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ko));else if(a!==4&&(e=e.child,e!==null))for(hu(e,n,s),e=e.sibling;e!==null;)hu(e,n,s),e=e.sibling}function gu(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(gu(e,n,s),e=e.sibling;e!==null;)gu(e,n,s),e=e.sibling}var Tt=null,In=!1;function ar(e,n,s){for(s=s.child;s!==null;)Sd(e,n,s),s=s.sibling}function Sd(e,n,s){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(ml,s)}catch{}switch(s.tag){case 5:kt||Ci(s,n);case 6:var a=Tt,c=In;Tt=null,ar(e,n,s),Tt=a,In=c,Tt!==null&&(In?(e=Tt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Tt.removeChild(s.stateNode));break;case 18:Tt!==null&&(In?(e=Tt,s=s.stateNode,e.nodeType===8?xa(e.parentNode,s):e.nodeType===1&&xa(e,s),Os(e)):xa(Tt,s.stateNode));break;case 4:a=Tt,c=In,Tt=s.stateNode.containerInfo,In=!0,ar(e,n,s),Tt=a,In=c;break;case 0:case 11:case 14:case 15:if(!kt&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,x=d.destroy;d=d.tag,x!==void 0&&(d&2||d&4)&&fu(s,n,x),c=c.next}while(c!==a)}ar(e,n,s);break;case 1:if(!kt&&(Ci(s,n),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(y){st(s,n,y)}ar(e,n,s);break;case 21:ar(e,n,s);break;case 22:s.mode&1?(kt=(a=kt)||s.memoizedState!==null,ar(e,n,s),kt=a):ar(e,n,s);break;default:ar(e,n,s)}}function W1(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new zg),n.forEach(function(a){var c=qg.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function An(e,n){var s=n.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var d=e,x=n,y=x;e:for(;y!==null;){switch(y.tag){case 5:Tt=y.stateNode,In=!1;break e;case 3:Tt=y.stateNode.containerInfo,In=!0;break e;case 4:Tt=y.stateNode.containerInfo,In=!0;break e}y=y.return}if(Tt===null)throw Error(K(160));Sd(d,x,c),Tt=null,In=!1;var m=c.alternate;m!==null&&(m.return=null),c.return=null}catch(p){st(c,n,p)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Id(n,e),n=n.sibling}function Id(e,n){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(An(n,e),Ln(e),a&4){try{As(3,e,e.return),Il(3,e)}catch(P){st(e,e.return,P)}try{As(5,e,e.return)}catch(P){st(e,e.return,P)}}break;case 1:An(n,e),Ln(e),a&512&&s!==null&&Ci(s,s.return);break;case 5:if(An(n,e),Ln(e),a&512&&s!==null&&Ci(s,s.return),e.flags&32){var c=e.stateNode;try{Ns(c,"")}catch(P){st(e,e.return,P)}}if(a&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,x=s!==null?s.memoizedProps:d,y=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&X0(c,d),Fa(y,x);var p=Fa(y,d);for(x=0;x<m.length;x+=2){var v=m[x],A=m[x+1];v==="style"?q0(c,A):v==="dangerouslySetInnerHTML"?K0(c,A):v==="children"?Ns(c,A):bu(c,v,A,p)}switch(y){case"input":Da(c,d);break;case"textarea":Y0(c,d);break;case"select":var N=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var D=d.value;D!=null?Si(c,!!d.multiple,D,!1):N!==!!d.multiple&&(d.defaultValue!=null?Si(c,!!d.multiple,d.defaultValue,!0):Si(c,!!d.multiple,d.multiple?[]:"",!1))}c[Ps]=d}catch(P){st(e,e.return,P)}}break;case 6:if(An(n,e),Ln(e),a&4){if(e.stateNode===null)throw Error(K(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(P){st(e,e.return,P)}}break;case 3:if(An(n,e),Ln(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Os(n.containerInfo)}catch(P){st(e,e.return,P)}break;case 4:An(n,e),Ln(e);break;case 13:An(n,e),Ln(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(cc=lt())),a&4&&W1(e);break;case 22:if(v=s!==null&&s.memoizedState!==null,e.mode&1?(kt=(p=kt)||v,An(n,e),kt=p):An(n,e),Ln(e),a&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!v&&e.mode&1)for(se=e,v=e.child;v!==null;){for(A=se=v;se!==null;){switch(N=se,D=N.child,N.tag){case 0:case 11:case 14:case 15:As(4,N,N.return);break;case 1:Ci(N,N.return);var B=N.stateNode;if(typeof B.componentWillUnmount=="function"){a=N,s=N.return;try{n=a,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(P){st(a,s,P)}}break;case 5:Ci(N,N.return);break;case 22:if(N.memoizedState!==null){X1(A);continue}}D!==null?(D.return=N,se=D):X1(A)}v=v.sibling}e:for(v=null,A=e;;){if(A.tag===5){if(v===null){v=A;try{c=A.stateNode,p?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=A.stateNode,m=A.memoizedProps.style,x=m!=null&&m.hasOwnProperty("display")?m.display:null,y.style.display=Q0("display",x))}catch(P){st(e,e.return,P)}}}else if(A.tag===6){if(v===null)try{A.stateNode.nodeValue=p?"":A.memoizedProps}catch(P){st(e,e.return,P)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;v===A&&(v=null),A=A.return}v===A&&(v=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:An(n,e),Ln(e),a&4&&W1(e);break;case 21:break;default:An(n,e),Ln(e)}}function Ln(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(vd(s)){var a=s;break e}s=s.return}throw Error(K(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Ns(c,""),a.flags&=-33);var d=H1(e);gu(e,d,c);break;case 3:case 4:var x=a.stateNode.containerInfo,y=H1(e);hu(e,y,x);break;default:throw Error(K(161))}}catch(m){st(e,e.return,m)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hg(e,n,s){se=e,Nd(e)}function Nd(e,n,s){for(var a=(e.mode&1)!==0;se!==null;){var c=se,d=c.child;if(c.tag===22&&a){var x=c.memoizedState!==null||Io;if(!x){var y=c.alternate,m=y!==null&&y.memoizedState!==null||kt;y=Io;var p=kt;if(Io=x,(kt=m)&&!p)for(se=c;se!==null;)x=se,m=x.child,x.tag===22&&x.memoizedState!==null?Y1(c):m!==null?(m.return=x,se=m):Y1(c);for(;d!==null;)se=d,Nd(d),d=d.sibling;se=c,Io=y,kt=p}G1(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,se=d):G1(e)}}function G1(e){for(;se!==null;){var n=se;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:kt||Il(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!kt)if(s===null)a.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:Sn(n.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&R1(n,d,a);break;case 3:var x=n.updateQueue;if(x!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}R1(n,x,s)}break;case 5:var y=n.stateNode;if(s===null&&n.flags&4){s=y;var m=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&s.focus();break;case"img":m.src&&(s.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var p=n.alternate;if(p!==null){var v=p.memoizedState;if(v!==null){var A=v.dehydrated;A!==null&&Os(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}kt||n.flags&512&&du(n)}catch(N){st(n,n.return,N)}}if(n===e){se=null;break}if(s=n.sibling,s!==null){s.return=n.return,se=s;break}se=n.return}}function X1(e){for(;se!==null;){var n=se;if(n===e){se=null;break}var s=n.sibling;if(s!==null){s.return=n.return,se=s;break}se=n.return}}function Y1(e){for(;se!==null;){var n=se;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Il(4,n)}catch(m){st(n,s,m)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(m){st(n,c,m)}}var d=n.return;try{du(n)}catch(m){st(n,d,m)}break;case 5:var x=n.return;try{du(n)}catch(m){st(n,x,m)}}}catch(m){st(n,n.return,m)}if(n===e){se=null;break}var y=n.sibling;if(y!==null){y.return=n.return,se=y;break}se=n.return}}var Wg=Math.ceil,ol=$n.ReactCurrentDispatcher,ac=$n.ReactCurrentOwner,pn=$n.ReactCurrentBatchConfig,Te=0,Ct=null,ut=null,_t=0,tn=0,Ai=_r(0),xt=0,zs=null,Zr=0,Nl=0,uc=0,vs=null,Zt=null,cc=0,Bi=1/0,Wn=null,ll=!1,xu=null,Cr=null,No=!1,gr=null,al=0,Ss=0,pu=null,Fo=-1,Uo=0;function Ut(){return Te&6?lt():Fo!==-1?Fo:Fo=lt()}function Ar(e){return e.mode&1?Te&2&&_t!==0?_t&-_t:Tg.transition!==null?(Uo===0&&(Uo=cf()),Uo):(e=De,e!==0||(e=window.event,e=e===void 0?16:mf(e.type)),e):1}function _n(e,n,s,a){if(50<Ss)throw Ss=0,pu=null,Error(K(185));Gs(e,s,a),(!(Te&2)||e!==Ct)&&(e===Ct&&(!(Te&2)&&(Nl|=s),xt===4&&dr(e,_t)),Jt(e,a),s===1&&Te===0&&!(n.mode&1)&&(Bi=lt()+500,Al&&Rr()))}function Jt(e,n){var s=e.callbackNode;T2(e,n);var a=Go(e,e===Ct?_t:0);if(a===0)s!==null&&n1(s),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(s!=null&&n1(s),n===1)e.tag===0?Ng(Z1.bind(null,e)):Bf(Z1.bind(null,e)),Ag(function(){!(Te&6)&&Rr()}),s=null;else{switch(ff(a)){case 1:s=Bu;break;case 4:s=af;break;case 16:s=Wo;break;case 536870912:s=uf;break;default:s=Wo}s=kd(s,Td.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Td(e,n){if(Fo=-1,Uo=0,Te&6)throw Error(K(327));var s=e.callbackNode;if(Ri()&&e.callbackNode!==s)return null;var a=Go(e,e===Ct?_t:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=ul(e,a);else{n=a;var c=Te;Te|=2;var d=Rd();(Ct!==e||_t!==n)&&(Wn=null,Bi=lt()+500,Hr(e,n));do try{Yg();break}catch(y){_d(e,y)}while(!0);Ku(),ol.current=d,Te=c,ut!==null?n=0:(Ct=null,_t=0,n=xt)}if(n!==0){if(n===2&&(c=Ha(e),c!==0&&(a=c,n=mu(e,c))),n===1)throw s=zs,Hr(e,0),dr(e,a),Jt(e,lt()),s;if(n===6)dr(e,a);else{if(c=e.current.alternate,!(a&30)&&!Gg(c)&&(n=ul(e,a),n===2&&(d=Ha(e),d!==0&&(a=d,n=mu(e,d))),n===1))throw s=zs,Hr(e,0),dr(e,a),Jt(e,lt()),s;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(K(345));case 2:Ur(e,Zt,Wn);break;case 3:if(dr(e,a),(a&130023424)===a&&(n=cc+500-lt(),10<n)){if(Go(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){Ut(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=qa(Ur.bind(null,e,Zt,Wn),n);break}Ur(e,Zt,Wn);break;case 4:if(dr(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var x=31-Tn(a);d=1<<x,x=n[x],x>c&&(c=x),a&=~d}if(a=c,a=lt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Wg(a/1960))-a,10<a){e.timeoutHandle=qa(Ur.bind(null,e,Zt,Wn),a);break}Ur(e,Zt,Wn);break;case 5:Ur(e,Zt,Wn);break;default:throw Error(K(329))}}}return Jt(e,lt()),e.callbackNode===s?Td.bind(null,e):null}function mu(e,n){var s=vs;return e.current.memoizedState.isDehydrated&&(Hr(e,n).flags|=256),e=ul(e,n),e!==2&&(n=Zt,Zt=s,n!==null&&wu(n)),e}function wu(e){Zt===null?Zt=e:Zt.push.apply(Zt,e)}function Gg(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],d=c.getSnapshot;c=c.value;try{if(!Rn(d(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dr(e,n){for(n&=~uc,n&=~Nl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Tn(n),a=1<<s;e[s]=-1,n&=~a}}function Z1(e){if(Te&6)throw Error(K(327));Ri();var n=Go(e,0);if(!(n&1))return Jt(e,lt()),null;var s=ul(e,n);if(e.tag!==0&&s===2){var a=Ha(e);a!==0&&(n=a,s=mu(e,a))}if(s===1)throw s=zs,Hr(e,0),dr(e,n),Jt(e,lt()),s;if(s===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Ur(e,Zt,Wn),Jt(e,lt()),null}function fc(e,n){var s=Te;Te|=1;try{return e(n)}finally{Te=s,Te===0&&(Bi=lt()+500,Al&&Rr())}}function Kr(e){gr!==null&&gr.tag===0&&!(Te&6)&&Ri();var n=Te;Te|=1;var s=pn.transition,a=De;try{if(pn.transition=null,De=1,e)return e()}finally{De=a,pn.transition=s,Te=n,!(Te&6)&&Rr()}}function dc(){tn=Ai.current,We(Ai)}function Hr(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Cg(s)),ut!==null)for(s=ut.return;s!==null;){var a=s;switch(Xu(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Qo();break;case 3:ki(),We(Qt),We(Pt),tc();break;case 5:ec(a);break;case 4:ki();break;case 13:We(qe);break;case 19:We(qe);break;case 10:Qu(a.type._context);break;case 22:case 23:dc()}s=s.return}if(Ct=e,ut=e=vr(e.current,null),_t=tn=n,xt=0,zs=null,uc=Nl=Zr=0,Zt=vs=null,zr!==null){for(n=0;n<zr.length;n++)if(s=zr[n],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,d=s.pending;if(d!==null){var x=d.next;d.next=c,a.next=x}s.pending=a}zr=null}return e}function _d(e,n){do{var s=ut;try{if(Ku(),Po.current=sl,il){for(var a=Je.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}il=!1}if(Yr=0,Et=gt=Je=null,Cs=!1,Fs=0,ac.current=null,s===null||s.return===null){xt=1,zs=n,ut=null;break}e:{var d=e,x=s.return,y=s,m=n;if(n=_t,y.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var p=m,v=y,A=v.tag;if(!(v.mode&1)&&(A===0||A===11||A===15)){var N=v.alternate;N?(v.updateQueue=N.updateQueue,v.memoizedState=N.memoizedState,v.lanes=N.lanes):(v.updateQueue=null,v.memoizedState=null)}var D=P1(x);if(D!==null){D.flags&=-257,B1(D,x,y,d,n),D.mode&1&&k1(d,p,n),n=D,m=p;var B=n.updateQueue;if(B===null){var P=new Set;P.add(m),n.updateQueue=P}else B.add(m);break e}else{if(!(n&1)){k1(d,p,n),hc();break e}m=Error(K(426))}}else if(Ye&&y.mode&1){var W=P1(x);if(W!==null){!(W.flags&65536)&&(W.flags|=256),B1(W,x,y,d,n),Yu(Pi(m,y));break e}}d=m=Pi(m,y),xt!==4&&(xt=2),vs===null?vs=[d]:vs.push(d),d=x;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var O=fd(d,m,n);_1(d,O);break e;case 1:y=m;var R=d.type,_=d.stateNode;if(!(d.flags&128)&&(typeof R.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Cr===null||!Cr.has(_)))){d.flags|=65536,n&=-n,d.lanes|=n;var U=dd(d,y,n);_1(d,U);break e}}d=d.return}while(d!==null)}bd(s)}catch(Z){n=Z,ut===s&&s!==null&&(ut=s=s.return);continue}break}while(!0)}function Rd(){var e=ol.current;return ol.current=sl,e===null?sl:e}function hc(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||!(Zr&268435455)&&!(Nl&268435455)||dr(Ct,_t)}function ul(e,n){var s=Te;Te|=2;var a=Rd();(Ct!==e||_t!==n)&&(Wn=null,Hr(e,n));do try{Xg();break}catch(c){_d(e,c)}while(!0);if(Ku(),Te=s,ol.current=a,ut!==null)throw Error(K(261));return Ct=null,_t=0,xt}function Xg(){for(;ut!==null;)Od(ut)}function Yg(){for(;ut!==null&&!w2();)Od(ut)}function Od(e){var n=Dd(e.alternate,e,tn);e.memoizedProps=e.pendingProps,n===null?bd(e):ut=n,ac.current=null}function bd(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=jg(s,n),s!==null){s.flags&=32767,ut=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ut=null;return}}else if(s=Ug(s,n,tn),s!==null){ut=s;return}if(n=n.sibling,n!==null){ut=n;return}ut=n=e}while(n!==null);xt===0&&(xt=5)}function Ur(e,n,s){var a=De,c=pn.transition;try{pn.transition=null,De=1,Zg(e,n,s,a)}finally{pn.transition=c,De=a}return null}function Zg(e,n,s,a){do Ri();while(gr!==null);if(Te&6)throw Error(K(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(_2(e,d),e===Ct&&(ut=Ct=null,_t=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||No||(No=!0,kd(Wo,function(){return Ri(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=pn.transition,pn.transition=null;var x=De;De=1;var y=Te;Te|=4,ac.current=null,Vg(e,s),Id(s,e),gg(Ka),Xo=!!Za,Ka=Za=null,e.current=s,Hg(s),y2(),Te=y,De=x,pn.transition=d}else e.current=s;if(No&&(No=!1,gr=e,al=c),d=e.pendingLanes,d===0&&(Cr=null),A2(s.stateNode),Jt(e,lt()),n!==null)for(a=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(ll)throw ll=!1,e=xu,xu=null,e;return al&1&&e.tag!==0&&Ri(),d=e.pendingLanes,d&1?e===pu?Ss++:(Ss=0,pu=e):Ss=0,Rr(),null}function Ri(){if(gr!==null){var e=ff(al),n=pn.transition,s=De;try{if(pn.transition=null,De=16>e?16:e,gr===null)var a=!1;else{if(e=gr,gr=null,al=0,Te&6)throw Error(K(331));var c=Te;for(Te|=4,se=e.current;se!==null;){var d=se,x=d.child;if(se.flags&16){var y=d.deletions;if(y!==null){for(var m=0;m<y.length;m++){var p=y[m];for(se=p;se!==null;){var v=se;switch(v.tag){case 0:case 11:case 15:As(8,v,d)}var A=v.child;if(A!==null)A.return=v,se=A;else for(;se!==null;){v=se;var N=v.sibling,D=v.return;if(Ad(v),v===p){se=null;break}if(N!==null){N.return=D,se=N;break}se=D}}}var B=d.alternate;if(B!==null){var P=B.child;if(P!==null){B.child=null;do{var W=P.sibling;P.sibling=null,P=W}while(P!==null)}}se=d}}if(d.subtreeFlags&2064&&x!==null)x.return=d,se=x;else e:for(;se!==null;){if(d=se,d.flags&2048)switch(d.tag){case 0:case 11:case 15:As(9,d,d.return)}var O=d.sibling;if(O!==null){O.return=d.return,se=O;break e}se=d.return}}var R=e.current;for(se=R;se!==null;){x=se;var _=x.child;if(x.subtreeFlags&2064&&_!==null)_.return=x,se=_;else e:for(x=R;se!==null;){if(y=se,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:Il(9,y)}}catch(Z){st(y,y.return,Z)}if(y===x){se=null;break e}var U=y.sibling;if(U!==null){U.return=y.return,se=U;break e}se=y.return}}if(Te=c,Rr(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(ml,e)}catch{}a=!0}return a}finally{De=s,pn.transition=n}}return!1}function K1(e,n,s){n=Pi(s,n),n=fd(e,n,1),e=Er(e,n,1),n=Ut(),e!==null&&(Gs(e,1,n),Jt(e,n))}function st(e,n,s){if(e.tag===3)K1(e,e,s);else for(;n!==null;){if(n.tag===3){K1(n,e,s);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Cr===null||!Cr.has(a))){e=Pi(s,e),e=dd(n,e,1),n=Er(n,e,1),e=Ut(),n!==null&&(Gs(n,1,e),Jt(n,e));break}}n=n.return}}function Kg(e,n,s){var a=e.pingCache;a!==null&&a.delete(n),n=Ut(),e.pingedLanes|=e.suspendedLanes&s,Ct===e&&(_t&s)===s&&(xt===4||xt===3&&(_t&130023424)===_t&&500>lt()-cc?Hr(e,0):uc|=s),Jt(e,n)}function Md(e,n){n===0&&(e.mode&1?(n=po,po<<=1,!(po&130023424)&&(po=4194304)):n=1);var s=Ut();e=qn(e,n),e!==null&&(Gs(e,n,s),Jt(e,s))}function Qg(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Md(e,s)}function qg(e,n){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(K(314))}a!==null&&a.delete(n),Md(e,s)}var Dd;Dd=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||Qt.current)Kt=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return Kt=!1,Fg(e,n,s);Kt=!!(e.flags&131072)}else Kt=!1,Ye&&n.flags&1048576&&Lf(n,$o,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Lo(e,n),e=n.pendingProps;var c=bi(n,Pt.current);_i(n,s),c=rc(null,n,a,e,c,s);var d=ic();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,qt(a)?(d=!0,qo(n)):d=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ju(n),c.updater=Sl,n.stateNode=c,c._reactInternals=n,iu(n,a,e,s),n=lu(null,n,a,!0,d,s)):(n.tag=0,Ye&&d&&Gu(n),Ft(null,n,c,s),n=n.child),n;case 16:a=n.elementType;e:{switch(Lo(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=$g(a),e=Sn(a,e),c){case 0:n=ou(null,n,a,e,s);break e;case 1:n=U1(null,n,a,e,s);break e;case 11:n=L1(null,n,a,e,s);break e;case 14:n=F1(null,n,a,Sn(a.type,e),s);break e}throw Error(K(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Sn(a,c),ou(e,n,a,c,s);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Sn(a,c),U1(e,n,a,c,s);case 3:e:{if(pd(n),e===null)throw Error(K(387));a=n.pendingProps,d=n.memoizedState,c=d.element,Hf(e,n),nl(n,a,null,s);var x=n.memoizedState;if(a=x.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){c=Pi(Error(K(423)),n),n=j1(e,n,a,s,c);break e}else if(a!==c){c=Pi(Error(K(424)),n),n=j1(e,n,a,s,c);break e}else for(nn=yr(n.stateNode.containerInfo.firstChild),rn=n,Ye=!0,Nn=null,s=zf(n,null,a,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Mi(),a===c){n=Jn(e,n,s);break e}Ft(e,n,a,s)}n=n.child}return n;case 5:return Wf(n),e===null&&tu(n),a=n.type,c=n.pendingProps,d=e!==null?e.memoizedProps:null,x=c.children,Qa(a,c)?x=null:d!==null&&Qa(a,d)&&(n.flags|=32),xd(e,n),Ft(e,n,x,s),n.child;case 6:return e===null&&tu(n),null;case 13:return md(e,n,s);case 4:return $u(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Di(n,null,a,s):Ft(e,n,a,s),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Sn(a,c),L1(e,n,a,c,s);case 7:return Ft(e,n,n.pendingProps,s),n.child;case 8:return Ft(e,n,n.pendingProps.children,s),n.child;case 12:return Ft(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,d=n.memoizedProps,x=c.value,je(el,a._currentValue),a._currentValue=x,d!==null)if(Rn(d.value,x)){if(d.children===c.children&&!Qt.current){n=Jn(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var y=d.dependencies;if(y!==null){x=d.child;for(var m=y.firstContext;m!==null;){if(m.context===a){if(d.tag===1){m=Zn(-1,s&-s),m.tag=2;var p=d.updateQueue;if(p!==null){p=p.shared;var v=p.pending;v===null?m.next=m:(m.next=v.next,v.next=m),p.pending=m}}d.lanes|=s,m=d.alternate,m!==null&&(m.lanes|=s),nu(d.return,s,n),y.lanes|=s;break}m=m.next}}else if(d.tag===10)x=d.type===n.type?null:d.child;else if(d.tag===18){if(x=d.return,x===null)throw Error(K(341));x.lanes|=s,y=x.alternate,y!==null&&(y.lanes|=s),nu(x,s,n),x=d.sibling}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===n){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}Ft(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,_i(n,s),c=mn(c),a=a(c),n.flags|=1,Ft(e,n,a,s),n.child;case 14:return a=n.type,c=Sn(a,n.pendingProps),c=Sn(a.type,c),F1(e,n,a,c,s);case 15:return hd(e,n,n.type,n.pendingProps,s);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Sn(a,c),Lo(e,n),n.tag=1,qt(a)?(e=!0,qo(n)):e=!1,_i(n,s),cd(n,a,c),iu(n,a,c,s),lu(null,n,a,!0,e,s);case 19:return wd(e,n,s);case 22:return gd(e,n,s)}throw Error(K(156,n.tag))};function kd(e,n){return lf(e,n)}function Jg(e,n,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,n,s,a){return new Jg(e,n,s,a)}function gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $g(e){if(typeof e=="function")return gc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Du)return 11;if(e===ku)return 14}return 2}function vr(e,n){var s=e.alternate;return s===null?(s=xn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function jo(e,n,s,a,c,d){var x=2;if(a=e,typeof e=="function")gc(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case di:return Wr(s.children,c,d,n);case Mu:x=8,c|=8;break;case _a:return e=xn(12,s,n,c|2),e.elementType=_a,e.lanes=d,e;case Ra:return e=xn(13,s,n,c),e.elementType=Ra,e.lanes=d,e;case Oa:return e=xn(19,s,n,c),e.elementType=Oa,e.lanes=d,e;case H0:return Tl(s,c,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z0:x=10;break e;case V0:x=9;break e;case Du:x=11;break e;case ku:x=14;break e;case ur:x=16,a=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return n=xn(x,s,n,c),n.elementType=e,n.type=a,n.lanes=d,n}function Wr(e,n,s,a){return e=xn(7,e,a,n),e.lanes=s,e}function Tl(e,n,s,a){return e=xn(22,e,a,n),e.elementType=H0,e.lanes=s,e.stateNode={isHidden:!1},e}function va(e,n,s){return e=xn(6,e,null,n),e.lanes=s,e}function Sa(e,n,s){return n=xn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ex(e,n,s,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function xc(e,n,s,a,c,d,x,y,m){return e=new ex(e,n,s,y,m),n===1?(n=1,d===!0&&(n|=8)):n=0,d=xn(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ju(d),e}function tx(e,n,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:a==null?null:""+a,children:e,containerInfo:n,implementation:s}}function Pd(e){if(!e)return Nr;e=e._reactInternals;e:{if(Jr(e)!==e||e.tag!==1)throw Error(K(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(qt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(K(171))}if(e.tag===1){var s=e.type;if(qt(s))return Pf(e,s,n)}return n}function Bd(e,n,s,a,c,d,x,y,m){return e=xc(s,a,!0,e,c,d,x,y,m),e.context=Pd(null),s=e.current,a=Ut(),c=Ar(s),d=Zn(a,c),d.callback=n??null,Er(s,d,c),e.current.lanes=c,Gs(e,c,a),Jt(e,a),e}function _l(e,n,s,a){var c=n.current,d=Ut(),x=Ar(c);return s=Pd(s),n.context===null?n.context=s:n.pendingContext=s,n=Zn(d,x),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Er(c,n,x),e!==null&&(_n(e,c,x,d),ko(e,c,x)),x}function cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Q1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function pc(e,n){Q1(e,n),(e=e.alternate)&&Q1(e,n)}function nx(){return null}var Ld=typeof reportError=="function"?reportError:function(e){console.error(e)};function mc(e){this._internalRoot=e}Rl.prototype.render=mc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(K(409));_l(e,n,null,null)};Rl.prototype.unmount=mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Kr(function(){_l(null,e,null,null)}),n[Qn]=null}};function Rl(e){this._internalRoot=e}Rl.prototype.unstable_scheduleHydration=function(e){if(e){var n=gf();e={blockedOn:null,target:e,priority:n};for(var s=0;s<fr.length&&n!==0&&n<fr[s].priority;s++);fr.splice(s,0,e),s===0&&pf(e)}};function wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function q1(){}function rx(e,n,s,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var p=cl(x);d.call(p)}}var x=Bd(n,a,e,0,null,!1,!1,"",q1);return e._reactRootContainer=x,e[Qn]=x.current,Ds(e.nodeType===8?e.parentNode:e),Kr(),x}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var y=a;a=function(){var p=cl(m);y.call(p)}}var m=xc(e,0,!1,null,null,!1,!1,"",q1);return e._reactRootContainer=m,e[Qn]=m.current,Ds(e.nodeType===8?e.parentNode:e),Kr(function(){_l(n,m,s,a)}),m}function bl(e,n,s,a,c){var d=s._reactRootContainer;if(d){var x=d;if(typeof c=="function"){var y=c;c=function(){var m=cl(x);y.call(m)}}_l(n,x,e,c)}else x=rx(s,n,e,c,a);return cl(x)}df=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=ds(n.pendingLanes);s!==0&&(Lu(n,s|1),Jt(n,lt()),!(Te&6)&&(Bi=lt()+500,Rr()))}break;case 13:Kr(function(){var a=qn(e,1);if(a!==null){var c=Ut();_n(a,e,1,c)}}),pc(e,1)}};Fu=function(e){if(e.tag===13){var n=qn(e,134217728);if(n!==null){var s=Ut();_n(n,e,134217728,s)}pc(e,134217728)}};hf=function(e){if(e.tag===13){var n=Ar(e),s=qn(e,n);if(s!==null){var a=Ut();_n(s,e,n,a)}pc(e,n)}};gf=function(){return De};xf=function(e,n){var s=De;try{return De=e,n()}finally{De=s}};ja=function(e,n,s){switch(n){case"input":if(Da(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==e&&a.form===e.form){var c=Cl(a);if(!c)throw Error(K(90));G0(a),Da(a,c)}}}break;case"textarea":Y0(e,s);break;case"select":n=s.value,n!=null&&Si(e,!!s.multiple,n,!1)}};ef=fc;tf=Kr;var ix={usingClientEntryPoint:!1,Events:[Ys,pi,Cl,J0,$0,fc]},as={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sx={bundleType:as.bundleType,version:as.version,rendererPackageName:as.rendererPackageName,rendererConfig:as.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sf(e),e===null?null:e.stateNode},findFiberByHostInstance:as.findFiberByHostInstance||nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{ml=To.inject(sx),jn=To}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix;on.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wc(n))throw Error(K(200));return tx(e,n,null,s)};on.createRoot=function(e,n){if(!wc(e))throw Error(K(299));var s=!1,a="",c=Ld;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=xc(e,1,!1,null,null,s,!1,a,c),e[Qn]=n.current,Ds(e.nodeType===8?e.parentNode:e),new mc(n)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=sf(n),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return Kr(e)};on.hydrate=function(e,n,s){if(!Ol(n))throw Error(K(200));return bl(null,e,n,!0,s)};on.hydrateRoot=function(e,n,s){if(!wc(e))throw Error(K(405));var a=s!=null&&s.hydratedSources||null,c=!1,d="",x=Ld;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),n=Bd(n,null,e,1,s??null,c,!1,d,x),e[Qn]=n.current,Ds(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new Rl(n)};on.render=function(e,n,s){if(!Ol(n))throw Error(K(200));return bl(null,e,n,!1,s)};on.unmountComponentAtNode=function(e){if(!Ol(e))throw Error(K(40));return e._reactRootContainer?(Kr(function(){bl(null,null,e,!1,function(){e._reactRootContainer=null,e[Qn]=null})}),!0):!1};on.unstable_batchedUpdates=fc;on.unstable_renderSubtreeIntoContainer=function(e,n,s,a){if(!Ol(s))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return bl(e,n,s,!1,a)};on.version="18.3.1-next-f1338f8080-20240426";function Fd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fd)}catch(e){console.error(e)}}Fd(),L0.exports=on;var ox=L0.exports,J1=ox;Na.createRoot=J1.createRoot,Na.hydrateRoot=J1.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Vs.apply(this,arguments)}var xr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xr||(xr={}));const $1="popstate";function lx(e){e===void 0&&(e={});function n(a,c){let{pathname:d,search:x,hash:y}=a.location;return yu("",{pathname:d,search:x,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(a,c){return typeof c=="string"?c:fl(c)}return ux(n,s,null,e)}function ct(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function yc(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function ax(){return Math.random().toString(36).substr(2,8)}function e0(e,n){return{usr:e.state,key:e.key,idx:n}}function yu(e,n,s,a){return s===void 0&&(s=null),Vs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?zi(n):n,{state:s,key:n&&n.key||a||ax()})}function fl(e){let{pathname:n="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function zi(e){let n={};if(e){let s=e.indexOf("#");s>=0&&(n.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(n.search=e.substr(a),e=e.substr(0,a)),e&&(n.pathname=e)}return n}function ux(e,n,s,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:d=!1}=a,x=c.history,y=xr.Pop,m=null,p=v();p==null&&(p=0,x.replaceState(Vs({},x.state,{idx:p}),""));function v(){return(x.state||{idx:null}).idx}function A(){y=xr.Pop;let W=v(),O=W==null?null:W-p;p=W,m&&m({action:y,location:P.location,delta:O})}function N(W,O){y=xr.Push;let R=yu(P.location,W,O);p=v()+1;let _=e0(R,p),U=P.createHref(R);try{x.pushState(_,"",U)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;c.location.assign(U)}d&&m&&m({action:y,location:P.location,delta:1})}function D(W,O){y=xr.Replace;let R=yu(P.location,W,O);p=v();let _=e0(R,p),U=P.createHref(R);x.replaceState(_,"",U),d&&m&&m({action:y,location:P.location,delta:0})}function B(W){let O=c.location.origin!=="null"?c.location.origin:c.location.href,R=typeof W=="string"?W:fl(W);return R=R.replace(/ $/,"%20"),ct(O,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,O)}let P={get action(){return y},get location(){return e(c,x)},listen(W){if(m)throw new Error("A history only accepts one active listener");return c.addEventListener($1,A),m=W,()=>{c.removeEventListener($1,A),m=null}},createHref(W){return n(c,W)},createURL:B,encodeLocation(W){let O=B(W);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:N,replace:D,go(W){return x.go(W)}};return P}var t0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(t0||(t0={}));function cx(e,n,s){return s===void 0&&(s="/"),fx(e,n,s)}function fx(e,n,s,a){let c=typeof n=="string"?zi(n):n,d=Ec(c.pathname||"/",s);if(d==null)return null;let x=Ud(e);dx(x);let y=null;for(let m=0;y==null&&m<x.length;++m){let p=Sx(d);y=Cx(x[m],p)}return y}function Ud(e,n,s,a){n===void 0&&(n=[]),s===void 0&&(s=[]),a===void 0&&(a="");let c=(d,x,y)=>{let m={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:x,route:d};m.relativePath.startsWith("/")&&(ct(m.relativePath.startsWith(a),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(a.length));let p=Sr([a,m.relativePath]),v=s.concat(m);d.children&&d.children.length>0&&(ct(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Ud(d.children,n,v,p)),!(d.path==null&&!d.index)&&n.push({path:p,score:yx(p,d.index),routesMeta:v})};return e.forEach((d,x)=>{var y;if(d.path===""||!((y=d.path)!=null&&y.includes("?")))c(d,x);else for(let m of jd(d.path))c(d,x,m)}),n}function jd(e){let n=e.split("/");if(n.length===0)return[];let[s,...a]=n,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let x=jd(a.join("/")),y=[];return y.push(...x.map(m=>m===""?d:[d,m].join("/"))),c&&y.push(...x),y.map(m=>e.startsWith("/")&&m===""?"/":m)}function dx(e){e.sort((n,s)=>n.score!==s.score?s.score-n.score:Ex(n.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const hx=/^:[\w-]+$/,gx=3,xx=2,px=1,mx=10,wx=-2,n0=e=>e==="*";function yx(e,n){let s=e.split("/"),a=s.length;return s.some(n0)&&(a+=wx),n&&(a+=xx),s.filter(c=>!n0(c)).reduce((c,d)=>c+(hx.test(d)?gx:d===""?px:mx),a)}function Ex(e,n){return e.length===n.length&&e.slice(0,-1).every((a,c)=>a===n[c])?e[e.length-1]-n[n.length-1]:0}function Cx(e,n,s){let{routesMeta:a}=e,c={},d="/",x=[];for(let y=0;y<a.length;++y){let m=a[y],p=y===a.length-1,v=d==="/"?n:n.slice(d.length)||"/",A=Ax({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),N=m.route;if(!A)return null;Object.assign(c,A.params),x.push({params:c,pathname:Sr([d,A.pathname]),pathnameBase:Rx(Sr([d,A.pathnameBase])),route:N}),A.pathnameBase!=="/"&&(d=Sr([d,A.pathnameBase]))}return x}function Ax(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=vx(e.path,e.caseSensitive,e.end),c=n.match(s);if(!c)return null;let d=c[0],x=d.replace(/(.)\/+$/,"$1"),y=c.slice(1);return{params:a.reduce((p,v,A)=>{let{paramName:N,isOptional:D}=v;if(N==="*"){let P=y[A]||"";x=d.slice(0,d.length-P.length).replace(/(.)\/+$/,"$1")}const B=y[A];return D&&!B?p[N]=void 0:p[N]=(B||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:x,pattern:e}}function vx(e,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),yc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,y,m)=>(a.push({paramName:y,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),a]}function Sx(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return yc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Ec(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}const Ix=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nx=e=>Ix.test(e);function Tx(e,n){n===void 0&&(n="/");let{pathname:s,search:a="",hash:c=""}=typeof e=="string"?zi(e):e,d;if(s)if(Nx(s))d=s;else{if(s.includes("//")){let x=s;s=s.replace(/\/\/+/g,"/"),yc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(x+" -> "+s))}s.startsWith("/")?d=r0(s.substring(1),"/"):d=r0(s,n)}else d=n;return{pathname:d,search:Ox(a),hash:bx(c)}}function r0(e,n){let s=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Ia(e,n,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _x(e){return e.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function zd(e,n){let s=_x(e);return n?s.map((a,c)=>c===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function Vd(e,n,s,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=zi(e):(c=Vs({},e),ct(!c.pathname||!c.pathname.includes("?"),Ia("?","pathname","search",c)),ct(!c.pathname||!c.pathname.includes("#"),Ia("#","pathname","hash",c)),ct(!c.search||!c.search.includes("#"),Ia("#","search","hash",c)));let d=e===""||c.pathname==="",x=d?"/":c.pathname,y;if(x==null)y=s;else{let A=n.length-1;if(!a&&x.startsWith("..")){let N=x.split("/");for(;N[0]==="..";)N.shift(),A-=1;c.pathname=N.join("/")}y=A>=0?n[A]:"/"}let m=Tx(c,y),p=x&&x!=="/"&&x.endsWith("/"),v=(d||x===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}const Sr=e=>e.join("/").replace(/\/\/+/g,"/"),Rx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ox=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Mx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hd=["post","put","patch","delete"];new Set(Hd);const Dx=["get",...Hd];new Set(Dx);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Hs.apply(this,arguments)}const Cc=ee.createContext(null),kx=ee.createContext(null),$r=ee.createContext(null),Ml=ee.createContext(null),Or=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),Wd=ee.createContext(null);function Px(e,n){let{relative:s}=n===void 0?{}:n;Ks()||ct(!1);let{basename:a,navigator:c}=ee.useContext($r),{hash:d,pathname:x,search:y}=Xd(e,{relative:s}),m=x;return a!=="/"&&(m=x==="/"?a:Sr([a,x])),c.createHref({pathname:m,search:y,hash:d})}function Ks(){return ee.useContext(Ml)!=null}function Qs(){return Ks()||ct(!1),ee.useContext(Ml).location}function Gd(e){ee.useContext($r).static||ee.useLayoutEffect(e)}function Bx(){let{isDataRoute:e}=ee.useContext(Or);return e?Qx():Lx()}function Lx(){Ks()||ct(!1);let e=ee.useContext(Cc),{basename:n,future:s,navigator:a}=ee.useContext($r),{matches:c}=ee.useContext(Or),{pathname:d}=Qs(),x=JSON.stringify(zd(c,s.v7_relativeSplatPath)),y=ee.useRef(!1);return Gd(()=>{y.current=!0}),ee.useCallback(function(p,v){if(v===void 0&&(v={}),!y.current)return;if(typeof p=="number"){a.go(p);return}let A=Vd(p,JSON.parse(x),d,v.relative==="path");e==null&&n!=="/"&&(A.pathname=A.pathname==="/"?n:Sr([n,A.pathname])),(v.replace?a.replace:a.push)(A,v.state,v)},[n,a,x,d,e])}function Fx(){let{matches:e}=ee.useContext(Or),n=e[e.length-1];return n?n.params:{}}function Xd(e,n){let{relative:s}=n===void 0?{}:n,{future:a}=ee.useContext($r),{matches:c}=ee.useContext(Or),{pathname:d}=Qs(),x=JSON.stringify(zd(c,a.v7_relativeSplatPath));return ee.useMemo(()=>Vd(e,JSON.parse(x),d,s==="path"),[e,x,d,s])}function Ux(e,n){return jx(e,n)}function jx(e,n,s,a){Ks()||ct(!1);let{navigator:c}=ee.useContext($r),{matches:d}=ee.useContext(Or),x=d[d.length-1],y=x?x.params:{};x&&x.pathname;let m=x?x.pathnameBase:"/";x&&x.route;let p=Qs(),v;if(n){var A;let W=typeof n=="string"?zi(n):n;m==="/"||(A=W.pathname)!=null&&A.startsWith(m)||ct(!1),v=W}else v=p;let N=v.pathname||"/",D=N;if(m!=="/"){let W=m.replace(/^\//,"").split("/");D="/"+N.replace(/^\//,"").split("/").slice(W.length).join("/")}let B=cx(e,{pathname:D}),P=Gx(B&&B.map(W=>Object.assign({},W,{params:Object.assign({},y,W.params),pathname:Sr([m,c.encodeLocation?c.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?m:Sr([m,c.encodeLocation?c.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),d,s,a);return n&&P?ee.createElement(Ml.Provider,{value:{location:Hs({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:xr.Pop}},P):P}function zx(){let e=Kx(),n=Mx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},n),s?ee.createElement("pre",{style:c},s):null,null)}const Vx=ee.createElement(zx,null);class Hx extends ee.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?ee.createElement(Or.Provider,{value:this.props.routeContext},ee.createElement(Wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wx(e){let{routeContext:n,match:s,children:a}=e,c=ee.useContext(Cc);return c&&c.static&&c.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=s.route.id),ee.createElement(Or.Provider,{value:n},a)}function Gx(e,n,s,a){var c;if(n===void 0&&(n=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var d;if(!s)return null;if(s.errors)e=s.matches;else if((d=a)!=null&&d.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let x=e,y=(c=s)==null?void 0:c.errors;if(y!=null){let v=x.findIndex(A=>A.route.id&&(y==null?void 0:y[A.route.id])!==void 0);v>=0||ct(!1),x=x.slice(0,Math.min(x.length,v+1))}let m=!1,p=-1;if(s&&a&&a.v7_partialHydration)for(let v=0;v<x.length;v++){let A=x[v];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(p=v),A.route.id){let{loaderData:N,errors:D}=s,B=A.route.loader&&N[A.route.id]===void 0&&(!D||D[A.route.id]===void 0);if(A.route.lazy||B){m=!0,p>=0?x=x.slice(0,p+1):x=[x[0]];break}}}return x.reduceRight((v,A,N)=>{let D,B=!1,P=null,W=null;s&&(D=y&&A.route.id?y[A.route.id]:void 0,P=A.route.errorElement||Vx,m&&(p<0&&N===0?(qx("route-fallback"),B=!0,W=null):p===N&&(B=!0,W=A.route.hydrateFallbackElement||null)));let O=n.concat(x.slice(0,N+1)),R=()=>{let _;return D?_=P:B?_=W:A.route.Component?_=ee.createElement(A.route.Component,null):A.route.element?_=A.route.element:_=v,ee.createElement(Wx,{match:A,routeContext:{outlet:v,matches:O,isDataRoute:s!=null},children:_})};return s&&(A.route.ErrorBoundary||A.route.errorElement||N===0)?ee.createElement(Hx,{location:s.location,revalidation:s.revalidation,component:P,error:D,children:R(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):R()},null)}var Yd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Yd||{}),Zd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zd||{});function Xx(e){let n=ee.useContext(Cc);return n||ct(!1),n}function Yx(e){let n=ee.useContext(kx);return n||ct(!1),n}function Zx(e){let n=ee.useContext(Or);return n||ct(!1),n}function Kd(e){let n=Zx(),s=n.matches[n.matches.length-1];return s.route.id||ct(!1),s.route.id}function Kx(){var e;let n=ee.useContext(Wd),s=Yx(),a=Kd();return n!==void 0?n:(e=s.errors)==null?void 0:e[a]}function Qx(){let{router:e}=Xx(Yd.UseNavigateStable),n=Kd(Zd.UseNavigateStable),s=ee.useRef(!1);return Gd(()=>{s.current=!0}),ee.useCallback(function(c,d){d===void 0&&(d={}),s.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Hs({fromRouteId:n},d)))},[e,n])}const i0={};function qx(e,n,s){i0[e]||(i0[e]=!0)}function Jx(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gs(e){ct(!1)}function $x(e){let{basename:n="/",children:s=null,location:a,navigationType:c=xr.Pop,navigator:d,static:x=!1,future:y}=e;Ks()&&ct(!1);let m=n.replace(/^\/*/,"/"),p=ee.useMemo(()=>({basename:m,navigator:d,static:x,future:Hs({v7_relativeSplatPath:!1},y)}),[m,y,d,x]);typeof a=="string"&&(a=zi(a));let{pathname:v="/",search:A="",hash:N="",state:D=null,key:B="default"}=a,P=ee.useMemo(()=>{let W=Ec(v,m);return W==null?null:{location:{pathname:W,search:A,hash:N,state:D,key:B},navigationType:c}},[m,v,A,N,D,B,c]);return P==null?null:ee.createElement($r.Provider,{value:p},ee.createElement(Ml.Provider,{children:s,value:P}))}function ep(e){let{children:n,location:s}=e;return Ux(Eu(n),s)}new Promise(()=>{});function Eu(e,n){n===void 0&&(n=[]);let s=[];return ee.Children.forEach(e,(a,c)=>{if(!ee.isValidElement(a))return;let d=[...n,c];if(a.type===ee.Fragment){s.push.apply(s,Eu(a.props.children,d));return}a.type!==gs&&ct(!1),!a.props.index||!a.props.children||ct(!1);let x={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(x.children=Eu(a.props.children,d)),s.push(x)}),s}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Cu.apply(this,arguments)}function tp(e,n){if(e==null)return{};var s={},a=Object.keys(e),c,d;for(d=0;d<a.length;d++)c=a[d],!(n.indexOf(c)>=0)&&(s[c]=e[c]);return s}function np(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rp(e,n){return e.button===0&&(!n||n==="_self")&&!np(e)}const ip=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sp="6";try{window.__reactRouterVersion=sp}catch{}const op="startTransition",s0=Kh[op];function lp(e){let{basename:n,children:s,future:a,window:c}=e,d=ee.useRef();d.current==null&&(d.current=lx({window:c,v5Compat:!0}));let x=d.current,[y,m]=ee.useState({action:x.action,location:x.location}),{v7_startTransition:p}=a||{},v=ee.useCallback(A=>{p&&s0?s0(()=>m(A)):m(A)},[m,p]);return ee.useLayoutEffect(()=>x.listen(v),[x,v]),ee.useEffect(()=>Jx(a),[a]),ee.createElement($x,{basename:n,children:s,location:y.location,navigationType:y.action,navigator:x,future:a})}const ap=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",up=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Li=ee.forwardRef(function(n,s){let{onClick:a,relative:c,reloadDocument:d,replace:x,state:y,target:m,to:p,preventScrollReset:v,viewTransition:A}=n,N=tp(n,ip),{basename:D}=ee.useContext($r),B,P=!1;if(typeof p=="string"&&up.test(p)&&(B=p,ap))try{let _=new URL(window.location.href),U=p.startsWith("//")?new URL(_.protocol+p):new URL(p),Z=Ec(U.pathname,D);U.origin===_.origin&&Z!=null?p=Z+U.search+U.hash:P=!0}catch{}let W=Px(p,{relative:c}),O=cp(p,{replace:x,state:y,target:m,preventScrollReset:v,relative:c,viewTransition:A});function R(_){a&&a(_),_.defaultPrevented||O(_)}return ee.createElement("a",Cu({},N,{href:B||W,onClick:P||d?a:R,ref:s,target:m}))});var o0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(o0||(o0={}));var l0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(l0||(l0={}));function cp(e,n){let{target:s,replace:a,state:c,preventScrollReset:d,relative:x,viewTransition:y}=n===void 0?{}:n,m=Bx(),p=Qs(),v=Xd(e,{relative:x});return ee.useCallback(A=>{if(rp(A,s)){A.preventDefault();let N=a!==void 0?a:fl(p)===fl(v);m(e,{replace:N,state:c,preventScrollReset:d,relative:x,viewTransition:y})}},[p,m,v,a,c,s,e,d,x,y])}let _o;const fp=new Uint8Array(16);function dp(){if(!_o&&(_o=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _o(fp)}const Nt=[];for(let e=0;e<256;++e)Nt.push((e+256).toString(16).slice(1));function hp(e,n=0){return Nt[e[n+0]]+Nt[e[n+1]]+Nt[e[n+2]]+Nt[e[n+3]]+"-"+Nt[e[n+4]]+Nt[e[n+5]]+"-"+Nt[e[n+6]]+Nt[e[n+7]]+"-"+Nt[e[n+8]]+Nt[e[n+9]]+"-"+Nt[e[n+10]]+Nt[e[n+11]]+Nt[e[n+12]]+Nt[e[n+13]]+Nt[e[n+14]]+Nt[e[n+15]]}const gp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),a0={randomUUID:gp};function u0(e,n,s){if(a0.randomUUID&&!e)return a0.randomUUID();e=e||{};const a=e.random||(e.rng||dp)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,hp(a)}const Qd=ee.createContext(),us="/api",xp=({children:e})=>{const[n,s]=ee.useState([]),[a,c]=ee.useState(!0),[d,x]=ee.useState(null),y=async()=>{try{const D=await fetch(`${us}/events`);if(!D.ok)throw new Error("Failed to fetch events");const B=await D.json();s(B)}catch(D){console.error(D),x("Could not connect to server. Ensure server.js is running.")}finally{c(!1)}};ee.useEffect(()=>{y();const D=setInterval(y,5e3);return()=>clearInterval(D)},[]);const m=async D=>{const B={id:u0(),createdAt:new Date().toISOString(),guests:[],...D};s(P=>[B,...P]),await fetch(`${us}/events`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)})},p=async D=>{s(B=>B.filter(P=>P.id!==D)),await fetch(`${us}/events/${D}`,{method:"DELETE"})},v=D=>n.find(B=>B.id===D),A=async(D,B)=>{const P={id:u0(),addedAt:new Date().toISOString(),attended:!1,attendedCount:0,...B};s(W=>W.map(O=>O.id===D?{...O,guests:[...O.guests,P]}:O)),await fetch(`${us}/events/${D}/guests`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})},N=async(D,B,P=1)=>{s(W=>W.map(O=>O.id===D?{...O,guests:O.guests.map(R=>R.id===B?{...R,attended:!0,attendedCount:(R.attendedCount||0)+P,checkInTime:new Date().toISOString()}:R)}:O)),await fetch(`${us}/events/${D}/guests/${B}/checkin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({count:P})})};return M.jsx(Qd.Provider,{value:{events:n,loading:a,error:d,createEvent:m,deleteEvent:p,getEvent:v,addGuest:A,markGuestAttended:N},children:e})},Ac=()=>{const e=ee.useContext(Qd);if(!e)throw new Error("useApp must be used within an AppProvider");return e};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pt=(e,n)=>{const s=ee.forwardRef(({color:a="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:x,className:y="",children:m,...p},v)=>ee.createElement("svg",{ref:v,...pp,width:c,height:c,stroke:a,strokeWidth:x?Number(d)*24/Number(c):d,className:["lucide",`lucide-${mp(e)}`,y].join(" "),...p},[...n.map(([A,N])=>ee.createElement(A,N)),...Array.isArray(m)?m:[m]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=pt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=pt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=pt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=pt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=pt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=pt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=pt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=pt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=pt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=pt("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=pt("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=pt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=pt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Pp=({children:e})=>{const s=Qs().pathname==="/";return M.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-50 flex flex-col",children:[M.jsx("nav",{className:"p-4 border-b border-slate-800 bg-slate-900/50 backdrop-blur-md sticky top-0 z-50",children:M.jsxs("div",{className:"container flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[!s&&M.jsx(Li,{to:"/",className:"p-2 hover:bg-slate-800 rounded-full transition-colors",children:M.jsx(yp,{size:20,className:"text-slate-400"})}),M.jsxs(Li,{to:"/",className:"font-bold text-xl text-gradient flex items-center gap-2",children:[M.jsx(Rp,{})," GuestPass"]})]}),M.jsx("div",{className:"flex gap-2"})]})}),M.jsx("main",{className:"flex-1 container py-8 relative page-transition",children:e}),M.jsx("footer",{className:"p-6 border-t border-slate-800 text-center text-slate-500 text-sm",children:M.jsxs("p",{children:[" ",new Date().getFullYear()," GuestPass. Secure Event Verification."]})})]})},Bp=()=>M.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-12",children:[M.jsxs("div",{className:"text-center space-y-4 max-w-2xl",children:[M.jsxs("h1",{className:"text-5xl font-bold tracking-tight text-white",children:["Event Verification ",M.jsx("span",{className:"text-gradient",children:"Simpified"})]}),M.jsx("p",{className:"text-xl text-slate-400",children:"Secure, fast, and reliable guest management for any occasion. Create events, generate secure QRs, and scan at the door."})]}),M.jsxs("div",{className:"grid md:grid-cols-2 gap-6 w-full max-w-4xl",children:[M.jsxs(Li,{to:"/manager",className:"group relative",children:[M.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl blur opacity-20 group-hover:opacity-40 transition-opacity"}),M.jsxs("div",{className:"card h-full flex flex-col items-center text-center p-8 gap-6 hover:translate-y-[-4px] transition-transform cursor-pointer relative bg-slate-900/90",children:[M.jsx("div",{className:"p-4 rounded-full bg-indigo-500/10 text-indigo-400 group-hover:scale-110 transition-transform",children:M.jsx(Au,{size:48})}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Event Manager"}),M.jsx("p",{className:"text-slate-400",children:"Create events, manage guest lists, and generate secure invites."})]}),M.jsxs("span",{className:"mt-auto flex items-center gap-2 text-indigo-400 font-medium group-hover:gap-3 transition-all",children:["Manage Events ",M.jsx(c0,{size:18})]})]})]}),M.jsxs(Li,{to:"/scanner",className:"group relative",children:[M.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600 to-teal-600 rounded-2xl blur opacity-20 group-hover:opacity-40 transition-opacity"}),M.jsxs("div",{className:"card h-full flex flex-col items-center text-center p-8 gap-6 hover:translate-y-[-4px] transition-transform cursor-pointer relative bg-slate-900/90",children:[M.jsx("div",{className:"p-4 rounded-full bg-emerald-500/10 text-emerald-400 group-hover:scale-110 transition-transform",children:M.jsx(_p,{size:48})}),M.jsxs("div",{className:"space-y-2",children:[M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gatekeeper Scanner"}),M.jsx("p",{className:"text-slate-400",children:"Verify guests at the door. Scan QR codes and track attendance."})]}),M.jsxs("span",{className:"mt-auto flex items-center gap-2 text-emerald-400 font-medium group-hover:gap-3 transition-all",children:["Start Scanning ",M.jsx(c0,{size:18})]})]})]})]})]}),Lp=()=>{const{events:e,createEvent:n,deleteEvent:s}=Ac(),[a,c]=ee.useState(!1),[d,x]=ee.useState({title:"",date:"",location:""}),y=p=>{p.preventDefault(),d.title&&(n(d),x({title:"",date:"",location:""}),c(!1))},m=(p,v)=>{p.preventDefault(),confirm("Are you sure you want to delete this event?")&&s(v)};return M.jsxs("div",{className:"space-y-8",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl font-bold text-white",children:"Your Events"}),M.jsx("p",{className:"text-slate-400",children:"Manage your upcoming events and guest lists"})]}),M.jsxs("button",{onClick:()=>c(!0),className:"btn btn-primary",children:[M.jsx(Ip,{size:20})," Create Event"]})]}),a&&M.jsxs("div",{className:"card max-w-2xl mx-auto space-y-4 animate-in fade-in slide-in-from-top-4",children:[M.jsx("h2",{className:"text-xl font-bold text-white",children:"New Event Details"}),M.jsxs("form",{onSubmit:y,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Event Title"}),M.jsx("input",{type:"text",value:d.title,onChange:p=>x({...d,title:p.target.value}),className:"input",placeholder:"e.g. Summer Gala 2024",autoFocus:!0})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Date"}),M.jsx("input",{type:"date",value:d.date,onChange:p=>x({...d,date:p.target.value}),className:"input"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Location (Optional)"}),M.jsx("input",{type:"text",value:d.location,onChange:p=>x({...d,location:p.target.value}),className:"input",placeholder:"e.g. Grand Hall"})]})]}),M.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[M.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-secondary",children:"Cancel"}),M.jsx("button",{type:"submit",className:"btn btn-primary",children:"Create Event"})]})]})]}),e.length===0?M.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-slate-800 rounded-2xl bg-slate-900/50",children:[M.jsx(Au,{size:48,className:"mx-auto text-slate-600 mb-4"}),M.jsx("h3",{className:"text-xl font-medium text-slate-300",children:"No events yet"}),M.jsx("p",{className:"text-slate-500",children:"Create your first event to get started."})]}):M.jsx("div",{className:"grid gap-4",children:e.map(p=>{var v;return M.jsx(Li,{to:`/event/${p.id}`,children:M.jsxs("div",{className:"card group hover:bg-slate-800/50 transition-colors flex items-center justify-between p-6",children:[M.jsxs("div",{className:"flex items-start gap-4",children:[M.jsx("div",{className:"p-3 rounded-lg bg-indigo-500/10 text-indigo-400",children:M.jsx(Au,{size:24})}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-indigo-400 transition-colors",children:p.title}),M.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400 mt-1",children:[M.jsx("span",{children:p.date||"No date set"}),M.jsx("span",{children:""}),M.jsxs("span",{children:[((v=p.guests)==null?void 0:v.length)||0," Guests"]})]})]})]}),M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx("button",{onClick:A=>m(A,p.id),className:"p-2 hover:bg-red-500/10 hover:text-red-400 text-slate-500 rounded-full transition-colors",children:M.jsx(bp,{size:20})}),M.jsx(vp,{size:24,className:"text-slate-600 group-hover:text-white transition-colors"})]})]})},p.id)})})]})};var Fp=Object.defineProperty,dl=Object.getOwnPropertySymbols,qd=Object.prototype.hasOwnProperty,Jd=Object.prototype.propertyIsEnumerable,f0=(e,n,s)=>n in e?Fp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,d0=(e,n)=>{for(var s in n||(n={}))qd.call(n,s)&&f0(e,s,n[s]);if(dl)for(var s of dl(n))Jd.call(n,s)&&f0(e,s,n[s]);return e},Up=(e,n)=>{var s={};for(var a in e)qd.call(e,a)&&n.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&dl)for(var a of dl(e))n.indexOf(a)<0&&Jd.call(e,a)&&(s[a]=e[a]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Qr;(e=>{const n=class{constructor(m,p,v,A){if(this.version=m,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],m<n.MIN_VERSION||m>n.MAX_VERSION)throw new RangeError("Version value out of range");if(A<-1||A>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let N=[];for(let B=0;B<this.size;B++)N.push(!1);for(let B=0;B<this.size;B++)this.modules.push(N.slice()),this.isFunction.push(N.slice());this.drawFunctionPatterns();const D=this.addEccAndInterleave(v);if(this.drawCodewords(D),A==-1){let B=1e9;for(let P=0;P<8;P++){this.applyMask(P),this.drawFormatBits(P);const W=this.getPenaltyScore();W<B&&(A=P,B=W),this.applyMask(P)}}d(0<=A&&A<=7),this.mask=A,this.applyMask(A),this.drawFormatBits(A),this.isFunction=[]}static encodeText(m,p){const v=e.QrSegment.makeSegments(m);return n.encodeSegments(v,p)}static encodeBinary(m,p){const v=e.QrSegment.makeBytes(m);return n.encodeSegments([v],p)}static encodeSegments(m,p,v=1,A=40,N=-1,D=!0){if(!(n.MIN_VERSION<=v&&v<=A&&A<=n.MAX_VERSION)||N<-1||N>7)throw new RangeError("Invalid value");let B,P;for(B=v;;B++){const _=n.getNumDataCodewords(B,p)*8,U=y.getTotalBits(m,B);if(U<=_){P=U;break}if(B>=A)throw new RangeError("Data too long")}for(const _ of[n.Ecc.MEDIUM,n.Ecc.QUARTILE,n.Ecc.HIGH])D&&P<=n.getNumDataCodewords(B,_)*8&&(p=_);let W=[];for(const _ of m){a(_.mode.modeBits,4,W),a(_.numChars,_.mode.numCharCountBits(B),W);for(const U of _.getData())W.push(U)}d(W.length==P);const O=n.getNumDataCodewords(B,p)*8;d(W.length<=O),a(0,Math.min(4,O-W.length),W),a(0,(8-W.length%8)%8,W),d(W.length%8==0);for(let _=236;W.length<O;_^=253)a(_,8,W);let R=[];for(;R.length*8<W.length;)R.push(0);return W.forEach((_,U)=>R[U>>>3]|=_<<7-(U&7)),new n(B,p,R,N)}getModule(m,p){return 0<=m&&m<this.size&&0<=p&&p<this.size&&this.modules[p][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),p=m.length;for(let v=0;v<p;v++)for(let A=0;A<p;A++)v==0&&A==0||v==0&&A==p-1||v==p-1&&A==0||this.drawAlignmentPattern(m[v],m[A]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const p=this.errorCorrectionLevel.formatBits<<3|m;let v=p;for(let N=0;N<10;N++)v=v<<1^(v>>>9)*1335;const A=(p<<10|v)^21522;d(A>>>15==0);for(let N=0;N<=5;N++)this.setFunctionModule(8,N,c(A,N));this.setFunctionModule(8,7,c(A,6)),this.setFunctionModule(8,8,c(A,7)),this.setFunctionModule(7,8,c(A,8));for(let N=9;N<15;N++)this.setFunctionModule(14-N,8,c(A,N));for(let N=0;N<8;N++)this.setFunctionModule(this.size-1-N,8,c(A,N));for(let N=8;N<15;N++)this.setFunctionModule(8,this.size-15+N,c(A,N));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let v=0;v<12;v++)m=m<<1^(m>>>11)*7973;const p=this.version<<12|m;d(p>>>18==0);for(let v=0;v<18;v++){const A=c(p,v),N=this.size-11+v%3,D=Math.floor(v/3);this.setFunctionModule(N,D,A),this.setFunctionModule(D,N,A)}}drawFinderPattern(m,p){for(let v=-4;v<=4;v++)for(let A=-4;A<=4;A++){const N=Math.max(Math.abs(A),Math.abs(v)),D=m+A,B=p+v;0<=D&&D<this.size&&0<=B&&B<this.size&&this.setFunctionModule(D,B,N!=2&&N!=4)}}drawAlignmentPattern(m,p){for(let v=-2;v<=2;v++)for(let A=-2;A<=2;A++)this.setFunctionModule(m+A,p+v,Math.max(Math.abs(A),Math.abs(v))!=1)}setFunctionModule(m,p,v){this.modules[p][m]=v,this.isFunction[p][m]=!0}addEccAndInterleave(m){const p=this.version,v=this.errorCorrectionLevel;if(m.length!=n.getNumDataCodewords(p,v))throw new RangeError("Invalid argument");const A=n.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][p],N=n.ECC_CODEWORDS_PER_BLOCK[v.ordinal][p],D=Math.floor(n.getNumRawDataModules(p)/8),B=A-D%A,P=Math.floor(D/A);let W=[];const O=n.reedSolomonComputeDivisor(N);for(let _=0,U=0;_<A;_++){let Z=m.slice(U,U+P-N+(_<B?0:1));U+=Z.length;const Q=n.reedSolomonComputeRemainder(Z,O);_<B&&Z.push(0),W.push(Z.concat(Q))}let R=[];for(let _=0;_<W[0].length;_++)W.forEach((U,Z)=>{(_!=P-N||Z>=B)&&R.push(U[_])});return d(R.length==D),R}drawCodewords(m){if(m.length!=Math.floor(n.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let A=0;A<this.size;A++)for(let N=0;N<2;N++){const D=v-N,P=(v+1&2)==0?this.size-1-A:A;!this.isFunction[P][D]&&p<m.length*8&&(this.modules[P][D]=c(m[p>>>3],7-(p&7)),p++)}}d(p==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let v=0;v<this.size;v++){let A;switch(m){case 0:A=(v+p)%2==0;break;case 1:A=p%2==0;break;case 2:A=v%3==0;break;case 3:A=(v+p)%3==0;break;case 4:A=(Math.floor(v/3)+Math.floor(p/2))%2==0;break;case 5:A=v*p%2+v*p%3==0;break;case 6:A=(v*p%2+v*p%3)%2==0;break;case 7:A=((v+p)%2+v*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][v]&&A&&(this.modules[p][v]=!this.modules[p][v])}}getPenaltyScore(){let m=0;for(let N=0;N<this.size;N++){let D=!1,B=0,P=[0,0,0,0,0,0,0];for(let W=0;W<this.size;W++)this.modules[N][W]==D?(B++,B==5?m+=n.PENALTY_N1:B>5&&m++):(this.finderPenaltyAddHistory(B,P),D||(m+=this.finderPenaltyCountPatterns(P)*n.PENALTY_N3),D=this.modules[N][W],B=1);m+=this.finderPenaltyTerminateAndCount(D,B,P)*n.PENALTY_N3}for(let N=0;N<this.size;N++){let D=!1,B=0,P=[0,0,0,0,0,0,0];for(let W=0;W<this.size;W++)this.modules[W][N]==D?(B++,B==5?m+=n.PENALTY_N1:B>5&&m++):(this.finderPenaltyAddHistory(B,P),D||(m+=this.finderPenaltyCountPatterns(P)*n.PENALTY_N3),D=this.modules[W][N],B=1);m+=this.finderPenaltyTerminateAndCount(D,B,P)*n.PENALTY_N3}for(let N=0;N<this.size-1;N++)for(let D=0;D<this.size-1;D++){const B=this.modules[N][D];B==this.modules[N][D+1]&&B==this.modules[N+1][D]&&B==this.modules[N+1][D+1]&&(m+=n.PENALTY_N2)}let p=0;for(const N of this.modules)p=N.reduce((D,B)=>D+(B?1:0),p);const v=this.size*this.size,A=Math.ceil(Math.abs(p*20-v*10)/v)-1;return d(0<=A&&A<=9),m+=A*n.PENALTY_N4,d(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let v=[6];for(let A=this.size-7;v.length<m;A-=p)v.splice(1,0,A);return v}}static getNumRawDataModules(m){if(m<n.MIN_VERSION||m>n.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*m+128)*m+64;if(m>=2){const v=Math.floor(m/7)+2;p-=(25*v-10)*v-55,m>=7&&(p-=36)}return d(208<=p&&p<=29648),p}static getNumDataCodewords(m,p){return Math.floor(n.getNumRawDataModules(m)/8)-n.ECC_CODEWORDS_PER_BLOCK[p.ordinal][m]*n.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let p=[];for(let A=0;A<m-1;A++)p.push(0);p.push(1);let v=1;for(let A=0;A<m;A++){for(let N=0;N<p.length;N++)p[N]=n.reedSolomonMultiply(p[N],v),N+1<p.length&&(p[N]^=p[N+1]);v=n.reedSolomonMultiply(v,2)}return p}static reedSolomonComputeRemainder(m,p){let v=p.map(A=>0);for(const A of m){const N=A^v.shift();v.push(0),p.forEach((D,B)=>v[B]^=n.reedSolomonMultiply(D,N))}return v}static reedSolomonMultiply(m,p){if(m>>>8||p>>>8)throw new RangeError("Byte out of range");let v=0;for(let A=7;A>=0;A--)v=v<<1^(v>>>7)*285,v^=(p>>>A&1)*m;return d(v>>>8==0),v}finderPenaltyCountPatterns(m){const p=m[1];d(p<=this.size*3);const v=p>0&&m[2]==p&&m[3]==p*3&&m[4]==p&&m[5]==p;return(v&&m[0]>=p*4&&m[6]>=p?1:0)+(v&&m[6]>=p*4&&m[0]>=p?1:0)}finderPenaltyTerminateAndCount(m,p,v){return m&&(this.finderPenaltyAddHistory(p,v),p=0),p+=this.size,this.finderPenaltyAddHistory(p,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(m,p){p[0]==0&&(m+=this.size),p.pop(),p.unshift(m)}};let s=n;s.MIN_VERSION=1,s.MAX_VERSION=40,s.PENALTY_N1=3,s.PENALTY_N2=3,s.PENALTY_N3=40,s.PENALTY_N4=10,s.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],s.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=s;function a(m,p,v){if(p<0||p>31||m>>>p)throw new RangeError("Value out of range");for(let A=p-1;A>=0;A--)v.push(m>>>A&1)}function c(m,p){return(m>>>p&1)!=0}function d(m){if(!m)throw new Error("Assertion error")}const x=class{constructor(m,p,v){if(this.mode=m,this.numChars=p,this.bitData=v,p<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(m){let p=[];for(const v of m)a(v,8,p);return new x(x.Mode.BYTE,m.length,p)}static makeNumeric(m){if(!x.isNumeric(m))throw new RangeError("String contains non-numeric characters");let p=[];for(let v=0;v<m.length;){const A=Math.min(m.length-v,3);a(parseInt(m.substr(v,A),10),A*3+1,p),v+=A}return new x(x.Mode.NUMERIC,m.length,p)}static makeAlphanumeric(m){if(!x.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],v;for(v=0;v+2<=m.length;v+=2){let A=x.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v))*45;A+=x.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v+1)),a(A,11,p)}return v<m.length&&a(x.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v)),6,p),new x(x.Mode.ALPHANUMERIC,m.length,p)}static makeSegments(m){return m==""?[]:x.isNumeric(m)?[x.makeNumeric(m)]:x.isAlphanumeric(m)?[x.makeAlphanumeric(m)]:[x.makeBytes(x.toUtf8ByteArray(m))]}static makeEci(m){let p=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)a(m,8,p);else if(m<16384)a(2,2,p),a(m,14,p);else if(m<1e6)a(6,3,p),a(m,21,p);else throw new RangeError("ECI assignment value out of range");return new x(x.Mode.ECI,0,p)}static isNumeric(m){return x.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return x.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,p){let v=0;for(const A of m){const N=A.mode.numCharCountBits(p);if(A.numChars>=1<<N)return 1/0;v+=4+N+A.bitData.length}return v}static toUtf8ByteArray(m){m=encodeURI(m);let p=[];for(let v=0;v<m.length;v++)m.charAt(v)!="%"?p.push(m.charCodeAt(v)):(p.push(parseInt(m.substr(v+1,2),16)),v+=2);return p}};let y=x;y.NUMERIC_REGEX=/^[0-9]*$/,y.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,y.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=y})(Qr||(Qr={}));(e=>{(n=>{const s=class{constructor(c,d){this.ordinal=c,this.formatBits=d}};let a=s;a.LOW=new s(0,1),a.MEDIUM=new s(1,0),a.QUARTILE=new s(2,3),a.HIGH=new s(3,2),n.Ecc=a})(e.QrCode||(e.QrCode={}))})(Qr||(Qr={}));(e=>{(n=>{const s=class{constructor(c,d){this.modeBits=c,this.numBitsCharCount=d}numCharCountBits(c){return this.numBitsCharCount[Math.floor((c+7)/17)]}};let a=s;a.NUMERIC=new s(1,[10,12,14]),a.ALPHANUMERIC=new s(2,[9,11,13]),a.BYTE=new s(4,[8,16,16]),a.KANJI=new s(8,[8,10,12]),a.ECI=new s(7,[0,0,0]),n.Mode=a})(e.QrSegment||(e.QrSegment={}))})(Qr||(Qr={}));var xs=Qr;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var jp={L:xs.QrCode.Ecc.LOW,M:xs.QrCode.Ecc.MEDIUM,Q:xs.QrCode.Ecc.QUARTILE,H:xs.QrCode.Ecc.HIGH},zp=128,Vp="L",Hp="#FFFFFF",Wp="#000000",Gp=!1,$d=4,Xp=.1;function Yp(e,n=0){const s=[];return e.forEach(function(a,c){let d=null;a.forEach(function(x,y){if(!x&&d!==null){s.push(`M${d+n} ${c+n}h${y-d}v1H${d+n}z`),d=null;return}if(y===a.length-1){if(!x)return;d===null?s.push(`M${y+n},${c+n} h1v1H${y+n}z`):s.push(`M${d+n},${c+n} h${y+1-d}v1H${d+n}z`);return}x&&d===null&&(d=y)})}),s.join("")}function Zp(e,n){return e.slice().map((s,a)=>a<n.y||a>=n.y+n.h?s:s.map((c,d)=>d<n.x||d>=n.x+n.w?c:!1))}function Kp(e,n,s,a){if(a==null)return null;const c=s?$d:0,d=e.length+c*2,x=Math.floor(n*Xp),y=d/n,m=(a.width||x)*y,p=(a.height||x)*y,v=a.x==null?e.length/2-m/2:a.x*y,A=a.y==null?e.length/2-p/2:a.y*y;let N=null;if(a.excavate){let D=Math.floor(v),B=Math.floor(A),P=Math.ceil(m+v-D),W=Math.ceil(p+A-B);N={x:D,y:B,w:P,h:W}}return{x:v,y:A,h:p,w:m,excavation:N}}var Qp=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function qp(e){const n=e,{value:s,size:a=zp,level:c=Vp,bgColor:d=Hp,fgColor:x=Wp,includeMargin:y=Gp,style:m,imageSettings:p}=n,v=Up(n,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),A=p==null?void 0:p.src,N=vn.useRef(null),D=vn.useRef(null),[B,P]=vn.useState(!1);vn.useEffect(()=>{if(N.current!=null){const R=N.current,_=R.getContext("2d");if(!_)return;let U=xs.QrCode.encodeText(s,jp[c]).getModules();const Z=y?$d:0,Q=U.length+Z*2,j=Kp(U,a,y,p),$=D.current,G=j!=null&&$!==null&&$.complete&&$.naturalHeight!==0&&$.naturalWidth!==0;G&&j.excavation!=null&&(U=Zp(U,j.excavation));const xe=window.devicePixelRatio||1;R.height=R.width=a*xe;const Me=a/Q*xe;_.scale(Me,Me),_.fillStyle=d,_.fillRect(0,0,Q,Q),_.fillStyle=x,Qp?_.fill(new Path2D(Yp(U,Z))):U.forEach(function(ue,Ce){ue.forEach(function(Ze,H){Ze&&_.fillRect(H+Z,Ce+Z,1,1)})}),G&&_.drawImage($,j.x+Z,j.y+Z,j.w,j.h)}}),vn.useEffect(()=>{P(!1)},[A]);const W=d0({height:a,width:a},m);let O=null;return A!=null&&(O=vn.createElement("img",{src:A,key:A,style:{display:"none"},onLoad:()=>{P(!0)},ref:D})),vn.createElement(vn.Fragment,null,vn.createElement("canvas",d0({style:W,height:a,width:a,ref:N},v)),O)}const Jp=({payload:e,name:n,eventTitle:s})=>{const a=ee.useRef(),c=()=>{const d=a.current.querySelector("canvas");if(d){const x=d.toDataURL("image/png"),y=document.createElement("a");y.download=`invite-${n.replace(/\s+/g,"-").toLowerCase()}.png`,y.href=x,y.click()}};return M.jsxs("div",{ref:a,className:"bg-white p-4 rounded-xl inline-block shadow-lg",children:[M.jsx("div",{className:"mb-2 text-center",children:M.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider font-bold",children:s})}),M.jsx(qp,{value:JSON.stringify(e),size:200,level:"H",includeMargin:!0}),M.jsx("div",{className:"mt-2 text-center max-w-[200px]",children:M.jsx("h4",{className:"font-bold text-slate-900 truncate",children:n})}),M.jsx("div",{className:"mt-4 grid grid-cols-1 gap-2",children:M.jsxs("button",{onClick:c,className:"w-full py-2 px-3 bg-slate-900 text-white text-xs font-medium rounded hover:bg-slate-800 flex items-center justify-center gap-2",children:[M.jsx(Sp,{size:14})," Download PNG"]})})]})},$p=()=>{var N,D,B;const{id:e}=Fx(),{getEvent:n,addGuest:s}=Ac(),a=n(e),[c,d]=ee.useState({name:"",phone:""}),[x,y]=ee.useState(""),[m,p]=ee.useState(null);if(!a)return M.jsxs("div",{className:"text-center py-12",children:[M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Event not found"}),M.jsx(Li,{to:"/manager",className:"text-indigo-400 hover:text-indigo-300 mt-4 inline-block",children:"Go back to dashboard"})]});const v=P=>{P.preventDefault(),c.name&&(s(e,c),d({name:"",phone:""}))},A=((N=a.guests)==null?void 0:N.filter(P=>P.name.toLowerCase().includes(x.toLowerCase())||P.phone.includes(x)).sort((P,W)=>new Date(W.addedAt)-new Date(P.addedAt)))||[];return M.jsxs("div",{className:"space-y-8",children:[M.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[M.jsxs("div",{children:[M.jsx("div",{className:"flex items-center gap-2 text-indigo-400 text-sm mb-1 uppercase tracking-wider font-bold",children:M.jsx("span",{children:"Event"})}),M.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:a.title}),M.jsxs("div",{className:"flex items-center gap-4 text-slate-400",children:[M.jsx("span",{children:a.date||"Date TBD"}),M.jsx("span",{children:""}),M.jsx("span",{children:a.location||"Location TBD"})]})]}),M.jsxs("div",{className:"flex items-center gap-4 bg-slate-800/50 p-4 rounded-xl border border-slate-700",children:[M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"text-2xl font-bold text-white",children:((D=a.guests)==null?void 0:D.length)||0}),M.jsx("div",{className:"text-xs text-slate-400",children:"Total Guests"})]}),M.jsx("div",{className:"w-px h-8 bg-slate-700"}),M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:((B=a.guests)==null?void 0:B.filter(P=>P.attended).length)||0}),M.jsx("div",{className:"text-xs text-slate-400",children:"Attended"})]})]})]}),M.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[M.jsxs("div",{className:"card space-y-6 h-fit bg-slate-800/30",children:[M.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[M.jsx(Mp,{size:20,className:"text-indigo-400"})," Add Guest"]}),M.jsxs("form",{onSubmit:v,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Full Name"}),M.jsx("input",{type:"text",className:"input",value:c.name,onChange:P=>d({...c,name:P.target.value}),placeholder:"John Doe"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Phone (Optional)"}),M.jsx("input",{type:"tel",className:"input",value:c.phone,onChange:P=>d({...c,phone:P.target.value}),placeholder:"+1 234 567 890"})]}),M.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:"Add to List"}),M.jsx("p",{className:"text-xs text-slate-500 text-center",children:"This handles the digital RSVP. Generate QR codes from the list."})]})]}),M.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsx("h3",{className:"text-xl font-bold text-white",children:"Guest List"}),M.jsxs("div",{className:"relative w-64",children:[M.jsx(Op,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),M.jsx("input",{type:"text",className:"input pl-10 py-2 text-sm",placeholder:"Search guests...",value:x,onChange:P=>y(P.target.value)})]})]}),M.jsx("div",{className:"space-y-3",children:A.length===0?M.jsx("div",{className:"text-center py-12 text-slate-500 bg-slate-800/30 rounded-xl",children:"No guests found. Add someone to get started."}):A.map(P=>M.jsxs("div",{className:"bg-slate-800/40 border border-slate-700/50 rounded-xl p-4 flex items-center justify-between group hover:border-indigo-500/30 transition-colors",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx("div",{className:`w-2 h-2 rounded-full ${P.attended?"bg-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.5)]":"bg-slate-600"}`}),M.jsxs("div",{children:[M.jsx("h4",{className:"font-bold text-white",children:P.name}),M.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-2",children:[M.jsx("span",{children:P.phone||"No phone"}),P.attended&&M.jsxs("span",{className:"text-emerald-400 flex items-center gap-1 bg-emerald-400/10 px-2 py-0.5 rounded-full",children:[M.jsx(Cp,{size:10})," Checked In (+",P.attendedCount,")"]})]})]})]}),M.jsx("div",{className:"flex items-center gap-2",children:m===P.id?M.jsx("button",{onClick:()=>p(null),className:"text-xs text-slate-400 underline",children:"Hide QR"}):M.jsxs("button",{onClick:()=>p(P.id),className:"btn btn-secondary py-1.5 px-3 text-sm",children:[M.jsx(Np,{size:16})," View QR"]})}),m===P.id&&M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>p(null),children:M.jsx("div",{onClick:W=>W.stopPropagation(),children:M.jsx(Jp,{name:P.name,eventTitle:a.title,payload:{eventId:a.id,guestId:P.id,name:P.name,valid:!0,timestamp:Date.now()}})})})]},P.id))})]})]})]})};var re;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(re||(re={}));var h0=new Map([[re.QR_CODE,"QR_CODE"],[re.AZTEC,"AZTEC"],[re.CODABAR,"CODABAR"],[re.CODE_39,"CODE_39"],[re.CODE_93,"CODE_93"],[re.CODE_128,"CODE_128"],[re.DATA_MATRIX,"DATA_MATRIX"],[re.MAXICODE,"MAXICODE"],[re.ITF,"ITF"],[re.EAN_13,"EAN_13"],[re.EAN_8,"EAN_8"],[re.PDF_417,"PDF_417"],[re.RSS_14,"RSS_14"],[re.RSS_EXPANDED,"RSS_EXPANDED"],[re.UPC_A,"UPC_A"],[re.UPC_E,"UPC_E"],[re.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),g0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(g0||(g0={}));function em(e){return Object.values(re).includes(e)}var hl;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(hl||(hl={}));var tm=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[hl.SCAN_TYPE_CAMERA,hl.SCAN_TYPE_FILE],e}(),eh=function(){function e(n,s){this.format=n,this.formatName=s}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!h0.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,h0.get(n))},e}(),x0=function(){function e(){}return e.createFromText=function(n){var s={text:n};return{decodedText:n,result:s}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),vu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(vu||(vu={}));var nm=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:vu.UNKWOWN_ERROR}},e}(),rm=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,s){(this.verbose||s===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Hn(e){return typeof e>"u"||e===null}var vi=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),th=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,s){if(typeof n!="object"){var a=typeof n;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(c),x=Object.keys(n),y=0,m=x;y<m.length;y++){var p=m[y];if(d.has(p))return s.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),Su={exports:{}};(function(e,n){(function(s,a){a(n)})(es,function(s){function a(E){return E==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,t){E.__proto__=t}||function(E,t){for(var r in t)t.hasOwnProperty(r)&&(E[r]=t[r])};function d(E,t){c(E,t);function r(){this.constructor=E}E.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function x(E,t){var r=Object.setPrototypeOf;r?r(E,t):E.__proto__=t}function y(E,t){t===void 0&&(t=E.constructor);var r=Error.captureStackTrace;r&&r(E,t)}var m=function(E){d(t,E);function t(r){var i=this.constructor,o=E.call(this,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),x(o,i.prototype),y(o),o}return t}(Error);class p extends m{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}p.kind="Exception";class v extends p{}v.kind="ArgumentException";class A extends p{}A.kind="IllegalArgumentException";class N{constructor(t){if(this.binarizer=t,t===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,i,o){const l=this.binarizer.getLuminanceSource().crop(t,r,i,o);return new N(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new N(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new N(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class D extends p{static getChecksumInstance(){return new D}}D.kind="ChecksumException";class B{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(t,r,i,o,l){for(;l--;)i[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class W extends p{}W.kind="IndexOutOfBoundsException";class O extends W{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}O.kind="ArrayIndexOutOfBoundsException";class R{static fill(t,r){for(let i=0,o=t.length;i<o;i++)t[i]=r}static fillWithin(t,r,i,o){R.rangeCheck(t.length,r,i);for(let l=r;l<i;l++)t[l]=o}static rangeCheck(t,r,i){if(r>i)throw new A("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new O(r);if(i>t)throw new O(i)}static asList(...t){return t}static create(t,r,i){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(i))}static createInt32Array(t,r,i){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(i))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]!==r[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const i of t)r=31*r+i;return r}static fillUint8Array(t,r){for(let i=0;i!==t.length;i++)t[i]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const i=new Uint8Array(r);return i.set(t),i}return t.slice(0,r)}static copyOfRange(t,r,i){const o=i-r,l=new Int32Array(o);return P.arraycopy(t,r,l,0,o),l}static binarySearch(t,r,i){i===void 0&&(i=R.numberComparator);let o=0,l=t.length-1;for(;o<=l;){const u=l+o>>1,f=i(r,t[u]);if(f>0)o=u+1;else if(f<0)l=u-1;else return u}return-o-1}static numberComparator(t,r){return t-r}}class _{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let i=31;return r=t<<16,r!==0&&(i-=16,t=r),r=t<<8,r!==0&&(i-=8,t=r),r=t<<4,r!==0&&(i-=4,t=r),r=t<<2,r!==0&&(i-=2,t=r),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=U.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=U.makeArray(t);P.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),l=i[o];l&=~((1<<(t&31))-1);const u=i.length;for(;l===0;){if(++o===u)return r;l=i[o]}const f=o*32+_.numberOfTrailingZeros(l);return f>r?r:f}getNextUnset(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),l=~i[o];l&=~((1<<(t&31))-1);const u=i.length;for(;l===0;){if(++o===u)return r;l=~i[o]}const f=o*32+_.numberOfTrailingZeros(l);return f>r?r:f}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new A;if(r===t)return;r--;const i=Math.floor(t/32),o=Math.floor(r/32),l=this.bits;for(let u=i;u<=o;u++){const f=u>i?0:t&31,g=(2<<(u<o?31:r&31))-(1<<f);l[u]|=g}}clear(){const t=this.bits.length,r=this.bits;for(let i=0;i<t;i++)r[i]=0}isRange(t,r,i){if(r<t||t<0||r>this.size)throw new A;if(r===t)return!0;r--;const o=Math.floor(t/32),l=Math.floor(r/32),u=this.bits;for(let f=o;f<=l;f++){const h=f>o?0:t&31,w=(2<<(f<l?31:r&31))-(1<<h)&4294967295;if((u[f]&w)!==(i?w:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new A("Sizes don't match");const r=this.bits;for(let i=0,o=r.length;i<o;i++)r[i]^=t.bits[i]}toBytes(t,r,i,o){for(let l=0;l<o;l++){let u=0;for(let f=0;f<8;f++)this.get(t)&&(u|=1<<7-f),t++;r[i+l]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,o=this.bits;for(let l=0;l<i;l++){let u=o[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-l]=u}if(this.size!==i*32){const l=i*32-this.size;let u=t[0]>>>l;for(let f=1;f<i;f++){const h=t[f];u|=h<<32-l,t[f-1]=u,u=h>>>l}t[i-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof U))return!1;const r=t;return this.size===r.size&&R.equals(this.bits,r.bits)}hashCode(){return 31*this.size+R.hashCode(this.bits)}toString(){let t="";for(let r=0,i=this.size;r<i;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new U(this.size,this.bits.slice())}}var Z;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Z||(Z={}));var Q=Z;class j extends p{static getFormatInstance(){return new j}}j.kind="FormatException";var $;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})($||($={}));class G{constructor(t,r,i,...o){this.valueIdentifier=t,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,G.VALUE_IDENTIFIER_TO_ECI.set(t,this),G.NAME_TO_ECI.set(i,this);const l=this.values;for(let u=0,f=l.length;u!==f;u++){const h=l[u];G.VALUES_TO_ECI.set(h,this)}for(const u of o)G.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new j("incorect value");const r=G.VALUES_TO_ECI.get(t);if(r===void 0)throw new j("incorect value");return r}static getCharacterSetECIByName(t){const r=G.NAME_TO_ECI.get(t);if(r===void 0)throw new j("incorect value");return r}equals(t){if(!(t instanceof G))return!1;const r=t;return this.getName()===r.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G($.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G($.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G($.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G($.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G($.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G($.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G($.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G($.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G($.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G($.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G($.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G($.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G($.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G($.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G($.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G($.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G($.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G($.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G($.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G($.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G($.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G($.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G($.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G($.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G($.Big5,28,"Big5"),G.GB18030=new G($.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G($.EUC_KR,30,"EUC_KR","EUC-KR");class xe extends p{}xe.kind="UnsupportedOperationException";class Me{static decode(t,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!Me.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof G?t:G.getCharacterSetECIByName(t)}static decodeFallback(t,r){const i=this.encodingCharacterSet(r);if(Me.isDecodeFallbackSupported(i)){let o="";for(let l=0,u=t.length;l<u;l++){let f=t[l].toString(16);f.length<2&&(f="0"+f),o+="%"+f}return decodeURIComponent(o)}if(i.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new xe(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(G.UTF8)||t.equals(G.ISO8859_1)||t.equals(G.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let l=0;l<i.length;l++)o.push(i[l].charCodeAt(0));return new Uint8Array(o)}}class ue{static castAsNonUtf8Char(t,r=null){const i=r?r.getName():this.ISO88591;return Me.decode(new Uint8Array([t]),i)}static guessEncoding(t,r){if(r!=null&&r.get(Q.CHARACTER_SET)!==void 0)return r.get(Q.CHARACTER_SET).toString();const i=t.length;let o=!0,l=!0,u=!0,f=0,h=0,g=0,w=0,C=0,S=0,T=0,b=0,k=0,L=0,V=0;const q=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let J=0;J<i&&(o||l||u);J++){const Y=t[J]&255;u&&(f>0?Y&128?f--:u=!1:Y&128&&(Y&64?(f++,Y&32?(f++,Y&16?(f++,Y&8?u=!1:w++):g++):h++):u=!1)),o&&(Y>127&&Y<160?o=!1:Y>159&&(Y<192||Y===215||Y===247)&&V++),l&&(C>0?Y<64||Y===127||Y>252?l=!1:C--:Y===128||Y===160||Y>239?l=!1:Y>160&&Y<224?(S++,b=0,T++,T>k&&(k=T)):Y>127?(C++,T=0,b++,b>L&&(L=b)):(T=0,b=0))}return u&&f>0&&(u=!1),l&&C>0&&(l=!1),u&&(q||h+g+w>0)?ue.UTF8:l&&(ue.ASSUME_SHIFT_JIS||k>=3||L>=3)?ue.SHIFT_JIS:o&&l?k===2&&S===2||V*10>=i?ue.SHIFT_JIS:ue.ISO88591:o?ue.ISO88591:l?ue.SHIFT_JIS:u?ue.UTF8:ue.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let i=-1;function o(u,f,h,g,w,C){if(u==="%%")return"%";if(r[++i]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let S=w?parseInt(w.substr(1)):void 0,T;switch(C){case"s":T=r[i];break;case"c":T=r[i][0];break;case"f":T=parseFloat(r[i]).toFixed(u);break;case"p":T=parseFloat(r[i]).toPrecision(u);break;case"e":T=parseFloat(r[i]).toExponential(u);break;case"x":T=parseInt(r[i]).toString(S||16);break;case"d":T=parseFloat(parseInt(r[i],S||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(S);let b=parseInt(h),k=h&&h[0]+""=="0"?"0":" ";for(;T.length<b;)T=f!==void 0?T+k:k+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}static getBytes(t,r){return Me.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}ue.SHIFT_JIS=G.SJIS.getName(),ue.GB2312="GB2312",ue.ISO88591=G.ISO8859_1.getName(),ue.EUC_JP="EUC_JP",ue.UTF8=G.UTF8.getName(),ue.PLATFORM_DEFAULT_ENCODING=ue.UTF8,ue.ASSUME_SHIFT_JIS=!1;class Ce{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ue.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,i){for(let o=r;r<r+i;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class Ze{constructor(t,r,i,o){if(this.width=t,this.height=r,this.rowSize=i,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new A("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,i=t[0].length,o=new Ze(i,r);for(let l=0;l<r;l++){const u=t[l];for(let f=0;f<i;f++)u[f]&&o.set(f,l)}return o}static parseFromString(t,r,i){if(t===null)throw new A("stringRepresentation cannot be null");const o=new Array(t.length);let l=0,u=0,f=-1,h=0,g=0;for(;g<t.length;)if(t.charAt(g)===`
`||t.charAt(g)==="\r"){if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new A("row lengths do not match");u=l,h++}g++}else if(t.substring(g,g+r.length)===r)g+=r.length,o[l]=!0,l++;else if(t.substring(g,g+i.length)===i)g+=i.length,o[l]=!1,l++;else throw new A("illegal character encountered: "+t.substring(g));if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new A("row lengths do not match");h++}const w=new Ze(f,h);for(let C=0;C<l;C++)o[C]&&w.set(Math.floor(C%f),Math.floor(C/f));return w}get(t,r){const i=r*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new A("input matrix dimensions do not match");const r=new U(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let l=0,u=this.height;l<u;l++){const f=l*i,h=t.getRow(l,r).getBitArray();for(let g=0;g<i;g++)o[f+g]^=h[g]}}clear(){const t=this.bits,r=t.length;for(let i=0;i<r;i++)t[i]=0}setRegion(t,r,i,o){if(r<0||t<0)throw new A("Left and top must be nonnegative");if(o<1||i<1)throw new A("Height and width must be at least 1");const l=t+i,u=r+o;if(u>this.height||l>this.width)throw new A("The region must fit inside the matrix");const f=this.rowSize,h=this.bits;for(let g=r;g<u;g++){const w=g*f;for(let C=t;C<l;C++)h[w+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new U(this.width):r.clear();const i=this.rowSize,o=this.bits,l=t*i;for(let u=0;u<i;u++)r.setBulk(u*32,o[l+u]);return r}setRow(t,r){P.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let i=new U(t),o=new U(t);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)i=this.getRow(l,i),o=this.getRow(r-1-l,o),i.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,i)}getEnclosingRectangle(){const t=this.width,r=this.height,i=this.rowSize,o=this.bits;let l=t,u=r,f=-1,h=-1;for(let g=0;g<r;g++)for(let w=0;w<i;w++){const C=o[g*i+w];if(C!==0){if(g<u&&(u=g),g>h&&(h=g),w*32<l){let S=0;for(;!(C<<31-S&4294967295);)S++;w*32+S<l&&(l=w*32+S)}if(w*32+31>f){let S=31;for(;!(C>>>S);)S--;w*32+S>f&&(f=w*32+S)}}}return f<l||h<u?null:Int32Array.from([l,u,f-l+1,h-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const o=i/t;let l=i%t*32;const u=r[i];let f=0;for(;!(u<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/t);let l=Math.floor(i%t)*32;const u=r[i];let f=31;for(;!(u>>>f);)f--;return l+=f,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Ze))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&R.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+R.hashCode(this.bits),t}toString(t="X ",r="  ",i=`
`){return this.buildToString(t,r,i)}buildToString(t,r,i){let o=new Ce;for(let l=0,u=this.height;l<u;l++){for(let f=0,h=this.width;f<h;f++)o.append(this.get(f,l)?t:r);o.append(i)}return o.toString()}clone(){return new Ze(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends p{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class et extends B{constructor(t){super(t),this.luminances=et.EMPTY,this.buckets=new Int32Array(et.LUMINANCE_BUCKETS)}getBlackRow(t,r){const i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new U(o):r.clear(),this.initArrays(o);const l=i.getRow(t,this.luminances),u=this.buckets;for(let h=0;h<o;h++)u[(l[h]&255)>>et.LUMINANCE_SHIFT]++;const f=et.estimateBlackPoint(u);if(o<3)for(let h=0;h<o;h++)(l[h]&255)<f&&r.set(h);else{let h=l[0]&255,g=l[1]&255;for(let w=1;w<o-1;w++){const C=l[w+1]&255;(g*4-h-C)/2<f&&r.set(w),h=g,g=C}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),o=new Ze(r,i);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const g=Math.floor(i*h/5),w=t.getRow(g,this.luminances),C=Math.floor(r*4/5);for(let S=Math.floor(r/5);S<C;S++){const T=w[S]&255;l[T>>et.LUMINANCE_SHIFT]++}}const u=et.estimateBlackPoint(l),f=t.getMatrix();for(let h=0;h<i;h++){const g=h*r;for(let w=0;w<r;w++)(f[g+w]&255)<u&&o.set(w,h)}return o}createBinarizer(t){return new et(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let i=0;i<et.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(t){const r=t.length;let i=0,o=0,l=0;for(let w=0;w<r;w++)t[w]>l&&(o=w,l=t[w]),t[w]>i&&(i=t[w]);let u=0,f=0;for(let w=0;w<r;w++){const C=w-o,S=t[w]*C*C;S>f&&(u=w,f=S)}if(o>u){const w=o;o=u,u=w}if(u-o<=r/16)throw new H;let h=u-1,g=-1;for(let w=u-1;w>o;w--){const C=w-o,S=C*C*(u-w)*(i-t[w]);S>g&&(h=w,g=S)}return h<<et.LUMINANCE_SHIFT}}et.LUMINANCE_BITS=5,et.LUMINANCE_SHIFT=8-et.LUMINANCE_BITS,et.LUMINANCE_BUCKETS=1<<et.LUMINANCE_BITS,et.EMPTY=Uint8ClampedArray.from([0]);class pe extends et{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=pe.MINIMUM_DIMENSION&&i>=pe.MINIMUM_DIMENSION){const o=t.getMatrix();let l=r>>pe.BLOCK_SIZE_POWER;r&pe.BLOCK_SIZE_MASK&&l++;let u=i>>pe.BLOCK_SIZE_POWER;i&pe.BLOCK_SIZE_MASK&&u++;const f=pe.calculateBlackPoints(o,l,u,r,i),h=new Ze(r,i);pe.calculateThresholdForBlock(o,l,u,r,i,f,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new pe(t)}static calculateThresholdForBlock(t,r,i,o,l,u,f){const h=l-pe.BLOCK_SIZE,g=o-pe.BLOCK_SIZE;for(let w=0;w<i;w++){let C=w<<pe.BLOCK_SIZE_POWER;C>h&&(C=h);const S=pe.cap(w,2,i-3);for(let T=0;T<r;T++){let b=T<<pe.BLOCK_SIZE_POWER;b>g&&(b=g);const k=pe.cap(T,2,r-3);let L=0;for(let q=-2;q<=2;q++){const J=u[S+q];L+=J[k-2]+J[k-1]+J[k]+J[k+1]+J[k+2]}const V=L/25;pe.thresholdBlock(t,b,C,V,o,f)}}}static cap(t,r,i){return t<r?r:t>i?i:t}static thresholdBlock(t,r,i,o,l,u){for(let f=0,h=i*l+r;f<pe.BLOCK_SIZE;f++,h+=l)for(let g=0;g<pe.BLOCK_SIZE;g++)(t[h+g]&255)<=o&&u.set(r+g,i+f)}static calculateBlackPoints(t,r,i,o,l){const u=l-pe.BLOCK_SIZE,f=o-pe.BLOCK_SIZE,h=new Array(i);for(let g=0;g<i;g++){h[g]=new Int32Array(r);let w=g<<pe.BLOCK_SIZE_POWER;w>u&&(w=u);for(let C=0;C<r;C++){let S=C<<pe.BLOCK_SIZE_POWER;S>f&&(S=f);let T=0,b=255,k=0;for(let V=0,q=w*o+S;V<pe.BLOCK_SIZE;V++,q+=o){for(let J=0;J<pe.BLOCK_SIZE;J++){const Y=t[q+J]&255;T+=Y,Y<b&&(b=Y),Y>k&&(k=Y)}if(k-b>pe.MIN_DYNAMIC_RANGE)for(V++,q+=o;V<pe.BLOCK_SIZE;V++,q+=o)for(let J=0;J<pe.BLOCK_SIZE;J++)T+=t[q+J]&255}let L=T>>pe.BLOCK_SIZE_POWER*2;if(k-b<=pe.MIN_DYNAMIC_RANGE&&(L=b/2,g>0&&C>0)){const V=(h[g-1][C]+2*h[g][C-1]+h[g-1][C-1])/4;b<V&&(L=V)}h[g][C]=L}}return h}}pe.BLOCK_SIZE_POWER=3,pe.BLOCK_SIZE=1<<pe.BLOCK_SIZE_POWER,pe.BLOCK_SIZE_MASK=pe.BLOCK_SIZE-1,pe.MINIMUM_DIMENSION=pe.BLOCK_SIZE*5,pe.MIN_DYNAMIC_RANGE=24;class ne{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,i,o){throw new xe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new xe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new xe("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Ce;for(let i=0;i<this.height;i++){const o=this.getRow(i,t);for(let l=0;l<this.width;l++){const u=o[l]&255;let f;u<64?f="#":u<128?f="+":u<192?f=".":f=" ",r.append(f)}r.append(`
`)}return r.toString()}}class de extends ne{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const i=this.delegate.getRow(t,r),o=this.getWidth();for(let l=0;l<o;l++)i[l]=255-(i[l]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let o=0;o<r;o++)i[o]=255-(t[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,i,o){return new de(this.delegate.crop(t,r,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new de(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new de(this.delegate.rotateCounterClockwise45())}}class ge extends ne{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=ge.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return ge.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,i){const o=new Uint8ClampedArray(r*i);for(let l=0,u=0,f=t.length;l<f;l+=4,u++){let h;if(t[l+3]===0)h=255;else{const w=t[l],C=t[l+1],S=t[l+2];h=306*w+601*C+117*S+512>>10}o[u]=h}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new A("Requested row is outside the image: "+t);const i=this.getWidth(),o=t*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,i,o){return super.crop(t,r,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),i=r.getContext("2d"),o=t*ge.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*u),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*u);return r.width=f,r.height=h,i.translate(f/2,h/2),i.rotate(o),i.drawImage(this.canvas,l/-2,u/-2),this.buffer=ge.makeBufferFromCanvasImageData(r),this}invert(){return new de(this)}}ge.DEGREE_TO_RADIANS=Math.PI/180;class Ge{constructor(t,r,i){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Se=(globalThis||es||self||window||void 0)&&(globalThis||es||self||window||void 0).__awaiter||function(E,t,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function f(w){try{g(i.next(w))}catch(C){u(C)}}function h(w){try{g(i.throw(w))}catch(C){u(C)}}function g(w){w.done?l(w.value):o(w.value).then(f,h)}g((i=i.apply(E,t||[])).next())})};class an{constructor(t,r=500,i){this.reader=t,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Se(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of t){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const l=i.deviceId||i.id,u=i.label||`Video device ${r.length+1}`,f=i.groupId,h={deviceId:l,label:u,kind:o,groupId:f};r.push(h)}return r})}getVideoInputDevices(){return Se(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Ge(r.deviceId,r.label))})}findDeviceById(t){return Se(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return Se(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return Se(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return Se(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(t,r){return Se(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,r,i){return Se(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,i)})}decodeFromVideoDevice(t,r,i){return Se(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,i)})}decodeFromConstraints(t,r,i){return Se(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,i)})}decodeFromStream(t,r,i){return Se(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return Se(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((r,i)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Se(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const i=document.getElementById(t);if(!i)throw new v(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new v(`element with id '${t}' must be an ${r} element`);return i}decodeFromImage(t,r){if(!t&&!r)throw new v("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new v("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,i){if(t===void 0&&r===void 0)throw new v("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new v("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(t){if(!t)throw new v("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new v("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=t,i}decodeFromVideoUrl(t){if(!t)throw new v("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=t,i}decodeFromVideoUrlContinuously(t,r){if(!t)throw new v("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,r);return i.src=t,o}_decodeOnLoadImage(t){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Se(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return Se(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,i=!0){this._stopAsyncDecode=!1;const o=(l,u)=>{if(this._stopAsyncDecode){u(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(t);l(f)}catch(f){const h=r&&f instanceof H,w=(f instanceof D||f instanceof j)&&i;if(h||w)return setTimeout(o,this._timeBetweenDecodingAttempts,l,u);u(f)}};return new Promise((l,u)=>o(l,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof D||o instanceof j,u=o instanceof H;(l||u)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,i){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),i=new ge(r),o=new pe(i);return new N(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ke{constructor(t,r,i=r==null?0:8*r.length,o,l,u=P.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=i,this.resultPoints=o,this.format=l,this.timestamp=u,this.text=t,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=o,this.format=l,this.resultMetadata=null,u==null?this.timestamp=P.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(r.length+t.length);P.arraycopy(r,0,i,0,r.length),P.arraycopy(t,0,i,r.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var br;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(br||(br={}));var le=br,er;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(er||(er={}));var mt=er;class Vi{constructor(t,r,i,o,l=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Hi{exp(t){return this.expTable[t]}log(t){if(t===0)throw new A;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class Vt{constructor(t,r){if(r.length===0)throw new A;this.field=t;const i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),P.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(t===1){i=0;for(let u=0,f=r.length;u!==f;u++){const h=r[u];i=Hi.addOrSubtract(i,h)}return i}i=r[0];const o=r.length,l=this.field;for(let u=1;u<o;u++)i=Hi.addOrSubtract(l.multiply(t,i),r[u]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){const u=r;r=i,i=u}let o=new Int32Array(i.length);const l=i.length-r.length;P.arraycopy(i,0,o,0,l);for(let u=l;u<i.length;u++)o[u]=Hi.addOrSubtract(r[u-l],i[u]);return new Vt(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,o=t.coefficients,l=o.length,u=new Int32Array(i+l-1),f=this.field;for(let h=0;h<i;h++){const g=r[h];for(let w=0;w<l;w++)u[h+w]=Hi.addOrSubtract(u[h+w],f.multiply(g,o[w]))}return new Vt(f,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,i=this.field,o=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)o[u]=i.multiply(l[u],t);return new Vt(i,o)}multiplyByMonomial(t,r){if(t<0)throw new A;if(r===0)return this.field.getZero();const i=this.coefficients,o=i.length,l=new Int32Array(o+t),u=this.field;for(let f=0;f<o;f++)l[f]=u.multiply(i[f],r);return new Vt(u,l)}divide(t){if(!this.field.equals(t.field))throw new A("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new A("Divide by 0");const r=this.field;let i=r.getZero(),o=this;const l=t.getCoefficient(t.getDegree()),u=r.inverse(l);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const f=o.getDegree()-t.getDegree(),h=r.multiply(o.getCoefficient(o.getDegree()),u),g=t.multiplyByMonomial(f,h),w=r.buildMonomial(f,h);i=i.addOrSubtract(w),o=o.addOrSubtract(g)}return[i,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),r===0||i!==1){const o=this.field.log(i);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class qs extends p{}qs.kind="ArithmeticException";class _e extends Hi{constructor(t,r,i){super(),this.primitive=t,this.size=r,this.generatorBase=i;const o=new Int32Array(r);let l=1;for(let f=0;f<r;f++)o[f]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=o;const u=new Int32Array(r);for(let f=0;f<r-1;f++)u[o[f]]=f;this.logTable=u,this.zero=new Vt(this,Int32Array.from([0])),this.one=new Vt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new A;if(r===0)return this.zero;const i=new Int32Array(t+1);return i[0]=r,new Vt(this,i)}inverse(t){if(t===0)throw new qs;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}_e.AZTEC_DATA_12=new _e(4201,4096,1),_e.AZTEC_DATA_10=new _e(1033,1024,1),_e.AZTEC_DATA_6=new _e(67,64,1),_e.AZTEC_PARAM=new _e(19,16,1),_e.QR_CODE_FIELD_256=new _e(285,256,0),_e.DATA_MATRIX_FIELD_256=new _e(301,256,1),_e.AZTEC_DATA_8=_e.DATA_MATRIX_FIELD_256,_e.MAXICODE_FIELD_64=_e.AZTEC_DATA_6;class ei extends p{}ei.kind="ReedSolomonException";class On extends p{}On.kind="IllegalStateException";class Wi{constructor(t){this.field=t}decode(t,r){const i=this.field,o=new Vt(i,t),l=new Int32Array(r);let u=!0;for(let T=0;T<r;T++){const b=o.evaluateAt(i.exp(T+i.getGeneratorBase()));l[l.length-1-T]=b,b!==0&&(u=!1)}if(u)return;const f=new Vt(i,l),h=this.runEuclideanAlgorithm(i.buildMonomial(r,1),f,r),g=h[0],w=h[1],C=this.findErrorLocations(g),S=this.findErrorMagnitudes(w,C);for(let T=0;T<C.length;T++){const b=t.length-1-i.log(C[T]);if(b<0)throw new ei("Bad error location");t[b]=_e.addOrSubtract(t[b],S[T])}}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){const T=t;t=r,r=T}const o=this.field;let l=t,u=r,f=o.getZero(),h=o.getOne();for(;u.getDegree()>=(i/2|0);){let T=l,b=f;if(l=u,f=h,l.isZero())throw new ei("r_{i-1} was zero");u=T;let k=o.getZero();const L=l.getCoefficient(l.getDegree()),V=o.inverse(L);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const q=u.getDegree()-l.getDegree(),J=o.multiply(u.getCoefficient(u.getDegree()),V);k=k.addOrSubtract(o.buildMonomial(q,J)),u=u.addOrSubtract(l.multiplyByMonomial(q,J))}if(h=k.multiply(f).addOrSubtract(b),u.getDegree()>=l.getDegree())throw new On("Division algorithm failed to reduce polynomial?")}const g=h.getCoefficient(0);if(g===0)throw new ei("sigmaTilde(0) was zero");const w=o.inverse(g),C=h.multiplyScalar(w),S=u.multiplyScalar(w);return[C,S]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(r);let o=0;const l=this.field;for(let u=1;u<l.getSize()&&o<r;u++)t.evaluateAt(u)===0&&(i[o]=l.inverse(u),o++);if(o!==r)throw new ei("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,r){const i=r.length,o=new Int32Array(i),l=this.field;for(let u=0;u<i;u++){const f=l.inverse(r[u]);let h=1;for(let g=0;g<i;g++)if(u!==g){const w=l.multiply(r[g],f),C=w&1?w&-2:w|1;h=l.multiply(h,C)}o[u]=l.multiply(t.evaluateAt(f),l.inverse(h)),l.getGeneratorBase()!==0&&(o[u]=l.multiply(o[u],f))}return o}}var At;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(At||(At={}));class Fe{decode(t){this.ddata=t;let r=t.getBits(),i=this.extractBits(r),o=this.correctBits(i),l=Fe.convertBoolArrayToByteArray(o),u=Fe.getEncodedData(o),f=new Vi(l,u,null,null);return f.setNumBits(o.length),f}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,i=At.UPPER,o=At.UPPER,l="",u=0;for(;u<r;)if(o===At.BINARY){if(r-u<5)break;let f=Fe.readCode(t,u,5);if(u+=5,f===0){if(r-u<11)break;f=Fe.readCode(t,u,11)+31,u+=11}for(let h=0;h<f;h++){if(r-u<8){u=r;break}const g=Fe.readCode(t,u,8);l+=ue.castAsNonUtf8Char(g),u+=8}o=i}else{let f=o===At.DIGIT?4:5;if(r-u<f)break;let h=Fe.readCode(t,u,f);u+=f;let g=Fe.getCharacter(o,h);g.startsWith("CTRL_")?(i=o,o=Fe.getTable(g.charAt(5)),g.charAt(6)==="L"&&(i=o)):(l+=g,o=i)}return l}static getTable(t){switch(t){case"L":return At.LOWER;case"P":return At.PUNCT;case"M":return At.MIXED;case"D":return At.DIGIT;case"B":return At.BINARY;case"U":default:return At.UPPER}}static getCharacter(t,r){switch(t){case At.UPPER:return Fe.UPPER_TABLE[r];case At.LOWER:return Fe.LOWER_TABLE[r];case At.MIXED:return Fe.MIXED_TABLE[r];case At.PUNCT:return Fe.PUNCT_TABLE[r];case At.DIGIT:return Fe.DIGIT_TABLE[r];default:throw new On("Bad table")}}correctBits(t){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=_e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=_e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=_e.AZTEC_DATA_10):(i=12,r=_e.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=t.length/i;if(l<o)throw new j;let u=t.length%i,f=new Int32Array(l);for(let S=0;S<l;S++,u+=i)f[S]=Fe.readCode(t,u,i);try{new Wi(r).decode(f,l-o)}catch(S){throw new j(S)}let h=(1<<i)-1,g=0;for(let S=0;S<o;S++){let T=f[S];if(T===0||T===h)throw new j;(T===1||T===h-1)&&g++}let w=new Array(o*i-g),C=0;for(let S=0;S<o;S++){let T=f[S];if(T===1||T===h-1)w.fill(T>1,C,C+i-1),C+=i-1;else for(let b=i-1;b>=0;--b)w[C++]=(T&1<<b)!==0}return w}extractBits(t){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(r?11:14)+i*4,l=new Int32Array(o),u=new Array(this.totalBitsInLayer(i,r));if(r)for(let f=0;f<l.length;f++)l[f]=f;else{let f=o+1+2*_.truncDivision(_.truncDivision(o,2)-1,15),h=o/2,g=_.truncDivision(f,2);for(let w=0;w<h;w++){let C=w+_.truncDivision(w,15);l[h-w-1]=g-C-1,l[h+w]=g+C+1}}for(let f=0,h=0;f<i;f++){let g=(i-f)*4+(r?9:12),w=f*2,C=o-1-w;for(let S=0;S<g;S++){let T=S*2;for(let b=0;b<2;b++)u[h+T+b]=t.get(l[w+b],l[w+S]),u[h+2*g+T+b]=t.get(l[w+S],l[C-b]),u[h+4*g+T+b]=t.get(l[C-b],l[C-S]),u[h+6*g+T+b]=t.get(l[C-S],l[w+b])}h+=g*8}return u}static readCode(t,r,i){let o=0;for(let l=r;l<r+i;l++)o<<=1,t[l]&&(o|=1);return o}static readByte(t,r){let i=t.length-r;return i>=8?Fe.readCode(t,r,8):Fe.readCode(t,r,i)<<8-i}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let i=0;i<r.length;i++)r[i]=Fe.readByte(t,8*i);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Fe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Fe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Fe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Fe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Fe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ie{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,i,o){const l=t-i,u=r-o;return Math.sqrt(l*l+u*u)}static sum(t){let r=0;for(let i=0,o=t.length;i!==o;i++){const l=t[i];r+=l}return r}}class Js{static floatToIntBits(t){return t}}Js.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof oe){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Js.floatToIntBits(this.x)+Js.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let l,u,f;if(i>=r&&i>=o?(u=t[0],l=t[1],f=t[2]):o>=i&&o>=r?(u=t[1],l=t[0],f=t[2]):(u=t[2],l=t[0],f=t[1]),this.crossProductZ(l,u,f)<0){const h=l;l=f,f=h}t[0]=l,t[1]=u,t[2]=f}static distance(t,r){return Ie.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,i){const o=r.x,l=r.y;return(i.x-o)*(t.y-l)-(i.y-l)*(t.x-o)}}class $s{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Sc extends $s{constructor(t,r,i,o,l){super(t,r),this.compact=i,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Vn{constructor(t,r,i,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Vn.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=i-l,this.rightInit=i+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let t=this.leftInit,r=this.rightInit,i=this.upInit,o=this.downInit,l=!1,u=!0,f=!1,h=!1,g=!1,w=!1,C=!1;const S=this.width,T=this.height;for(;u;){u=!1;let b=!0;for(;(b||!h)&&r<S;)b=this.containsBlackPoint(i,o,r,!1),b?(r++,u=!0,h=!0):h||r++;if(r>=S){l=!0;break}let k=!0;for(;(k||!g)&&o<T;)k=this.containsBlackPoint(t,r,o,!0),k?(o++,u=!0,g=!0):g||o++;if(o>=T){l=!0;break}let L=!0;for(;(L||!w)&&t>=0;)L=this.containsBlackPoint(i,o,t,!1),L?(t--,u=!0,w=!0):w||t--;if(t<0){l=!0;break}let V=!0;for(;(V||!C)&&i>=0;)V=this.containsBlackPoint(t,r,i,!0),V?(i--,u=!0,C=!0):C||i--;if(i<0){l=!0;break}u&&(f=!0)}if(!l&&f){const b=r-t;let k=null;for(let J=1;k===null&&J<b;J++)k=this.getBlackPointOnSegment(t,o-J,t+J,o);if(k==null)throw new H;let L=null;for(let J=1;L===null&&J<b;J++)L=this.getBlackPointOnSegment(t,i+J,t+J,i);if(L==null)throw new H;let V=null;for(let J=1;V===null&&J<b;J++)V=this.getBlackPointOnSegment(r,i+J,r-J,i);if(V==null)throw new H;let q=null;for(let J=1;q===null&&J<b;J++)q=this.getBlackPointOnSegment(r,o-J,r-J,o);if(q==null)throw new H;return this.centerEdges(q,k,V,L)}else throw new H}getBlackPointOnSegment(t,r,i,o){const l=Ie.round(Ie.distance(t,r,i,o)),u=(i-t)/l,f=(o-r)/l,h=this.image;for(let g=0;g<l;g++){const w=Ie.round(t+g*u),C=Ie.round(r+g*f);if(h.get(w,C))return new oe(w,C)}return null}centerEdges(t,r,i,o){const l=t.getX(),u=t.getY(),f=r.getX(),h=r.getY(),g=i.getX(),w=i.getY(),C=o.getX(),S=o.getY(),T=Vn.CORR;return l<this.width/2?[new oe(C-T,S+T),new oe(f+T,h+T),new oe(g-T,w-T),new oe(l+T,u-T)]:[new oe(C+T,S+T),new oe(f+T,h-T),new oe(g-T,w+T),new oe(l-T,u-T)]}containsBlackPoint(t,r,i,o){const l=this.image;if(o){for(let u=t;u<=r;u++)if(l.get(u,i))return!0}else for(let u=t;u<=r;u++)if(l.get(i,u))return!0;return!1}}Vn.INIT_SIZE=10,Vn.CORR=1;class Dl{static checkAndNudgePoints(t,r){const i=t.getWidth(),o=t.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const f=Math.floor(r[u]),h=Math.floor(r[u+1]);if(f<-1||f>i||h<-1||h>o)throw new H;l=!1,f===-1?(r[u]=0,l=!0):f===i&&(r[u]=i-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===o&&(r[u+1]=o-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const f=Math.floor(r[u]),h=Math.floor(r[u+1]);if(f<-1||f>i||h<-1||h>o)throw new H;l=!1,f===-1?(r[u]=0,l=!0):f===i&&(r[u]=i-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===o&&(r[u+1]=o-1,l=!0)}}}class yn{constructor(t,r,i,o,l,u,f,h,g){this.a11=t,this.a21=r,this.a31=i,this.a12=o,this.a22=l,this.a32=u,this.a13=f,this.a23=h,this.a33=g}static quadrilateralToQuadrilateral(t,r,i,o,l,u,f,h,g,w,C,S,T,b,k,L){const V=yn.quadrilateralToSquare(t,r,i,o,l,u,f,h);return yn.squareToQuadrilateral(g,w,C,S,T,b,k,L).times(V)}transformPoints(t){const r=t.length,i=this.a11,o=this.a12,l=this.a13,u=this.a21,f=this.a22,h=this.a23,g=this.a31,w=this.a32,C=this.a33;for(let S=0;S<r;S+=2){const T=t[S],b=t[S+1],k=l*T+h*b+C;t[S]=(i*T+u*b+g)/k,t[S+1]=(o*T+f*b+w)/k}}transformPointsWithValues(t,r){const i=this.a11,o=this.a12,l=this.a13,u=this.a21,f=this.a22,h=this.a23,g=this.a31,w=this.a32,C=this.a33,S=t.length;for(let T=0;T<S;T++){const b=t[T],k=r[T],L=l*b+h*k+C;t[T]=(i*b+u*k+g)/L,r[T]=(o*b+f*k+w)/L}}static squareToQuadrilateral(t,r,i,o,l,u,f,h){const g=t-i+l-f,w=r-o+u-h;if(g===0&&w===0)return new yn(i-t,l-i,t,o-r,u-o,r,0,0,1);{const C=i-l,S=f-l,T=o-u,b=h-u,k=C*b-S*T,L=(g*b-S*w)/k,V=(C*w-g*T)/k;return new yn(i-t+L*i,f-t+V*f,t,o-r+L*o,h-r+V*h,r,L,V,1)}}static quadrilateralToSquare(t,r,i,o,l,u,f,h){return yn.squareToQuadrilateral(t,r,i,o,l,u,f,h).buildAdjoint()}buildAdjoint(){return new yn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new yn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Ic extends Dl{sampleGrid(t,r,i,o,l,u,f,h,g,w,C,S,T,b,k,L,V,q,J){const Y=yn.quadrilateralToQuadrilateral(o,l,u,f,h,g,w,C,S,T,b,k,L,V,q,J);return this.sampleGridWithTransform(t,r,i,Y)}sampleGridWithTransform(t,r,i,o){if(r<=0||i<=0)throw new H;const l=new Ze(r,i),u=new Float32Array(2*r);for(let f=0;f<i;f++){const h=u.length,g=f+.5;for(let w=0;w<h;w+=2)u[w]=w/2+.5,u[w+1]=g;o.transformPoints(u),Dl.checkAndNudgePoints(t,u);try{for(let w=0;w<h;w+=2)t.get(Math.floor(u[w]),Math.floor(u[w+1]))&&l.set(w/2,f)}catch{throw new H}}return l}}class tr{static setGridSampler(t){tr.gridSampler=t}static getInstance(){return tr.gridSampler}}tr.gridSampler=new Ic;class Bt{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Nc{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(t){let u=i[0];i[0]=i[2],i[2]=u}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),l=this.getMatrixCornerPoints(i);return new Sc(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new H;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(i,r);let o=0;for(let u=0;u<4;u++){let f=i[(this.shift+u)%4];this.compact?(o<<=7,o+=f>>1&127):(o<<=10,o+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let i=0;t.forEach((o,l,u)=>{let f=(o>>r-2<<1)+(o&1);i=(i<<3)+f}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(_.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new H}getCorrectedParameterData(t,r){let i,o;r?(i=7,o=2):(i=10,o=4);let l=i-o,u=new Int32Array(i);for(let h=i-1;h>=0;--h)u[h]=t&15,t>>=4;try{new Wi(_e.AZTEC_PARAM).decode(u,l)}catch{throw new H}let f=0;for(let h=0;h<o;h++)f=(f<<4)+u[h];return f}getBullsEyeCorners(t){let r=t,i=t,o=t,l=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(r,u,1,-1),S=this.getFirstDifferent(i,u,1,1),T=this.getFirstDifferent(o,u,-1,1),b=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let k=this.distancePoint(b,C)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(k<.75||k>1.25||!this.isWhiteOrBlackRectangle(C,S,T,b))break}r=C,i=S,o=T,l=b,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let f=new oe(r.getX()+.5,r.getY()-.5),h=new oe(i.getX()+.5,i.getY()+.5),g=new oe(o.getX()-.5,o.getY()+.5),w=new oe(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,h,g,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,i,o;try{let f=new Vn(this.image).detect();t=f[0],r=f[1],i=f[2],o=f[3]}catch{let h=this.image.getWidth()/2,g=this.image.getHeight()/2;t=this.getFirstDifferent(new Bt(h+7,g-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Bt(h+7,g+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Bt(h-7,g+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Bt(h-7,g-7),!1,-1,-1).toResultPoint()}let l=Ie.round((t.getX()+o.getX()+r.getX()+i.getX())/4),u=Ie.round((t.getY()+o.getY()+r.getY()+i.getY())/4);try{let f=new Vn(this.image,15,l,u).detect();t=f[0],r=f[1],i=f[2],o=f[3]}catch{t=this.getFirstDifferent(new Bt(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Bt(l+7,u+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Bt(l-7,u+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Bt(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Ie.round((t.getX()+o.getX()+r.getX()+i.getX())/4),u=Ie.round((t.getY()+o.getY()+r.getY()+i.getY())/4),new Bt(l,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,i,o,l){let u=tr.getInstance(),f=this.getDimension(),h=f/2-this.nbCenterLayers,g=f/2+this.nbCenterLayers;return u.sampleGrid(t,f,f,h,h,g,h,g,g,h,g,r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(t,r,i){let o=0,l=this.distanceResultPoint(t,r),u=l/i,f=t.getX(),h=t.getY(),g=u*(r.getX()-t.getX())/l,w=u*(r.getY()-t.getY())/l;for(let C=0;C<i;C++)this.image.get(Ie.round(f+C*g),Ie.round(h+C*w))&&(o|=1<<i-C-1);return o}isWhiteOrBlackRectangle(t,r,i,o){let l=3;t=new Bt(t.getX()-l,t.getY()+l),r=new Bt(r.getX()-l,r.getY()-l),i=new Bt(i.getX()+l,i.getY()-l),o=new Bt(o.getX()+l,o.getY()+l);let u=this.getColor(o,t);if(u===0)return!1;let f=this.getColor(t,r);return f!==u||(f=this.getColor(r,i),f!==u)?!1:(f=this.getColor(i,o),f===u)}getColor(t,r){let i=this.distancePoint(t,r),o=(r.getX()-t.getX())/i,l=(r.getY()-t.getY())/i,u=0,f=t.getX(),h=t.getY(),g=this.image.get(t.getX(),t.getY()),w=Math.ceil(i);for(let S=0;S<w;S++)f+=o,h+=l,this.image.get(Ie.round(f),Ie.round(h))!==g&&u++;let C=u/i;return C>.1&&C<.9?0:C<=.1===g?1:-1}getFirstDifferent(t,r,i,o){let l=t.getX()+i,u=t.getY()+o;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=i,u+=o;for(l-=i,u-=o;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=i;for(l-=i;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=o;return u-=o,new Bt(l,u)}expandSquare(t,r,i){let o=i/(2*r),l=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),f=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,g=new oe(f+o*l,h+o*u),w=new oe(f-o*l,h-o*u);l=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),f=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let C=new oe(f+o*l,h+o*u),S=new oe(f-o*l,h-o*u);return[g,C,w,S]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Ie.round(t.getX()),i=Ie.round(t.getY());return this.isValid(r,i)}distancePoint(t,r){return Ie.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Ie.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class eo{decode(t,r=null){let i=null,o=new Nc(t.getBlackMatrix()),l=null,u=null;try{let w=o.detectMirror(!1);l=w.getPoints(),this.reportFoundResultPoints(r,l),u=new Fe().decode(w)}catch(w){i=w}if(u==null)try{let w=o.detectMirror(!0);l=w.getPoints(),this.reportFoundResultPoints(r,l),u=new Fe().decode(w)}catch(w){throw i??w}let f=new Ke(u.getText(),u.getRawBytes(),u.getNumBits(),l,le.AZTEC,P.currentTimeMillis()),h=u.getByteSegments();h!=null&&f.putMetadata(mt.BYTE_SEGMENTS,h);let g=u.getECLevel();return g!=null&&f.putMetadata(mt.ERROR_CORRECTION_LEVEL,g),f}reportFoundResultPoints(t,r){if(t!=null){let i=t.get(Q.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((o,l,u)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class rh extends an{constructor(t=500){super(new eo,t)}}class at{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(Q.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),u=this.doDecode(l,r),f=u.getResultMetadata();let h=270;f!==null&&f.get(mt.ORIENTATION)===!0&&(h=h+f.get(mt.ORIENTATION)%360),u.putMetadata(mt.ORIENTATION,h);const g=u.getResultPoints();if(g!==null){const w=l.getHeight();for(let C=0;C<g.length;C++)g[C]=new oe(w-g[C].getY()-1,g[C].getX())}return u}else throw new H}}reset(){}doDecode(t,r){const i=t.getWidth(),o=t.getHeight();let l=new U(i);const u=r&&r.get(Q.TRY_HARDER)===!0,f=Math.max(1,o>>(u?8:5));let h;u?h=o:h=15;const g=Math.trunc(o/2);for(let w=0;w<h;w++){const C=Math.trunc((w+1)/2),S=(w&1)===0,T=g+f*(S?C:-C);if(T<0||T>=o)break;try{l=t.getBlackRow(T,l)}catch{continue}for(let b=0;b<2;b++){if(b===1&&(l.reverse(),r&&r.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const k=new Map;r.forEach((L,V)=>k.set(V,L)),k.delete(Q.NEED_RESULT_POINT_CALLBACK),r=k}try{const k=this.decodeRow(T,l,r);if(b===1){k.putMetadata(mt.ORIENTATION,180);const L=k.getResultPoints();L!==null&&(L[0]=new oe(i-L[0].getX()-1,L[0].getY()),L[1]=new oe(i-L[1].getX()-1,L[1].getY()))}return k}catch{}}}throw new H}static recordPattern(t,r,i){const o=i.length;for(let g=0;g<o;g++)i[g]=0;const l=t.getSize();if(r>=l)throw new H;let u=!t.get(r),f=0,h=r;for(;h<l;){if(t.get(h)!==u)i[f]++;else{if(++f===o)break;i[f]=1,u=!u}h++}if(!(f===o||f===o-1&&h===l))throw new H}static recordPatternInReverse(t,r,i){let o=i.length,l=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new H;at.recordPattern(t,r+1,i)}static patternMatchVariance(t,r,i){const o=t.length;let l=0,u=0;for(let g=0;g<o;g++)l+=t[g],u+=r[g];if(l<u)return Number.POSITIVE_INFINITY;const f=l/u;i*=f;let h=0;for(let g=0;g<o;g++){const w=t[g],C=r[g]*f,S=w>C?w-C:C-w;if(S>i)return Number.POSITIVE_INFINITY;h+=S}return h/l}}class te extends at{static findStartPattern(t){const r=t.getSize(),i=t.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),u=i,f=!1;const h=6;for(let g=i;g<r;g++)if(t.get(g)!==f)l[o]++;else{if(o===h-1){let w=te.MAX_AVG_VARIANCE,C=-1;for(let S=te.CODE_START_A;S<=te.CODE_START_C;S++){const T=at.patternMatchVariance(l,te.CODE_PATTERNS[S],te.MAX_INDIVIDUAL_VARIANCE);T<w&&(w=T,C=S)}if(C>=0&&t.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,C]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,f=!f}throw new H}static decodeCode(t,r,i){at.recordPattern(t,i,r);let o=te.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<te.CODE_PATTERNS.length;u++){const f=te.CODE_PATTERNS[u],h=this.patternMatchVariance(r,f,te.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=u)}if(l>=0)return l;throw new H}decodeRow(t,r,i){const o=i&&i.get(Q.ASSUME_GS1)===!0,l=te.findStartPattern(r),u=l[2];let f=0;const h=new Uint8Array(20);h[f++]=u;let g;switch(u){case te.CODE_START_A:g=te.CODE_CODE_A;break;case te.CODE_START_B:g=te.CODE_CODE_B;break;case te.CODE_START_C:g=te.CODE_CODE_C;break;default:throw new j}let w=!1,C=!1,S="",T=l[0],b=l[1];const k=Int32Array.from([0,0,0,0,0,0]);let L=0,V=0,q=u,J=0,Y=!0,Ae=!1,me=!1;for(;!w;){const ui=C;switch(C=!1,L=V,V=te.decodeCode(r,k,b),h[f++]=V,V!==te.CODE_STOP&&(Y=!0),V!==te.CODE_STOP&&(J++,q+=J*V),T=b,b+=k.reduce((Mh,Dh)=>Mh+Dh,0),V){case te.CODE_START_A:case te.CODE_START_B:case te.CODE_START_C:throw new j}switch(g){case te.CODE_CODE_A:if(V<64)me===Ae?S+=String.fromCharCode(32+V):S+=String.fromCharCode(32+V+128),me=!1;else if(V<96)me===Ae?S+=String.fromCharCode(V-64):S+=String.fromCharCode(V+64),me=!1;else switch(V!==te.CODE_STOP&&(Y=!1),V){case te.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_A:!Ae&&me?(Ae=!0,me=!1):Ae&&me?(Ae=!1,me=!1):me=!0;break;case te.CODE_SHIFT:C=!0,g=te.CODE_CODE_B;break;case te.CODE_CODE_B:g=te.CODE_CODE_B;break;case te.CODE_CODE_C:g=te.CODE_CODE_C;break;case te.CODE_STOP:w=!0;break}break;case te.CODE_CODE_B:if(V<96)me===Ae?S+=String.fromCharCode(32+V):S+=String.fromCharCode(32+V+128),me=!1;else switch(V!==te.CODE_STOP&&(Y=!1),V){case te.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_B:!Ae&&me?(Ae=!0,me=!1):Ae&&me?(Ae=!1,me=!1):me=!0;break;case te.CODE_SHIFT:C=!0,g=te.CODE_CODE_A;break;case te.CODE_CODE_A:g=te.CODE_CODE_A;break;case te.CODE_CODE_C:g=te.CODE_CODE_C;break;case te.CODE_STOP:w=!0;break}break;case te.CODE_CODE_C:if(V<100)V<10&&(S+="0"),S+=V;else switch(V!==te.CODE_STOP&&(Y=!1),V){case te.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+="");break;case te.CODE_CODE_A:g=te.CODE_CODE_A;break;case te.CODE_CODE_B:g=te.CODE_CODE_B;break;case te.CODE_STOP:w=!0;break}break}ui&&(g=g===te.CODE_CODE_A?te.CODE_CODE_B:te.CODE_CODE_A)}const Xt=b-T;if(b=r.getNextUnset(b),!r.isRange(b,Math.min(r.getSize(),b+(b-T)/2),!1))throw new H;if(q-=J*L,q%103!==L)throw new D;const Cn=S.length;if(Cn===0)throw new H;Cn>0&&Y&&(g===te.CODE_CODE_C?S=S.substring(0,Cn-2):S=S.substring(0,Cn-1));const Yt=(l[1]+l[0])/2,Le=T+Xt/2,It=h.length,$t=new Uint8Array(It);for(let ui=0;ui<It;ui++)$t[ui]=h[ui];const ai=[new oe(Yt,t),new oe(Le,t)];return new Ke(S,$t,0,ai,le.CODE_128,new Date().getTime())}}te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],te.MAX_AVG_VARIANCE=.25,te.MAX_INDIVIDUAL_VARIANCE=.7,te.CODE_SHIFT=98,te.CODE_CODE_C=99,te.CODE_CODE_B=100,te.CODE_CODE_A=101,te.CODE_FNC_1=102,te.CODE_FNC_2=97,te.CODE_FNC_3=96,te.CODE_FNC_4_A=101,te.CODE_FNC_4_B=100,te.CODE_START_A=103,te.CODE_START_B=104,te.CODE_START_C=105,te.CODE_STOP=106;class ft extends at{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=ft.findAsteriskPattern(r,o),u=r.getNextSet(l[1]),f=r.getSize(),h,g;do{ft.recordPattern(r,u,o);let k=ft.toNarrowWidePattern(o);if(k<0)throw new H;h=ft.patternToChar(k),this.decodeRowResult+=h,g=u;for(let L of o)u+=L;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let k of o)w+=k;let C=u-g-w;if(u!==f&&C*2<w)throw new H;if(this.usingCheckDigit){let k=this.decodeRowResult.length-1,L=0;for(let V=0;V<k;V++)L+=ft.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(V));if(this.decodeRowResult.charAt(k)!==ft.ALPHABET_STRING.charAt(L%43))throw new D;this.decodeRowResult=this.decodeRowResult.substring(0,k)}if(this.decodeRowResult.length===0)throw new H;let S;this.extendedMode?S=ft.decodeExtended(this.decodeRowResult):S=this.decodeRowResult;let T=(l[1]+l[0])/2,b=g+w/2;return new Ke(S,null,0,[new oe(T,t),new oe(b,t)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let i=t.getSize(),o=t.getNextSet(0),l=0,u=o,f=!1,h=r.length;for(let g=o;g<i;g++)if(t.get(g)!==f)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===ft.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((g-u)/2)),u,!1))return[u,g];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,f=!f}throw new H}static toNarrowWidePattern(t){let r=t.length,i=0,o;do{let l=2147483647;for(let h of t)h<l&&h>i&&(l=h);i=l,o=0;let u=0,f=0;for(let h=0;h<r;h++){let g=t[h];g>i&&(f|=1<<r-1-h,o++,u+=g)}if(o===3){for(let h=0;h<r&&o>0;h++){let g=t[h];if(g>i&&(o--,g*2>=u))return-1}return f}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<ft.CHARACTER_ENCODINGS.length;r++)if(ft.CHARACTER_ENCODINGS[r]===t)return ft.ALPHABET_STRING.charAt(r);if(t===ft.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(t){let r=t.length,i="";for(let o=0;o<r;o++){let l=t.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=t.charAt(o+1),f="\0";switch(l){case"+":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)+32);else throw new j;break;case"$":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)-64);else throw new j;break;case"%":if(u>="A"&&u<="E")f=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")f=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")f=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")f="\0";else if(u==="V")f="@";else if(u==="W")f="`";else if(u==="X"||u==="Y"||u==="Z")f="";else throw new j;break;case"/":if(u>="A"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")f=":";else throw new j;break}i+=f,o++}else i+=l}return i}}ft.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ft.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ft.ASTERISK_ENCODING=148;class Pe extends at{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,i){let o=this.decodeStart(r),l=this.decodeEnd(r),u=new Ce;Pe.decodeMiddle(r,o[1],l[0],u);let f=u.toString(),h=null;i!=null&&(h=i.get(Q.ALLOWED_LENGTHS)),h==null&&(h=Pe.DEFAULT_ALLOWED_LENGTHS);let g=f.length,w=!1,C=0;for(let b of h){if(g===b){w=!0;break}b>C&&(C=b)}if(!w&&g>C&&(w=!0),!w)throw new j;const S=[new oe(o[1],t),new oe(l[0],t)];return new Ke(f,null,0,S,le.ITF,new Date().getTime())}static decodeMiddle(t,r,i,o){let l=new Int32Array(10),u=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),u.fill(0),f.fill(0);r<i;){at.recordPattern(t,r,l);for(let g=0;g<5;g++){let w=2*g;u[g]=l[w],f[g]=l[w+1]}let h=Pe.decodeDigit(u);o.append(h.toString()),h=this.decodeDigit(f),o.append(h.toString()),l.forEach(function(g){r+=g})}}decodeStart(t){let r=Pe.skipWhiteSpace(t),i=Pe.findGuardPattern(t,r,Pe.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let o=r-1;i>0&&o>=0&&!t.get(o);o--)i--;if(i!==0)throw new H}static skipWhiteSpace(t){const r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new H;return i}decodeEnd(t){t.reverse();try{let r=Pe.skipWhiteSpace(t),i;try{i=Pe.findGuardPattern(t,r,Pe.END_PATTERN_REVERSED[0])}catch(l){l instanceof H&&(i=Pe.findGuardPattern(t,r,Pe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}}static findGuardPattern(t,r,i){let o=i.length,l=new Int32Array(o),u=t.getSize(),f=!1,h=0,g=r;l.fill(0);for(let w=r;w<u;w++)if(t.get(w)!==f)l[h]++;else{if(h===o-1){if(at.patternMatchVariance(l,i,Pe.MAX_INDIVIDUAL_VARIANCE)<Pe.MAX_AVG_VARIANCE)return[g,w];g+=l[0]+l[1],P.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,f=!f}throw new H}static decodeDigit(t){let r=Pe.MAX_AVG_VARIANCE,i=-1,o=Pe.PATTERNS.length;for(let l=0;l<o;l++){let u=Pe.PATTERNS[l],f=at.patternMatchVariance(t,u,Pe.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,i=l):f===r&&(i=-1)}if(i>=0)return i%10;throw new H}}Pe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Pe.MAX_AVG_VARIANCE=.38,Pe.MAX_INDIVIDUAL_VARIANCE=.5,Pe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Pe.START_PATTERN=Int32Array.from([1,1,1,1]),Pe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class tt extends at{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,i,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),i=tt.findGuardPattern(t,o,!1,this.START_END_PATTERN,l);let u=i[0];o=i[1];let f=u-(o-u);f>=0&&(r=t.isRange(f,u,!1))}return i}static checkChecksum(t){return tt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return tt.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new j;i+=l}i*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new j;i+=l}return(1e3-i)%10}static decodeEnd(t,r){return tt.findGuardPattern(t,r,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,i,o){return this.findGuardPattern(t,r,i,o,new Int32Array(o.length))}static findGuardPattern(t,r,i,o,l){let u=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);let f=0,h=r,g=o.length,w=i;for(let C=r;C<u;C++)if(t.get(C)!==w)l[f]++;else{if(f===g-1){if(at.patternMatchVariance(l,o,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return Int32Array.from([h,C]);h+=l[0]+l[1];let S=l.slice(2,l.length-1);for(let T=0;T<f-1;T++)l[T]=S[T];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,w=!w}throw new H}static decodeDigit(t,r,i,o){this.recordPattern(t,i,r);let l=this.MAX_AVG_VARIANCE,u=-1,f=o.length;for(let h=0;h<f;h++){let g=o[h],w=at.patternMatchVariance(r,g,tt.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,u=h)}if(u>=0)return u;throw new H}}tt.MAX_AVG_VARIANCE=.48,tt.MAX_INDIVIDUAL_VARIANCE=.7,tt.START_END_PATTERN=Int32Array.from([1,1,1]),tt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),tt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),tt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Gi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,o),u=o.toString(),f=Gi.parseExtensionString(u),h=[new oe((i[0]+i[1])/2,t),new oe(l,t)],g=new Ke(u,null,0,h,le.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let g=0;g<5&&u<l;g++){let w=tt.decodeDigit(t,o,u,tt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let C of o)u+=C;w>=10&&(f|=1<<4-g),g!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(i.length!==5)throw new H;let h=this.determineCheckDigit(f);if(Gi.extensionChecksum(i.toString())!==h)throw new H;return u}static extensionChecksum(t){let r=t.length,i=0;for(let o=r-2;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;i*=3;for(let o=r-1;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new H}static parseExtensionString(t){if(t.length!==5)return null;let r=Gi.parseExtension5String(t);return r==null?null:new Map([[mt.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(t.substring(1)),o=(i/100).toString(),l=i%100,u=l<10?"0"+l:l.toString();return r+o+"."+u}}class kl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,o),u=o.toString(),f=kl.parseExtensionString(u),h=[new oe((i[0]+i[1])/2,t),new oe(l,t)],g=new Ke(u,null,0,h,le.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let h=0;h<2&&u<l;h++){let g=tt.decodeDigit(t,o,u,tt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);for(let w of o)u+=w;g>=10&&(f|=1<<1-h),h!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(i.length!==2)throw new H;if(parseInt(i.toString())%4!==f)throw new H;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[mt.ISSUE_NUMBER,parseInt(t)]])}}class Tc{static decodeRow(t,r,i){let o=tt.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Gi().decodeRow(t,r,o)}catch{return new kl().decodeRow(t,r,o)}}}Tc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Re extends tt{constructor(){super(),this.decodeRowStringBuffer="",Re.L_AND_G_PATTERNS=Re.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Re.L_PATTERNS[t-10],i=new Int32Array(r.length);for(let o=0;o<r.length;o++)i[o]=r[r.length-o-1];Re.L_AND_G_PATTERNS[t]=i}}decodeRow(t,r,i){let o=Re.findStartGuardPattern(r),l=i==null?null:i.get(Q.NEED_RESULT_POINT_CALLBACK);if(l!=null){const Y=new oe((o[0]+o[1])/2,t);l.foundPossibleResultPoint(Y)}let u=this.decodeMiddle(r,o,this.decodeRowStringBuffer),f=u.rowOffset,h=u.resultString;if(l!=null){const Y=new oe(f,t);l.foundPossibleResultPoint(Y)}let g=this.decodeEnd(r,f);if(l!=null){const Y=new oe((g[0]+g[1])/2,t);l.foundPossibleResultPoint(Y)}let w=g[1],C=w+(w-g[0]);if(C>=r.getSize()||!r.isRange(w,C,!1))throw new H;let S=h.toString();if(S.length<8)throw new j;if(!Re.checkChecksum(S))throw new D;let T=(o[1]+o[0])/2,b=(g[1]+g[0])/2,k=this.getBarcodeFormat(),L=[new oe(T,t),new oe(b,t)],V=new Ke(S,null,0,L,k,new Date().getTime()),q=0;try{let Y=Tc.decodeRow(t,r,g[1]);V.putMetadata(mt.UPC_EAN_EXTENSION,Y.getText()),V.putAllMetadata(Y.getResultMetadata()),V.addResultPoints(Y.getResultPoints()),q=Y.getText().length}catch{}let J=i==null?null:i.get(Q.ALLOWED_EAN_EXTENSIONS);if(J!=null){let Y=!1;for(let Ae in J)if(q.toString()===Ae){Y=!0;break}if(!Y)throw new H}return V}decodeEnd(t,r){return Re.findGuardPattern(t,r,!1,Re.START_END_PATTERN,new Int32Array(Re.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Re.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return Re.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new j;i+=l}i*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new j;i+=l}return(1e3-i)%10}}class Mr extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let g=0;g<6&&u<l;g++){let w=Re.decodeDigit(t,o,u,Re.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let C of o)u+=C;w>=10&&(f|=1<<5-g)}i=Mr.determineFirstDigit(i,f),u=Re.findGuardPattern(t,u,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&u<l;g++){let w=Re.decodeDigit(t,o,u,Re.L_PATTERNS);i+=String.fromCharCode(48+w);for(let C of o)u+=C}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(t,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new H}}Mr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class _c extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1];for(let h=0;h<4&&u<l;h++){let g=Re.decodeDigit(t,o,u,Re.L_PATTERNS);i+=String.fromCharCode(48+g);for(let w of o)u+=w}u=Re.findGuardPattern(t,u,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<l;h++){let g=Re.decodeDigit(t,o,u,Re.L_PATTERNS);i+=String.fromCharCode(48+g);for(let w of o)u+=w}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return le.EAN_8}}class Rc extends Re{constructor(){super(...arguments),this.ean13Reader=new Mr}getBarcodeFormat(){return le.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))}decodeMiddle(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let i=new Ke(r.substring(1),null,null,t.getResultPoints(),le.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new H}reset(){this.ean13Reader.reset()}}class En extends Re{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters.map(g=>g);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=t.getSize();let u=r[1],f=0;for(let g=0;g<6&&u<l;g++){const w=En.decodeDigit(t,o,u,En.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let C of o)u+=C;w>=10&&(f|=1<<5-g)}let h=En.determineNumSysAndCheckDigit(i,f);return{rowOffset:u,resultString:h}}decodeEnd(t,r){return En.findGuardPatternWithoutCounters(t,r,!0,En.MIDDLE_END_PATTERN)}checkChecksum(t){return Re.checkChecksum(En.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let l=String.fromCharCode(48+i),u=String.fromCharCode(48+o);return l+t+u}throw H.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),i=new Ce;i.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}En.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),En.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Pl extends at{constructor(t){super();let r=t==null?null:t.get(Q.POSSIBLE_FORMATS),i=[];a(r)?(i.push(new Mr),i.push(new Rc),i.push(new _c),i.push(new En)):(r.indexOf(le.EAN_13)>-1&&i.push(new Mr),r.indexOf(le.UPC_A)>-1&&i.push(new Rc),r.indexOf(le.EAN_8)>-1&&i.push(new _c),r.indexOf(le.UPC_E)>-1&&i.push(new En)),this.readers=i}decodeRow(t,r,i){for(let o of this.readers)try{const l=o.decodeRow(t,r,i),u=l.getBarcodeFormat()===le.EAN_13&&l.getText().charAt(0)==="0",f=i==null?null:i.get(Q.POSSIBLE_FORMATS),h=f==null||f.includes(le.UPC_A);if(u&&h){const g=l.getRawBytes(),w=new Ke(l.getText().substring(1),g,g?g.length:null,l.getResultPoints(),le.UPC_A);return w.putAllMetadata(l.getResultMetadata()),w}return l}catch{}throw new H}reset(){for(let t of this.readers)t.reset()}}class Ot extends at{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let i=0;i<r.length;i++)if(at.patternMatchVariance(t,r[i],Ot.MAX_INDIVIDUAL_VARIANCE)<Ot.MAX_AVG_VARIANCE)return i;throw new H}static count(t){return Ie.sum(new Int32Array(t))}static increment(t,r){let i=0,o=r[0];for(let l=1;l<t.length;l++)r[l]>o&&(o=r[l],i=l);t[i]++}static decrement(t,r){let i=0,o=r[0];for(let l=1;l<t.length;l++)r[l]<o&&(o=r[l],i=l);t[i]--}static isFinderPattern(t){let r=t[0]+t[1],i=r+t[2]+t[3],o=r/i;if(o>=Ot.MIN_FINDER_PATTERN_RATIO&&o<=Ot.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let f of t)f>u&&(u=f),f<l&&(l=f);return u<10*l}return!1}}Ot.MAX_AVG_VARIANCE=.2,Ot.MAX_INDIVIDUAL_VARIANCE=.45,Ot.MIN_FINDER_PATTERN_RATIO=9.5/12,Ot.MAX_FINDER_PATTERN_RATIO=12.5/14;class ti{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof ti))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class to{constructor(t,r,i,o,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new oe(i,l)),this.resultPoints.push(new oe(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof to))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class bn{constructor(){}static getRSSvalue(t,r,i){let o=0;for(let h of t)o+=h;let l=0,u=0,f=t.length;for(let h=0;h<f-1;h++){let g;for(g=1,u|=1<<h;g<t[h];g++,u&=~(1<<h)){let w=bn.combins(o-g-1,f-h-2);if(i&&u===0&&o-g-(f-h-1)>=f-h-1&&(w-=bn.combins(o-g-(f-h),f-h-2)),f-h-1>1){let C=0;for(let S=o-g-(f-h-2);S>r;S--)C+=bn.combins(o-g-S-1,f-h-3);w-=C*(f-1-h)}else o-g>r&&w--;l+=w}o-=g}return l}static combins(t,r){let i,o;t-r>r?(o=r,i=t-r):(o=t-r,i=r);let l=1,u=1;for(let f=t;f>i;f--)l*=f,u<=o&&(l/=u,u++);for(;u<=o;)l/=u,u++;return l}}class ih{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let i=12*r,o=new U(i),l=0,f=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)f&1<<h&&o.set(l),l++;for(let h=1;h<t.length;++h){let g=t[h],w=g.getLeftChar().getValue();for(let C=11;C>=0;--C)w&1<<C&&o.set(l),l++;if(g.getRightChar()!=null){let C=g.getRightChar().getValue();for(let S=11;S>=0;--S)C&1<<S&&o.set(l),l++}}return o}}class Dr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Bl{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Ht extends Bl{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Ht.FNC1}}Ht.FNC1="$";class kr extends Bl{constructor(t,r,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class un extends Bl{constructor(t,r,i){if(super(t),r<0||r>10||i<0||i>10)throw new j;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===un.FNC1}isSecondDigitFNC1(){return this.secondDigit===un.FNC1}isAnyFNC1(){return this.firstDigit===un.FNC1||this.secondDigit===un.FNC1}}un.FNC1=10;class ie{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new H;let r=t.substring(0,2);for(let l of ie.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(2,l[2],t):ie.processFixedAI(2,l[1],t);if(t.length<3)throw new H;let i=t.substring(0,3);for(let l of ie.THREE_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(3,l[2],t):ie.processFixedAI(3,l[1],t);for(let l of ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,l[2],t):ie.processFixedAI(4,l[1],t);if(t.length<4)throw new H;let o=t.substring(0,4);for(let l of ie.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,l[2],t):ie.processFixedAI(4,l[1],t);throw new H}static processFixedAI(t,r,i){if(i.length<t)throw new H;let o=i.substring(0,t);if(i.length<t+r)throw new H;let l=i.substring(t,t+r),u=i.substring(t+r),f="("+o+")"+l,h=ie.parseFieldsInGeneralPurpose(u);return h==null?f:f+h}static processVariableAI(t,r,i){let o=i.substring(0,t),l;i.length<t+r?l=i.length:l=t+r;let u=i.substring(t,l),f=i.substring(l),h="("+o+")"+u,g=ie.parseFieldsInGeneralPurpose(f);return g==null?h:h+g}}ie.VARIABLE_LENGTH=[],ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ie.VARIABLE_LENGTH,20],["22",ie.VARIABLE_LENGTH,29],["30",ie.VARIABLE_LENGTH,8],["37",ie.VARIABLE_LENGTH,8],["90",ie.VARIABLE_LENGTH,30],["91",ie.VARIABLE_LENGTH,30],["92",ie.VARIABLE_LENGTH,30],["93",ie.VARIABLE_LENGTH,30],["94",ie.VARIABLE_LENGTH,30],["95",ie.VARIABLE_LENGTH,30],["96",ie.VARIABLE_LENGTH,30],["97",ie.VARIABLE_LENGTH,3],["98",ie.VARIABLE_LENGTH,30],["99",ie.VARIABLE_LENGTH,30]],ie.THREE_DIGIT_DATA_LENGTH=[["240",ie.VARIABLE_LENGTH,30],["241",ie.VARIABLE_LENGTH,30],["242",ie.VARIABLE_LENGTH,6],["250",ie.VARIABLE_LENGTH,30],["251",ie.VARIABLE_LENGTH,30],["253",ie.VARIABLE_LENGTH,17],["254",ie.VARIABLE_LENGTH,20],["400",ie.VARIABLE_LENGTH,30],["401",ie.VARIABLE_LENGTH,30],["402",17],["403",ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ie.VARIABLE_LENGTH,20],["421",ie.VARIABLE_LENGTH,15],["422",3],["423",ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ie.VARIABLE_LENGTH,15],["391",ie.VARIABLE_LENGTH,18],["392",ie.VARIABLE_LENGTH,15],["393",ie.VARIABLE_LENGTH,18],["703",ie.VARIABLE_LENGTH,30]],ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ie.VARIABLE_LENGTH,20],["8003",ie.VARIABLE_LENGTH,30],["8004",ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ie.VARIABLE_LENGTH,30],["8008",ie.VARIABLE_LENGTH,12],["8018",18],["8020",ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ie.VARIABLE_LENGTH,70],["8200",ie.VARIABLE_LENGTH,70]];class ni{constructor(t){this.buffer=new Ce,this.information=t}decodeAllCodes(t,r){let i=r,o=null;do{let l=this.decodeGeneralPurposeField(i,o),u=ie.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&t.append(u),l.isRemaining()?o=""+l.getRemainingValue():o=null,i===l.getNewPosition())break;i=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new un(this.information.getSize(),un.FNC1,un.FNC1):new un(this.information.getSize(),l-1,un.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),i=(r-8)/11,o=(r-8)%11;return new un(t+7,i,o)}extractNumericValueFromBitArray(t,r){return ni.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,i){let o=0;for(let l=0;l<i;++l)t.get(r+l)&&(o|=1<<i-l-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new kr(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new kr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new kr(this.current.getPosition(),this.buffer.toString()):r=new kr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Dr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new kr(this.current.getPosition(),this.buffer.toString());return new Dr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Dr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new kr(this.current.getPosition(),this.buffer.toString());return new Dr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Dr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new kr(this.current.getPosition(),this.buffer.toString());return new Dr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Dr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Ht(t+5,Ht.FNC1);if(r>=5&&r<15)return new Ht(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new Ht(t+7,""+(i+1));if(i>=90&&i<116)return new Ht(t+7,""+(i+7));let o=this.extractNumericValueFromBitArray(t,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new j}return new Ht(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Ht(t+5,Ht.FNC1);if(r>=5&&r<15)return new Ht(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new Ht(t+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new On("Decoding invalid alphanumeric value: "+i)}return new Ht(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Ll{constructor(t){this.information=t,this.generalDecoder=new ni(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wt extends Ll{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)}encodeCompressedGtinWithoutAI(t,r,i){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Wt.appendCheckDigit(t,i)}static appendCheckDigit(t,r){let i=0;for(let o=0;o<13;o++){let l=t.charAt(o+r).charCodeAt(0)-48;i+=o&1?l:3*l}i=10-i%10,i===10&&(i=0),t.append(i)}}Wt.GTIN_SIZE=40;class ri extends Wt{constructor(t){super(t)}parseInformation(){let t=new Ce;t.append("(01)");let r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(ri.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,ri.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,ri.HEADER_SIZE+44)}}ri.HEADER_SIZE=4;class no extends Ll{constructor(t){super(t)}parseInformation(){let t=new Ce;return this.getGeneralDecoder().decodeAllCodes(t,no.HEADER_SIZE)}}no.HEADER_SIZE=5;class ro extends Wt{constructor(t){super(t)}encodeCompressedWeight(t,r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,o);let l=this.checkWeight(o),u=1e5;for(let f=0;f<5;++f)l/u===0&&t.append("0"),u/=10;t.append(l)}}class Mn extends ro{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Mn.HEADER_SIZE+ro.GTIN_SIZE+Mn.WEIGHT_SIZE)throw new H;let t=new Ce;return this.encodeCompressedGtin(t,Mn.HEADER_SIZE),this.encodeCompressedWeight(t,Mn.HEADER_SIZE+ro.GTIN_SIZE,Mn.WEIGHT_SIZE),t.toString()}}Mn.HEADER_SIZE=5,Mn.WEIGHT_SIZE=15;class sh extends Mn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class oh extends Mn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Dn extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Dn.HEADER_SIZE+Wt.GTIN_SIZE)throw new H;let t=new Ce;this.encodeCompressedGtin(t,Dn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+Wt.GTIN_SIZE,Dn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Dn.HEADER_SIZE+Wt.GTIN_SIZE+Dn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Dn.HEADER_SIZE=8,Dn.LAST_DIGIT_SIZE=2;class Lt extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Lt.HEADER_SIZE+Wt.GTIN_SIZE)throw new H;let t=new Ce;this.encodeCompressedGtin(t,Lt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Lt.HEADER_SIZE+Wt.GTIN_SIZE,Lt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Lt.HEADER_SIZE+Wt.GTIN_SIZE+Lt.LAST_DIGIT_SIZE,Lt.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Lt.HEADER_SIZE+Wt.GTIN_SIZE+Lt.LAST_DIGIT_SIZE+Lt.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}Lt.HEADER_SIZE=8,Lt.LAST_DIGIT_SIZE=2,Lt.FIRST_THREE_DIGITS_SIZE=10;class Xe extends ro{constructor(t,r,i){super(t),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Xe.HEADER_SIZE+Xe.GTIN_SIZE+Xe.WEIGHT_SIZE+Xe.DATE_SIZE)throw new H;let t=new Ce;return this.encodeCompressedGtin(t,Xe.HEADER_SIZE),this.encodeCompressedWeight(t,Xe.HEADER_SIZE+Xe.GTIN_SIZE,Xe.WEIGHT_SIZE),this.encodeCompressedDate(t,Xe.HEADER_SIZE+Xe.GTIN_SIZE+Xe.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Xe.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=i%32;i/=32;let l=i%12+1;i/=12;let u=i;u/10==0&&t.append("0"),t.append(u),l/10==0&&t.append("0"),t.append(l),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Xe.HEADER_SIZE=8,Xe.WEIGHT_SIZE=20,Xe.DATE_SIZE=16;function Oc(E){try{if(E.get(1))return new ri(E);if(!E.get(2))return new no(E);switch(ni.extractNumericValueFromBitArray(E,1,4)){case 4:return new sh(E);case 5:return new oh(E)}switch(ni.extractNumericValueFromBitArray(E,1,5)){case 12:return new Dn(E);case 13:return new Lt(E)}switch(ni.extractNumericValueFromBitArray(E,1,7)){case 56:return new Xe(E,"310","11");case 57:return new Xe(E,"320","11");case 58:return new Xe(E,"310","13");case 59:return new Xe(E,"320","13");case 60:return new Xe(E,"310","15");case 61:return new Xe(E,"320","15");case 62:return new Xe(E,"310","17");case 63:return new Xe(E,"320","17")}}catch(t){throw console.log(t),new On("unknown decoder: "+E)}}class nr{constructor(t,r,i,o){this.leftchar=t,this.rightchar=r,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof nr?nr.equalsOrNull(t.leftchar,r.leftchar)&&nr.equalsOrNull(t.rightchar,r.rightchar)&&nr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:nr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Fl{constructor(t,r,i){this.pairs=t,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Fl?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let i;return t.forEach((o,l)=>{r.forEach(u=>{o.getLeftChar().getValue()===u.getLeftChar().getValue()&&o.getRightChar().getValue()===u.getRightChar().getValue()&&o.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(i=!0)})}),i}}class X extends Ot{constructor(t){super(...arguments),this.pairs=new Array(X.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return X.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,X.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof H){if(!this.pairs.length)throw new H;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new H}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let i=r;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(o.getPairs()),!X.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(o);try{return this.checkRows(l,i+1)}catch(u){this.verbose&&console.log(u)}}throw new H}static isValidSequence(t){for(let r of X.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let i=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){i=!1;break}if(i)return!0}return!1}storeRow(t,r){let i=0,o=!1,l=!1;for(;i<this.rows.length;){let u=this.rows[i];if(u.getRowNumber()>t){l=u.isEquivalent(this.pairs);break}o=u.isEquivalent(this.pairs),i++}l||o||X.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Fl(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let i of r)if(i.getPairs().length!==t.length){for(let o of i.getPairs())for(let l of t)if(nr.equals(o,l))break}}static isPartialRow(t,r){for(let i of r){let o=!0;for(let l of t){let u=!1;for(let f of i.getPairs())if(l.equals(f)){u=!0;break}if(!u){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=ih.buildBitArray(t),o=Oc(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],u[0],u[1]];return new Ke(o,null,null,f,le.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let h=this.pairs.get(f);o+=h.getLeftChar().getChecksumPortion(),l++;let g=h.getRightChar();g!=null&&(o+=g.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(t,r){let i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i}retrieveNextPair(t,r,i){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,u=!0,f=-1;do this.findNextPair(t,r,f),l=this.parseFoundFinderPattern(t,i,o),l==null?f=X.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(t,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new H;let g;try{g=this.decodeDataCharacter(t,l,o,!1)}catch(w){g=null,this.verbose&&console.log(w)}return new nr(h,g,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u;i>=0?u=i:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let f=r.length%2!=0;this.startFromEven&&(f=!f);let h=!1;for(;u<l&&(h=!t.get(u),!!h);)u++;let g=0,w=u;for(let C=u;C<l;C++)if(t.get(C)!=h)o[g]++;else{if(g==3){if(f&&X.reverseCounters(o),X.isFinderPattern(o)){this.startEnd[0]=w,this.startEnd[1]=C;return}f&&X.reverseCounters(o),w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,h=!h}throw new H}static reverseCounters(t){let r=t.length;for(let i=0;i<r/2;++i){let o=t[i];t[i]=t[r-i-1],t[r-i-1]=o}}parseFoundFinderPattern(t,r,i){let o,l,u;if(i){let g=this.startEnd[0]-1;for(;g>=0&&!t.get(g);)g--;g++,o=this.startEnd[0]-g,l=g,u=this.startEnd[1]}else l=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),o=u-this.startEnd[1];let f=this.getDecodeFinderCounters();P.arraycopy(f,0,f,1,f.length-1),f[0]=o;let h;try{h=this.parseFinderValue(f,X.FINDER_PATTERNS)}catch{return null}return new to(h,[l,u],l,u,r)}decodeDataCharacter(t,r,i,o){let l=this.getDataCharacterCounters();for(let Le=0;Le<l.length;Le++)l[Le]=0;if(o)X.recordPatternInReverse(t,r.getStartEnd()[0],l);else{X.recordPattern(t,r.getStartEnd()[1],l);for(let Le=0,It=l.length-1;Le<It;Le++,It--){let $t=l[Le];l[Le]=l[It],l[It]=$t}}let u=17,f=Ie.sum(new Int32Array(l))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(f-h)/h>.3)throw new H;let g=this.getOddCounts(),w=this.getEvenCounts(),C=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let Le=0;Le<l.length;Le++){let It=1*l[Le]/f,$t=It+.5;if($t<1){if(It<.3)throw new H;$t=1}else if($t>8){if(It>8.7)throw new H;$t=8}let ai=Le/2;Le&1?(w[ai]=$t,S[ai]=It-$t):(g[ai]=$t,C[ai]=It-$t)}this.adjustOddEvenCounts(u);let T=4*r.getValue()+(i?0:2)+(o?0:1)-1,b=0,k=0;for(let Le=g.length-1;Le>=0;Le--){if(X.isNotA1left(r,i,o)){let It=X.WEIGHTS[T][2*Le];k+=g[Le]*It}b+=g[Le]}let L=0;for(let Le=w.length-1;Le>=0;Le--)if(X.isNotA1left(r,i,o)){let It=X.WEIGHTS[T][2*Le+1];L+=w[Le]*It}let V=k+L;if(b&1||b>13||b<4)throw new H;let q=(13-b)/2,J=X.SYMBOL_WIDEST[q],Y=9-J,Ae=bn.getRSSvalue(g,J,!0),me=bn.getRSSvalue(w,Y,!1),Xt=X.EVEN_TOTAL_SUBSET[q],Cn=X.GSUM[q],Yt=Ae*Xt+me+Cn;return new ti(Yt,V)}static isNotA1left(t,r,i){return!(t.getValue()==0&&r&&i)}adjustOddEvenCounts(t){let r=Ie.sum(new Int32Array(this.getOddCounts())),i=Ie.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let u=!1,f=!1;i>13?f=!0:i<4&&(u=!0);let h=r+i-t,g=(r&1)==1,w=(i&1)==0;if(h==1)if(g){if(w)throw new H;l=!0}else{if(!w)throw new H;f=!0}else if(h==-1)if(g){if(w)throw new H;o=!0}else{if(!w)throw new H;u=!0}else if(h==0){if(g){if(!w)throw new H;r<i?(o=!0,f=!0):(l=!0,u=!0)}else if(w)throw new H}else throw new H;if(o){if(l)throw new H;X.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&X.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new H;X.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&X.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}X.SYMBOL_WIDEST=[7,5,4,3,1],X.EVEN_TOTAL_SUBSET=[4,20,52,104,204],X.GSUM=[0,348,1388,2948,3988],X.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],X.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],X.FINDER_PAT_A=0,X.FINDER_PAT_B=1,X.FINDER_PAT_C=2,X.FINDER_PAT_D=3,X.FINDER_PAT_E=4,X.FINDER_PAT_F=5,X.FINDER_PATTERN_SEQUENCES=[[X.FINDER_PAT_A,X.FINDER_PAT_A],[X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B],[X.FINDER_PAT_A,X.FINDER_PAT_C,X.FINDER_PAT_B,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_C],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F]],X.MAX_PAIRS=11;class lh extends ti{constructor(t,r,i){super(t,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class nt extends Ot{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,i){const o=this.decodePair(r,!1,t,i);nt.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,t,i);nt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&nt.checkChecksum(u,f))return nt.constructResult(u,f)}throw new H}static addOrTally(t,r){if(r==null)return;let i=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),i=!0;break}i||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let i=4537077*t.getValue()+r.getValue(),o=new String(i).toString(),l=new Ce;for(let g=13-o.length;g>0;g--)l.append("0");l.append(o);let u=0;for(let g=0;g<13;g++){let w=l.charAt(g).charCodeAt(0)-48;u+=g&1?w:3*w}u=10-u%10,u===10&&(u=0),l.append(u.toString());let f=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new Ke(l.toString(),null,0,[f[0],f[1],h[0],h[1]],le.RSS_14,new Date().getTime())}static checkChecksum(t,r){let i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(t,r,i,o){try{let l=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,i,r,l),f=o==null?null:o.get(Q.NEED_RESULT_POINT_CALLBACK);if(f!=null){let w=(l[0]+l[1])/2;r&&(w=t.getSize()-1-w),f.foundPossibleResultPoint(new oe(w,i))}let h=this.decodeDataCharacter(t,u,!0),g=this.decodeDataCharacter(t,u,!1);return new lh(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,i){let o=this.getDataCharacterCounters();for(let L=0;L<o.length;L++)o[L]=0;if(i)at.recordPatternInReverse(t,r.getStartEnd()[0],o);else{at.recordPattern(t,r.getStartEnd()[1]+1,o);for(let L=0,V=o.length-1;L<V;L++,V--){let q=o[L];o[L]=o[V],o[V]=q}}let l=i?16:15,u=Ie.sum(new Int32Array(o))/l,f=this.getOddCounts(),h=this.getEvenCounts(),g=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let L=0;L<o.length;L++){let V=o[L]/u,q=Math.floor(V+.5);q<1?q=1:q>8&&(q=8);let J=Math.floor(L/2);L&1?(h[J]=q,w[J]=V-q):(f[J]=q,g[J]=V-q)}this.adjustOddEvenCounts(i,l);let C=0,S=0;for(let L=f.length-1;L>=0;L--)S*=9,S+=f[L],C+=f[L];let T=0,b=0;for(let L=h.length-1;L>=0;L--)T*=9,T+=h[L],b+=h[L];let k=S+3*T;if(i){if(C&1||C>12||C<4)throw new H;let L=(12-C)/2,V=nt.OUTSIDE_ODD_WIDEST[L],q=9-V,J=bn.getRSSvalue(f,V,!1),Y=bn.getRSSvalue(h,q,!0),Ae=nt.OUTSIDE_EVEN_TOTAL_SUBSET[L],me=nt.OUTSIDE_GSUM[L];return new ti(J*Ae+Y+me,k)}else{if(b&1||b>10||b<4)throw new H;let L=(10-b)/2,V=nt.INSIDE_ODD_WIDEST[L],q=9-V,J=bn.getRSSvalue(f,V,!0),Y=bn.getRSSvalue(h,q,!1),Ae=nt.INSIDE_ODD_TOTAL_SUBSET[L],me=nt.INSIDE_GSUM[L];return new ti(Y*Ae+J+me,k)}}findFinderPattern(t,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=t.getSize(),l=!1,u=0;for(;u<o&&(l=!t.get(u),r!==l);)u++;let f=0,h=u;for(let g=u;g<o;g++)if(t.get(g)!==l)i[f]++;else{if(f===3){if(Ot.isFinderPattern(i))return[h,g];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,l=!l}throw new H}parseFoundFinderPattern(t,r,i,o){let l=t.get(o[0]),u=o[0]-1;for(;u>=0&&l!==t.get(u);)u--;u++;const f=o[0]-u,h=this.getDecodeFinderCounters(),g=new Int32Array(h.length);P.arraycopy(h,0,g,1,h.length-1),g[0]=f;const w=this.parseFinderValue(g,nt.FINDER_PATTERNS);let C=u,S=o[1];return i&&(C=t.getSize()-1-C,S=t.getSize()-1-S),new to(w,[u,o[1]],C,S,r)}adjustOddEvenCounts(t,r){let i=Ie.sum(new Int32Array(this.getOddCounts())),o=Ie.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,f=!1,h=!1;t?(i>12?u=!0:i<4&&(l=!0),o>12?h=!0:o<4&&(f=!0)):(i>11?u=!0:i<5&&(l=!0),o>10?h=!0:o<4&&(f=!0));let g=i+o-r,w=(i&1)===(t?1:0),C=(o&1)===1;if(g===1)if(w){if(C)throw new H;u=!0}else{if(!C)throw new H;h=!0}else if(g===-1)if(w){if(C)throw new H;l=!0}else{if(!C)throw new H;f=!0}else if(g===0){if(w){if(!C)throw new H;i<o?(l=!0,h=!0):(u=!0,f=!0)}else if(C)throw new H}else throw new H;if(l){if(u)throw new H;Ot.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Ot.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new H;Ot.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Ot.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}nt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],nt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],nt.OUTSIDE_GSUM=[0,161,961,2015,2715],nt.INSIDE_GSUM=[0,336,1036,1516],nt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],nt.INSIDE_ODD_WIDEST=[2,4,6,8],nt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ii extends at{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const i=t?t.get(Q.POSSIBLE_FORMATS):null,o=t&&t.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(le.EAN_13)||i.includes(le.UPC_A)||i.includes(le.EAN_8)||i.includes(le.UPC_E))&&this.readers.push(new Pl(t)),i.includes(le.CODE_39)&&this.readers.push(new ft(o)),i.includes(le.CODE_128)&&this.readers.push(new te),i.includes(le.ITF)&&this.readers.push(new Pe),i.includes(le.RSS_14)&&this.readers.push(new nt),i.includes(le.RSS_EXPANDED)&&this.readers.push(new X(this.verbose))):(this.readers.push(new Pl(t)),this.readers.push(new ft),this.readers.push(new Pl(t)),this.readers.push(new te),this.readers.push(new Pe),this.readers.push(new nt),this.readers.push(new X(this.verbose)))}decodeRow(t,r,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,i)}catch{}throw new H}reset(){this.readers.forEach(t=>t.reset())}}class ah extends an{constructor(t=500,r){super(new ii(r),t,r)}}class be{constructor(t,r,i){this.ecCodewords=t,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Oe{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ve{constructor(t,r,i,o,l,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=u;let f=0;const h=u.getECCodewords(),g=u.getECBlocks();for(let w of g)f+=w.getCount()*(w.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new j;for(let i of ve.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===r)return i;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new ve(1,10,10,8,8,new be(5,new Oe(1,3))),new ve(2,12,12,10,10,new be(7,new Oe(1,5))),new ve(3,14,14,12,12,new be(10,new Oe(1,8))),new ve(4,16,16,14,14,new be(12,new Oe(1,12))),new ve(5,18,18,16,16,new be(14,new Oe(1,18))),new ve(6,20,20,18,18,new be(18,new Oe(1,22))),new ve(7,22,22,20,20,new be(20,new Oe(1,30))),new ve(8,24,24,22,22,new be(24,new Oe(1,36))),new ve(9,26,26,24,24,new be(28,new Oe(1,44))),new ve(10,32,32,14,14,new be(36,new Oe(1,62))),new ve(11,36,36,16,16,new be(42,new Oe(1,86))),new ve(12,40,40,18,18,new be(48,new Oe(1,114))),new ve(13,44,44,20,20,new be(56,new Oe(1,144))),new ve(14,48,48,22,22,new be(68,new Oe(1,174))),new ve(15,52,52,24,24,new be(42,new Oe(2,102))),new ve(16,64,64,14,14,new be(56,new Oe(2,140))),new ve(17,72,72,16,16,new be(36,new Oe(4,92))),new ve(18,80,80,18,18,new be(48,new Oe(4,114))),new ve(19,88,88,20,20,new be(56,new Oe(4,144))),new ve(20,96,96,22,22,new be(68,new Oe(4,174))),new ve(21,104,104,24,24,new be(56,new Oe(6,136))),new ve(22,120,120,18,18,new be(68,new Oe(6,175))),new ve(23,132,132,20,20,new be(62,new Oe(8,163))),new ve(24,144,144,22,22,new be(62,new Oe(8,156),new Oe(2,155))),new ve(25,8,18,6,16,new be(7,new Oe(1,5))),new ve(26,8,32,6,14,new be(11,new Oe(1,10))),new ve(27,12,26,10,24,new be(14,new Oe(1,16))),new ve(28,12,36,10,16,new be(18,new Oe(1,22))),new ve(29,16,36,14,16,new be(24,new Oe(1,32))),new ve(30,16,48,14,22,new be(28,new Oe(1,49)))]}}ve.VERSIONS=ve.buildVersions();class Ul{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new j;this.version=Ul.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ze(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),i=t.getWidth();return ve.getVersionForDimensions(r,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,o=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let f=!1,h=!1,g=!1,w=!1;do if(i===l&&o===0&&!f)t[r++]=this.readCorner1(l,u)&255,i-=2,o+=2,f=!0;else if(i===l-2&&o===0&&u&3&&!h)t[r++]=this.readCorner2(l,u)&255,i-=2,o+=2,h=!0;else if(i===l+4&&o===2&&!(u&7)&&!g)t[r++]=this.readCorner3(l,u)&255,i-=2,o+=2,g=!0;else if(i===l-2&&o===0&&(u&7)===4&&!w)t[r++]=this.readCorner4(l,u)&255,i-=2,o+=2,w=!0;else{do i<l&&o>=0&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,l,u)&255),i-=2,o+=2;while(i>=0&&o<u);i+=1,o+=3;do i>=0&&o<u&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,l,u)&255),i+=2,o-=2;while(i<l&&o>=0);i+=3,o+=1}while(i<l||o<u);if(r!==this.version.getTotalCodewords())throw new j;return t}readModule(t,r,i,o){return t<0&&(t+=i,r+=4-(i+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,i,o){let l=0;return this.readModule(t-2,r-2,i,o)&&(l|=1),l<<=1,this.readModule(t-2,r-1,i,o)&&(l|=1),l<<=1,this.readModule(t-1,r-2,i,o)&&(l|=1),l<<=1,this.readModule(t-1,r-1,i,o)&&(l|=1),l<<=1,this.readModule(t-1,r,i,o)&&(l|=1),l<<=1,this.readModule(t,r-2,i,o)&&(l|=1),l<<=1,this.readModule(t,r-1,i,o)&&(l|=1),l<<=1,this.readModule(t,r,i,o)&&(l|=1),l}readCorner1(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,1,t,r)&&(i|=1),i<<=1,this.readModule(t-1,2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}readCorner2(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-4,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner3(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-3,t,r)&&(i|=1),i<<=1,this.readModule(1,r-2,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner4(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new A("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/o|0,f=i/l|0,h=u*o,g=f*l,w=new Ze(g,h);for(let C=0;C<u;++C){const S=C*o;for(let T=0;T<f;++T){const b=T*l;for(let k=0;k<o;++k){const L=C*(o+2)+1+k,V=S+k;for(let q=0;q<l;++q){const J=T*(l+2)+1+q;if(t.get(J,L)){const Y=b+q;w.set(Y,V)}}}}}return w}}class jl{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const i=r.getECBlocks();let o=0;const l=i.getECBlocks();for(let k of l)o+=k.getCount();const u=new Array(o);let f=0;for(let k of l)for(let L=0;L<k.getCount();L++){const V=k.getDataCodewords(),q=i.getECCodewords()+V;u[f++]=new jl(V,new Uint8Array(q))}const g=u[0].codewords.length-i.getECCodewords(),w=g-1;let C=0;for(let k=0;k<w;k++)for(let L=0;L<f;L++)u[L].codewords[k]=t[C++];const S=r.getVersionNumber()===24,T=S?8:f;for(let k=0;k<T;k++)u[k].codewords[g-1]=t[C++];const b=u[0].codewords.length;for(let k=g;k<b;k++)for(let L=0;L<f;L++){const V=S?(L+8)%f:L,q=S&&V>7?k-1:k;u[V].codewords[q]=t[C++]}if(C!==t.length)throw new A;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class zl{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new A(""+t);let r=0,i=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(i>0){const u=8-i,f=t<u?t:u,h=u-f,g=255>>8-f<<h;r=(l[o]&g)>>h,t-=f,i+=f,i===8&&(i=0,o++)}if(t>0){for(;t>=8;)r=r<<8|l[o]&255,o++,t-=8;if(t>0){const u=8-t,f=255>>u<<u;r=r<<t|(l[o]&f)>>u,i+=t}}return this.bitOffset=i,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var dt;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(dt||(dt={}));class rr{static decode(t){const r=new zl(t),i=new Ce,o=new Ce,l=new Array;let u=dt.ASCII_ENCODE;do if(u===dt.ASCII_ENCODE)u=this.decodeAsciiSegment(r,i,o);else{switch(u){case dt.C40_ENCODE:this.decodeC40Segment(r,i);break;case dt.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case dt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case dt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case dt.BASE256_ENCODE:this.decodeBase256Segment(r,i,l);break;default:throw new j}u=dt.ASCII_ENCODE}while(u!==dt.PAD_ENCODE&&r.available()>0);return o.length()>0&&i.append(o.toString()),new Vi(t,i.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,i){let o=!1;do{let l=t.readBits(8);if(l===0)throw new j;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),dt.ASCII_ENCODE;if(l===129)return dt.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return dt.C40_ENCODE;case 231:return dt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return dt.ANSIX12_ENCODE;case 239:return dt.TEXT_ENCODE;case 240:return dt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new j;break}}while(t.available()>0);return dt.ASCII_ENCODE}static decodeC40Segment(t,r){let i=!1;const o=[];let l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let f=0;f<3;f++){const h=o[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else throw new j;break;case 1:i?(r.append(String.fromCharCode(h+128)),i=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:i=!0;break;default:throw new j}l=0;break;case 3:i?(r.append(String.fromCharCode(h+224)),i=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new j}}}while(t.available()>0)}static decodeTextSegment(t,r){let i=!1,o=[],l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let f=0;f<3;f++){const h=o[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else throw new j;break;case 1:i?(r.append(String.fromCharCode(h+128)),i=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:i=!0;break;default:throw new j}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[h];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g),l=0}else throw new j;break;default:throw new j}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const i=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),i);for(let l=0;l<3;l++){const u=i[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new j;break}}}while(t.available()>0)}static parseTwoBytes(t,r,i){let o=(t<<8)+r-1,l=Math.floor(o/1600);i[0]=l,o-=l*1600,l=Math.floor(o/40),i[1]=l,i[2]=o-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let o=t.readBits(6);if(o===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,i){let o=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),o++);let u;if(l===0?u=t.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(t.readBits(8),o++),u<0)throw new j;const f=new Uint8Array(u);for(let h=0;h<u;h++){if(t.available()<8)throw new j;f[h]=this.unrandomize255State(t.readBits(8),o++)}i.push(f);try{r.append(Me.decode(f,ue.ISO88591))}catch(h){throw new On("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,r){const i=149*r%255+1,o=t-i;return o>=0?o:o+256}}rr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],rr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],rr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],rr.TEXT_SHIFT2_SET_CHARS=rr.C40_SHIFT2_SET_CHARS,rr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class uh{constructor(){this.rsDecoder=new Wi(_e.DATA_MATRIX_FIELD_256)}decode(t){const r=new Ul(t),i=r.getVersion(),o=r.readCodewords(),l=jl.getDataBlocks(o,i);let u=0;for(let g of l)u+=g.getNumDataCodewords();const f=new Uint8Array(u),h=l.length;for(let g=0;g<h;g++){const w=l[g],C=w.getCodewords(),S=w.getNumDataCodewords();this.correctErrors(C,S);for(let T=0;T<S;T++)f[T*h+g]=C[T]}return rr.decode(f)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new D}for(let o=0;o<r;o++)t[o]=i[o]}}class ot{constructor(t){this.image=t,this.rectangleDetector=new Vn(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new H;r=this.shiftToModuleCenter(r);const i=r[0],o=r[1],l=r[2],u=r[3];let f=this.transitionsBetween(i,u)+1,h=this.transitionsBetween(l,u)+1;(f&1)===1&&(f+=1),(h&1)===1&&(h+=1),4*f<7*h&&4*h<7*f&&(f=h=Math.max(f,h));let g=ot.sampleGrid(this.image,i,o,l,u,f,h);return new $s(g,[i,o,l,u])}static shiftPoint(t,r,i){let o=(r.getX()-t.getX())/(i+1),l=(r.getY()-t.getY())/(i+1);return new oe(t.getX()+o,t.getY()+l)}static moveAway(t,r,i){let o=t.getX(),l=t.getY();return o<r?o-=1:o+=1,l<i?l-=1:l+=1,new oe(o,l)}detectSolid1(t){let r=t[0],i=t[1],o=t[3],l=t[2],u=this.transitionsBetween(r,i),f=this.transitionsBetween(i,o),h=this.transitionsBetween(o,l),g=this.transitionsBetween(l,r),w=u,C=[l,r,i,o];return w>f&&(w=f,C[0]=r,C[1]=i,C[2]=o,C[3]=l),w>h&&(w=h,C[0]=i,C[1]=o,C[2]=l,C[3]=r),w>g&&(C[0]=o,C[1]=l,C[2]=r,C[3]=i),C}detectSolid2(t){let r=t[0],i=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),f=ot.shiftPoint(i,o,(u+1)*4),h=ot.shiftPoint(o,i,(u+1)*4),g=this.transitionsBetween(f,r),w=this.transitionsBetween(h,l);return g<w?(t[0]=r,t[1]=i,t[2]=o,t[3]=l):(t[0]=i,t[1]=o,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],i=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),f=this.transitionsBetween(i,l),h=ot.shiftPoint(r,i,(f+1)*4),g=ot.shiftPoint(o,i,(u+1)*4);u=this.transitionsBetween(h,l),f=this.transitionsBetween(g,l);let w=new oe(l.getX()+(o.getX()-i.getX())/(u+1),l.getY()+(o.getY()-i.getY())/(u+1)),C=new oe(l.getX()+(r.getX()-i.getX())/(f+1),l.getY()+(r.getY()-i.getY())/(f+1));if(!this.isValid(w))return this.isValid(C)?C:null;if(!this.isValid(C))return w;let S=this.transitionsBetween(h,w)+this.transitionsBetween(g,w),T=this.transitionsBetween(h,C)+this.transitionsBetween(g,C);return S>T?w:C}shiftToModuleCenter(t){let r=t[0],i=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l)+1,f=this.transitionsBetween(o,l)+1,h=ot.shiftPoint(r,i,f*4),g=ot.shiftPoint(o,i,u*4);u=this.transitionsBetween(h,l)+1,f=this.transitionsBetween(g,l)+1,(u&1)===1&&(u+=1),(f&1)===1&&(f+=1);let w=(r.getX()+i.getX()+o.getX()+l.getX())/4,C=(r.getY()+i.getY()+o.getY()+l.getY())/4;r=ot.moveAway(r,w,C),i=ot.moveAway(i,w,C),o=ot.moveAway(o,w,C),l=ot.moveAway(l,w,C);let S,T;return h=ot.shiftPoint(r,i,f*4),h=ot.shiftPoint(h,l,u*4),S=ot.shiftPoint(i,r,f*4),S=ot.shiftPoint(S,o,u*4),g=ot.shiftPoint(o,l,f*4),g=ot.shiftPoint(g,i,u*4),T=ot.shiftPoint(l,o,f*4),T=ot.shiftPoint(T,r,u*4),[h,S,g,T]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,i,o,l,u,f){return tr.getInstance().sampleGrid(t,u,f,.5,.5,u-.5,.5,u-.5,f-.5,.5,f-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(t,r){let i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),f=Math.abs(u-o)>Math.abs(l-i);if(f){let k=i;i=o,o=k,k=l,l=u,u=k}let h=Math.abs(l-i),g=Math.abs(u-o),w=-h/2,C=o<u?1:-1,S=i<l?1:-1,T=0,b=this.image.get(f?o:i,f?i:o);for(let k=i,L=o;k!==l;k+=S){let V=this.image.get(f?L:k,f?k:L);if(V!==b&&(T++,b=V),w+=g,w>0){if(L===u)break;L+=C,w-=h}}return T}}class ir{constructor(){this.decoder=new uh}decode(t,r=null){let i,o;if(r!=null&&r.has(Q.PURE_BARCODE)){const g=ir.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(g),o=ir.NO_POINTS}else{const g=new ot(t.getBlackMatrix()).detect();i=this.decoder.decode(g.getBits()),o=g.getPoints()}const l=i.getRawBytes(),u=new Ke(i.getText(),l,8*l.length,o,le.DATA_MATRIX,P.currentTimeMillis()),f=i.getByteSegments();f!=null&&u.putMetadata(mt.BYTE_SEGMENTS,f);const h=i.getECLevel();return h!=null&&u.putMetadata(mt.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r==null||i==null)throw new H;const o=this.moduleSize(r,t);let l=r[1];const u=i[1];let f=r[0];const g=(i[0]-f+1)/o,w=(u-l+1)/o;if(g<=0||w<=0)throw new H;const C=o/2;l+=C,f+=C;const S=new Ze(g,w);for(let T=0;T<w;T++){const b=l+T*o;for(let k=0;k<g;k++)t.get(f+k*o,b)&&S.set(k,T)}return S}static moduleSize(t,r){const i=r.getWidth();let o=t[0];const l=t[1];for(;o<i&&r.get(o,l);)o++;if(o===i)throw new H;const u=o-t[0];if(u===0)throw new H;return u}}ir.NO_POINTS=[];class ch extends an{constructor(t=500){super(new ir,t)}}var si;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(si||(si={}));class Ue{constructor(t,r,i){this.value=t,this.stringValue=r,this.bits=i,Ue.FOR_BITS.set(i,this),Ue.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Ue.L;case"M":return Ue.M;case"Q":return Ue.Q;case"H":return Ue.H;default:throw new v(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Ue))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=Ue.FOR_BITS.size)throw new A;return Ue.FOR_BITS.get(t)}}Ue.FOR_BITS=new Map,Ue.FOR_VALUE=new Map,Ue.L=new Ue(si.L,"L",1),Ue.M=new Ue(si.M,"M",0),Ue.Q=new Ue(si.Q,"Q",3),Ue.H=new Ue(si.H,"H",2);class bt{constructor(t){this.errorCorrectionLevel=Ue.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return _.bitCount(t^r)}static decodeFormatInformation(t,r){const i=bt.doDecodeFormatInformation(t,r);return i!==null?i:bt.doDecodeFormatInformation(t^bt.FORMAT_INFO_MASK_QR,r^bt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let i=Number.MAX_SAFE_INTEGER,o=0;for(const l of bt.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===t||u===r)return new bt(l[1]);let f=bt.numBitsDiffering(t,u);f<i&&(o=l[1],i=f),t!==r&&(f=bt.numBitsDiffering(r,u),f<i&&(o=l[1],i=f))}return i<=3?new bt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof bt))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}bt.FORMAT_INFO_MASK_QR=21522,bt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class F{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const i of r)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class I{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ae{constructor(t,r,...i){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;let o=0;const l=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();for(const f of u)o+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new j;try{return this.getVersionForNumber((t-17)/4)}catch{throw new j}}static getVersionForNumber(t){if(t<1||t>40)throw new A;return ae.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<ae.VERSION_DECODE_INFO.length;o++){const l=ae.VERSION_DECODE_INFO[o];if(l===t)return ae.getVersionForNumber(o+7);const u=bt.numBitsDiffering(t,l);u<r&&(i=o+7,r=u)}return r<=3?ae.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new Ze(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const l=this.alignmentPatternCenters[o]-2;for(let u=0;u<i;u++)o===0&&(u===0||u===i-1)||o===i-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}ae.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ae.VERSIONS=[new ae(1,new Int32Array(0),new F(7,new I(1,19)),new F(10,new I(1,16)),new F(13,new I(1,13)),new F(17,new I(1,9))),new ae(2,Int32Array.from([6,18]),new F(10,new I(1,34)),new F(16,new I(1,28)),new F(22,new I(1,22)),new F(28,new I(1,16))),new ae(3,Int32Array.from([6,22]),new F(15,new I(1,55)),new F(26,new I(1,44)),new F(18,new I(2,17)),new F(22,new I(2,13))),new ae(4,Int32Array.from([6,26]),new F(20,new I(1,80)),new F(18,new I(2,32)),new F(26,new I(2,24)),new F(16,new I(4,9))),new ae(5,Int32Array.from([6,30]),new F(26,new I(1,108)),new F(24,new I(2,43)),new F(18,new I(2,15),new I(2,16)),new F(22,new I(2,11),new I(2,12))),new ae(6,Int32Array.from([6,34]),new F(18,new I(2,68)),new F(16,new I(4,27)),new F(24,new I(4,19)),new F(28,new I(4,15))),new ae(7,Int32Array.from([6,22,38]),new F(20,new I(2,78)),new F(18,new I(4,31)),new F(18,new I(2,14),new I(4,15)),new F(26,new I(4,13),new I(1,14))),new ae(8,Int32Array.from([6,24,42]),new F(24,new I(2,97)),new F(22,new I(2,38),new I(2,39)),new F(22,new I(4,18),new I(2,19)),new F(26,new I(4,14),new I(2,15))),new ae(9,Int32Array.from([6,26,46]),new F(30,new I(2,116)),new F(22,new I(3,36),new I(2,37)),new F(20,new I(4,16),new I(4,17)),new F(24,new I(4,12),new I(4,13))),new ae(10,Int32Array.from([6,28,50]),new F(18,new I(2,68),new I(2,69)),new F(26,new I(4,43),new I(1,44)),new F(24,new I(6,19),new I(2,20)),new F(28,new I(6,15),new I(2,16))),new ae(11,Int32Array.from([6,30,54]),new F(20,new I(4,81)),new F(30,new I(1,50),new I(4,51)),new F(28,new I(4,22),new I(4,23)),new F(24,new I(3,12),new I(8,13))),new ae(12,Int32Array.from([6,32,58]),new F(24,new I(2,92),new I(2,93)),new F(22,new I(6,36),new I(2,37)),new F(26,new I(4,20),new I(6,21)),new F(28,new I(7,14),new I(4,15))),new ae(13,Int32Array.from([6,34,62]),new F(26,new I(4,107)),new F(22,new I(8,37),new I(1,38)),new F(24,new I(8,20),new I(4,21)),new F(22,new I(12,11),new I(4,12))),new ae(14,Int32Array.from([6,26,46,66]),new F(30,new I(3,115),new I(1,116)),new F(24,new I(4,40),new I(5,41)),new F(20,new I(11,16),new I(5,17)),new F(24,new I(11,12),new I(5,13))),new ae(15,Int32Array.from([6,26,48,70]),new F(22,new I(5,87),new I(1,88)),new F(24,new I(5,41),new I(5,42)),new F(30,new I(5,24),new I(7,25)),new F(24,new I(11,12),new I(7,13))),new ae(16,Int32Array.from([6,26,50,74]),new F(24,new I(5,98),new I(1,99)),new F(28,new I(7,45),new I(3,46)),new F(24,new I(15,19),new I(2,20)),new F(30,new I(3,15),new I(13,16))),new ae(17,Int32Array.from([6,30,54,78]),new F(28,new I(1,107),new I(5,108)),new F(28,new I(10,46),new I(1,47)),new F(28,new I(1,22),new I(15,23)),new F(28,new I(2,14),new I(17,15))),new ae(18,Int32Array.from([6,30,56,82]),new F(30,new I(5,120),new I(1,121)),new F(26,new I(9,43),new I(4,44)),new F(28,new I(17,22),new I(1,23)),new F(28,new I(2,14),new I(19,15))),new ae(19,Int32Array.from([6,30,58,86]),new F(28,new I(3,113),new I(4,114)),new F(26,new I(3,44),new I(11,45)),new F(26,new I(17,21),new I(4,22)),new F(26,new I(9,13),new I(16,14))),new ae(20,Int32Array.from([6,34,62,90]),new F(28,new I(3,107),new I(5,108)),new F(26,new I(3,41),new I(13,42)),new F(30,new I(15,24),new I(5,25)),new F(28,new I(15,15),new I(10,16))),new ae(21,Int32Array.from([6,28,50,72,94]),new F(28,new I(4,116),new I(4,117)),new F(26,new I(17,42)),new F(28,new I(17,22),new I(6,23)),new F(30,new I(19,16),new I(6,17))),new ae(22,Int32Array.from([6,26,50,74,98]),new F(28,new I(2,111),new I(7,112)),new F(28,new I(17,46)),new F(30,new I(7,24),new I(16,25)),new F(24,new I(34,13))),new ae(23,Int32Array.from([6,30,54,78,102]),new F(30,new I(4,121),new I(5,122)),new F(28,new I(4,47),new I(14,48)),new F(30,new I(11,24),new I(14,25)),new F(30,new I(16,15),new I(14,16))),new ae(24,Int32Array.from([6,28,54,80,106]),new F(30,new I(6,117),new I(4,118)),new F(28,new I(6,45),new I(14,46)),new F(30,new I(11,24),new I(16,25)),new F(30,new I(30,16),new I(2,17))),new ae(25,Int32Array.from([6,32,58,84,110]),new F(26,new I(8,106),new I(4,107)),new F(28,new I(8,47),new I(13,48)),new F(30,new I(7,24),new I(22,25)),new F(30,new I(22,15),new I(13,16))),new ae(26,Int32Array.from([6,30,58,86,114]),new F(28,new I(10,114),new I(2,115)),new F(28,new I(19,46),new I(4,47)),new F(28,new I(28,22),new I(6,23)),new F(30,new I(33,16),new I(4,17))),new ae(27,Int32Array.from([6,34,62,90,118]),new F(30,new I(8,122),new I(4,123)),new F(28,new I(22,45),new I(3,46)),new F(30,new I(8,23),new I(26,24)),new F(30,new I(12,15),new I(28,16))),new ae(28,Int32Array.from([6,26,50,74,98,122]),new F(30,new I(3,117),new I(10,118)),new F(28,new I(3,45),new I(23,46)),new F(30,new I(4,24),new I(31,25)),new F(30,new I(11,15),new I(31,16))),new ae(29,Int32Array.from([6,30,54,78,102,126]),new F(30,new I(7,116),new I(7,117)),new F(28,new I(21,45),new I(7,46)),new F(30,new I(1,23),new I(37,24)),new F(30,new I(19,15),new I(26,16))),new ae(30,Int32Array.from([6,26,52,78,104,130]),new F(30,new I(5,115),new I(10,116)),new F(28,new I(19,47),new I(10,48)),new F(30,new I(15,24),new I(25,25)),new F(30,new I(23,15),new I(25,16))),new ae(31,Int32Array.from([6,30,56,82,108,134]),new F(30,new I(13,115),new I(3,116)),new F(28,new I(2,46),new I(29,47)),new F(30,new I(42,24),new I(1,25)),new F(30,new I(23,15),new I(28,16))),new ae(32,Int32Array.from([6,34,60,86,112,138]),new F(30,new I(17,115)),new F(28,new I(10,46),new I(23,47)),new F(30,new I(10,24),new I(35,25)),new F(30,new I(19,15),new I(35,16))),new ae(33,Int32Array.from([6,30,58,86,114,142]),new F(30,new I(17,115),new I(1,116)),new F(28,new I(14,46),new I(21,47)),new F(30,new I(29,24),new I(19,25)),new F(30,new I(11,15),new I(46,16))),new ae(34,Int32Array.from([6,34,62,90,118,146]),new F(30,new I(13,115),new I(6,116)),new F(28,new I(14,46),new I(23,47)),new F(30,new I(44,24),new I(7,25)),new F(30,new I(59,16),new I(1,17))),new ae(35,Int32Array.from([6,30,54,78,102,126,150]),new F(30,new I(12,121),new I(7,122)),new F(28,new I(12,47),new I(26,48)),new F(30,new I(39,24),new I(14,25)),new F(30,new I(22,15),new I(41,16))),new ae(36,Int32Array.from([6,24,50,76,102,128,154]),new F(30,new I(6,121),new I(14,122)),new F(28,new I(6,47),new I(34,48)),new F(30,new I(46,24),new I(10,25)),new F(30,new I(2,15),new I(64,16))),new ae(37,Int32Array.from([6,28,54,80,106,132,158]),new F(30,new I(17,122),new I(4,123)),new F(28,new I(29,46),new I(14,47)),new F(30,new I(49,24),new I(10,25)),new F(30,new I(24,15),new I(46,16))),new ae(38,Int32Array.from([6,32,58,84,110,136,162]),new F(30,new I(4,122),new I(18,123)),new F(28,new I(13,46),new I(32,47)),new F(30,new I(48,24),new I(14,25)),new F(30,new I(42,15),new I(32,16))),new ae(39,Int32Array.from([6,26,54,82,110,138,166]),new F(30,new I(20,117),new I(4,118)),new F(28,new I(40,47),new I(7,48)),new F(30,new I(43,24),new I(22,25)),new F(30,new I(10,15),new I(67,16))),new ae(40,Int32Array.from([6,30,58,86,114,142,170]),new F(30,new I(19,118),new I(6,119)),new F(28,new I(18,47),new I(31,48)),new F(30,new I(34,24),new I(34,25)),new F(30,new I(20,15),new I(61,16)))];var wt;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(wt||(wt={}));class cn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let i=0;i<r;i++)for(let o=0;o<r;o++)this.isMasked(i,o)&&t.flip(o,i)}}cn.values=new Map([[wt.DATA_MASK_000,new cn(wt.DATA_MASK_000,(E,t)=>(E+t&1)===0)],[wt.DATA_MASK_001,new cn(wt.DATA_MASK_001,(E,t)=>(E&1)===0)],[wt.DATA_MASK_010,new cn(wt.DATA_MASK_010,(E,t)=>t%3===0)],[wt.DATA_MASK_011,new cn(wt.DATA_MASK_011,(E,t)=>(E+t)%3===0)],[wt.DATA_MASK_100,new cn(wt.DATA_MASK_100,(E,t)=>(Math.floor(E/2)+Math.floor(t/3)&1)===0)],[wt.DATA_MASK_101,new cn(wt.DATA_MASK_101,(E,t)=>E*t%6===0)],[wt.DATA_MASK_110,new cn(wt.DATA_MASK_110,(E,t)=>E*t%6<3)],[wt.DATA_MASK_111,new cn(wt.DATA_MASK_111,(E,t)=>(E+t+E*t%3&1)===0)]]);class fh{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new j;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let i=0;const o=r-7;for(let l=r-1;l>=o;l--)i=this.copyBit(8,l,i);for(let l=r-8;l<r;l++)i=this.copyBit(l,8,i);if(this.parsedFormatInfo=bt.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return ae.getVersionForNumber(r);let i=0;const o=t-11;for(let u=5;u>=0;u--)for(let f=t-9;f>=o;f--)i=this.copyBit(f,u,i);let l=ae.decodeVersionInformation(i);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;i=0;for(let u=5;u>=0;u--)for(let f=t-9;f>=o;f--)i=this.copyBit(u,f,i);if(l=ae.decodeVersionInformation(i),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new j}copyBit(t,r,i){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),i=cn.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let u=!0;const f=new Uint8Array(r.getTotalCodewords());let h=0,g=0,w=0;for(let C=o-1;C>0;C-=2){C===6&&C--;for(let S=0;S<o;S++){const T=u?o-1-S:S;for(let b=0;b<2;b++)l.get(C-b,T)||(w++,g<<=1,this.bitMatrix.get(C-b,T)&&(g|=1),w===8&&(f[h++]=g,w=0,g=0))}u=!u}if(h!==r.getTotalCodewords())throw new j;return f}remask(){if(this.parsedFormatInfo===null)return;const t=cn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,i=t.getWidth();r<i;r++)for(let o=r+1,l=t.getHeight();o<l;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class Vl{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,i){if(t.length!==r.getTotalCodewords())throw new A;const o=r.getECBlocksForLevel(i);let l=0;const u=o.getECBlocks();for(const b of u)l+=b.getCount();const f=new Array(l);let h=0;for(const b of u)for(let k=0;k<b.getCount();k++){const L=b.getDataCodewords(),V=o.getECCodewordsPerBlock()+L;f[h++]=new Vl(L,new Uint8Array(V))}const g=f[0].codewords.length;let w=f.length-1;for(;w>=0&&f[w].codewords.length!==g;)w--;w++;const C=g-o.getECCodewordsPerBlock();let S=0;for(let b=0;b<C;b++)for(let k=0;k<h;k++)f[k].codewords[b]=t[S++];for(let b=w;b<h;b++)f[b].codewords[C]=t[S++];const T=f[0].codewords.length;for(let b=C;b<T;b++)for(let k=0;k<h;k++){const L=k<w?b:b+1;f[k].codewords[L]=t[S++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var fn;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(fn||(fn={}));class ce{constructor(t,r,i,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=o,ce.FOR_BITS.set(o,this),ce.FOR_VALUE.set(t,this)}static forBits(t){const r=ce.FOR_BITS.get(t);if(r===void 0)throw new A;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof ce))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}ce.FOR_BITS=new Map,ce.FOR_VALUE=new Map,ce.TERMINATOR=new ce(fn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ce.NUMERIC=new ce(fn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ce.ALPHANUMERIC=new ce(fn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ce.STRUCTURED_APPEND=new ce(fn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ce.BYTE=new ce(fn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ce.ECI=new ce(fn.ECI,"ECI",Int32Array.from([0,0,0]),7),ce.KANJI=new ce(fn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ce.FNC1_FIRST_POSITION=new ce(fn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ce.FNC1_SECOND_POSITION=new ce(fn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ce.HANZI=new ce(fn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Qe{static decode(t,r,i,o){const l=new zl(t);let u=new Ce;const f=new Array;let h=-1,g=-1;try{let w=null,C=!1,S;do{if(l.available()<4)S=ce.TERMINATOR;else{const T=l.readBits(4);S=ce.forBits(T)}switch(S){case ce.TERMINATOR:break;case ce.FNC1_FIRST_POSITION:case ce.FNC1_SECOND_POSITION:C=!0;break;case ce.STRUCTURED_APPEND:if(l.available()<16)throw new j;h=l.readBits(8),g=l.readBits(8);break;case ce.ECI:const T=Qe.parseECIValue(l);if(w=G.getCharacterSetECIByValue(T),w===null)throw new j;break;case ce.HANZI:const b=l.readBits(4),k=l.readBits(S.getCharacterCountBits(r));b===Qe.GB2312_SUBSET&&Qe.decodeHanziSegment(l,u,k);break;default:const L=l.readBits(S.getCharacterCountBits(r));switch(S){case ce.NUMERIC:Qe.decodeNumericSegment(l,u,L);break;case ce.ALPHANUMERIC:Qe.decodeAlphanumericSegment(l,u,L,C);break;case ce.BYTE:Qe.decodeByteSegment(l,u,L,w,f,o);break;case ce.KANJI:Qe.decodeKanjiSegment(l,u,L);break;default:throw new j}break}}while(S!==ce.TERMINATOR)}catch{throw new j}return new Vi(t,u.toString(),f.length===0?null:f,i===null?null:i.toString(),h,g)}static decodeHanziSegment(t,r,i){if(i*13>t.available())throw new j;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const u=t.readBits(13);let f=u/96<<8&4294967295|u%96;f<959?f+=41377:f+=42657,o[l]=f>>8&255,o[l+1]=f&255,l+=2,i--}try{r.append(Me.decode(o,ue.GB2312))}catch(u){throw new j(u)}}static decodeKanjiSegment(t,r,i){if(i*13>t.available())throw new j;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const u=t.readBits(13);let f=u/192<<8&4294967295|u%192;f<7936?f+=33088:f+=49472,o[l]=f>>8,o[l+1]=f,l+=2,i--}try{r.append(Me.decode(o,ue.SHIFT_JIS))}catch(u){throw new j(u)}}static decodeByteSegment(t,r,i,o,l,u){if(8*i>t.available())throw new j;const f=new Uint8Array(i);for(let g=0;g<i;g++)f[g]=t.readBits(8);let h;o===null?h=ue.guessEncoding(f,u):h=o.getName();try{r.append(Me.decode(f,h))}catch(g){throw new j(g)}l.push(f)}static toAlphaNumericChar(t){if(t>=Qe.ALPHANUMERIC_CHARS.length)throw new j;return Qe.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,i,o){const l=r.length();for(;i>1;){if(t.available()<11)throw new j;const u=t.readBits(11);r.append(Qe.toAlphaNumericChar(Math.floor(u/45))),r.append(Qe.toAlphaNumericChar(u%45)),i-=2}if(i===1){if(t.available()<6)throw new j;r.append(Qe.toAlphaNumericChar(t.readBits(6)))}if(o)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(t,r,i){for(;i>=3;){if(t.available()<10)throw new j;const o=t.readBits(10);if(o>=1e3)throw new j;r.append(Qe.toAlphaNumericChar(Math.floor(o/100))),r.append(Qe.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(Qe.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(t.available()<7)throw new j;const o=t.readBits(7);if(o>=100)throw new j;r.append(Qe.toAlphaNumericChar(Math.floor(o/10))),r.append(Qe.toAlphaNumericChar(o%10))}else if(i===1){if(t.available()<4)throw new j;const o=t.readBits(4);if(o>=10)throw new j;r.append(Qe.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const i=t.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=t.readBits(16);return(r&31)<<16&4294967295|i}throw new j}}Qe.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Qe.GB2312_SUBSET=1;class bc{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class dh{constructor(){this.rsDecoder=new Wi(_e.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(Ze.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const i=new fh(t);let o=null;try{return this.decodeBitMatrixParser(i,r)}catch(l){o=l}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const l=this.decodeBitMatrixParser(i,r);return l.setOther(new bc(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(t,r){const i=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),u=Vl.getDataBlocks(l,i,o);let f=0;for(const w of u)f+=w.getNumDataCodewords();const h=new Uint8Array(f);let g=0;for(const w of u){const C=w.getCodewords(),S=w.getNumDataCodewords();this.correctErrors(C,S);for(let T=0;T<S;T++)h[g++]=C[T]}return Qe.decode(h,i,o,r)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new D}for(let o=0;o<r;o++)t[o]=i[o]}}class Hl extends oe{constructor(t,r,i){super(t,r),this.estimatedModuleSize=i}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=(this.getX()+r)/2,l=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new Hl(o,l,u)}}class io{constructor(t,r,i,o,l,u,f){this.image=t,this.startX=r,this.startY=i,this.width=o,this.height=l,this.moduleSize=u,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,i=this.width,o=t+i,l=this.startY+r/2,u=new Int32Array(3),f=this.image;for(let h=0;h<r;h++){const g=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let w=t;for(;w<o&&!f.get(w,g);)w++;let C=0;for(;w<o;){if(f.get(w,g))if(C===1)u[1]++;else if(C===2){if(this.foundPatternCross(u)){const S=this.handlePossibleCenter(u,g,w);if(S!==null)return S}u[0]=u[2],u[1]=1,u[2]=0,C=1}else u[++C]++;else C===1&&C++,u[C]++;w++}if(this.foundPatternCross(u)){const S=this.handlePossibleCenter(u,g,o);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,i=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=i)return!1;return!0}crossCheckVertical(t,r,i,o){const l=this.image,u=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let h=t;for(;h>=0&&l.get(r,h)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&!l.get(r,h)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<u&&l.get(r,h)&&f[1]<=i;)f[1]++,h++;if(h===u||f[1]>i)return NaN;for(;h<u&&!l.get(r,h)&&f[2]<=i;)f[2]++,h++;if(f[2]>i)return NaN;const g=f[0]+f[1]+f[2];return 5*Math.abs(g-o)>=2*o?NaN:this.foundPatternCross(f)?io.centerFromEnd(f,h):NaN}handlePossibleCenter(t,r,i){const o=t[0]+t[1]+t[2],l=io.centerFromEnd(t,i),u=this.crossCheckVertical(r,l,2*t[1],o);if(!isNaN(u)){const f=(t[0]+t[1]+t[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(f,u,l))return g.combineEstimate(u,l,f);const h=new Hl(l,u,f);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Wl extends oe{constructor(t,r,i,o){super(t,r),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=this.count+1,l=(this.count*this.getX()+r)/o,u=(this.count*this.getY()+t)/o,f=(this.count*this.estimatedModuleSize+i)/o;return new Wl(l,u,f,o)}}class hh{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class yt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(Q.TRY_HARDER)!==void 0,i=t!=null&&t.get(Q.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),u=o.getWidth();let f=Math.floor(3*l/(4*yt.MAX_MODULES));(f<yt.MIN_SKIP||r)&&(f=yt.MIN_SKIP);let h=!1;const g=new Int32Array(5);for(let C=f-1;C<l&&!h;C+=f){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let S=0;for(let T=0;T<u;T++)if(o.get(T,C))(S&1)===1&&S++,g[S]++;else if(S&1)g[S]++;else if(S===4)if(yt.foundPatternCross(g)){if(this.handlePossibleCenter(g,C,T,i)===!0)if(f=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const k=this.findRowSkip();k>g[2]&&(C+=k-g[2]-f,T=u-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,S=3;continue}S=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,S=3;else g[++S]++;yt.foundPatternCross(g)&&this.handlePossibleCenter(g,C,u,i)===!0&&(f=g[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return oe.orderBestPatterns(w),new hh(w)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const u=t[l];if(u===0)return!1;r+=u}if(r<7)return!1;const i=r/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,i,o){const l=this.getCrossCheckStateCount();let u=0;const f=this.image;for(;t>=u&&r>=u&&f.get(r-u,t-u);)l[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!f.get(r-u,t-u)&&l[1]<=i;)l[1]++,u++;if(t<u||r<u||l[1]>i)return!1;for(;t>=u&&r>=u&&f.get(r-u,t-u)&&l[0]<=i;)l[0]++,u++;if(l[0]>i)return!1;const h=f.getHeight(),g=f.getWidth();for(u=1;t+u<h&&r+u<g&&f.get(r+u,t+u);)l[2]++,u++;if(t+u>=h||r+u>=g)return!1;for(;t+u<h&&r+u<g&&!f.get(r+u,t+u)&&l[3]<i;)l[3]++,u++;if(t+u>=h||r+u>=g||l[3]>=i)return!1;for(;t+u<h&&r+u<g&&f.get(r+u,t+u)&&l[4]<i;)l[4]++,u++;if(l[4]>=i)return!1;const w=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(w-o)<2*o&&yt.foundPatternCross(l)}crossCheckVertical(t,r,i,o){const l=this.image,u=l.getHeight(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(r,h);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&l.get(r,h)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<u&&l.get(r,h);)f[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(r,h)&&f[3]<i;)f[3]++,h++;if(h===u||f[3]>=i)return NaN;for(;h<u&&l.get(r,h)&&f[4]<i;)f[4]++,h++;if(f[4]>=i)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-o)>=2*o?NaN:yt.foundPatternCross(f)?yt.centerFromEnd(f,h):NaN}crossCheckHorizontal(t,r,i,o){const l=this.image,u=l.getWidth(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(h,r);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&l.get(h,r)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<u&&l.get(h,r);)f[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(h,r)&&f[3]<i;)f[3]++,h++;if(h===u||f[3]>=i)return NaN;for(;h<u&&l.get(h,r)&&f[4]<i;)f[4]++,h++;if(f[4]>=i)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-o)>=o?NaN:yt.foundPatternCross(f)?yt.centerFromEnd(f,h):NaN}handlePossibleCenter(t,r,i,o){const l=t[0]+t[1]+t[2]+t[3]+t[4];let u=yt.centerFromEnd(t,i),f=this.crossCheckVertical(r,Math.floor(u),t[2],l);if(!isNaN(f)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(f),t[2],l),!isNaN(u)&&(!o||this.crossCheckDiagonal(Math.floor(f),Math.floor(u),t[2],l)))){const h=l/7;let g=!1;const w=this.possibleCenters;for(let C=0,S=w.length;C<S;C++){const T=w[C];if(T.aboutEquals(h,f,u)){w[C]=T.combineEstimate(f,u,h),g=!0;break}}if(!g){const C=new Wl(u,f,h);w.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=yt.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const i=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=yt.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const o=r/i;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new H;const r=this.possibleCenters;let i;if(t>3){let o=0,l=0;for(const h of this.possibleCenters){const g=h.getEstimatedModuleSize();o+=g,l+=g*g}i=o/t;let u=Math.sqrt(l/t-i*i);r.sort((h,g)=>{const w=Math.abs(g.getEstimatedModuleSize()-i),C=Math.abs(h.getEstimatedModuleSize()-i);return w<C?-1:w>C?1:0});const f=Math.max(.2*i,u);for(let h=0;h<r.length&&r.length>3;h++){const g=r[h];Math.abs(g.getEstimatedModuleSize()-i)>f&&(r.splice(h,1),h--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();i=o/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const f=Math.abs(u.getEstimatedModuleSize()-i),h=Math.abs(l.getEstimatedModuleSize()-i);return f<h?1:f>h?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}yt.CENTER_QUORUM=2,yt.MIN_SKIP=3,yt.MAX_MODULES=57;class Xi{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Q.NEED_RESULT_POINT_CALLBACK);const i=new yt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const r=t.getTopLeft(),i=t.getTopRight(),o=t.getBottomLeft(),l=this.calculateModuleSize(r,i,o);if(l<1)throw new H("No pattern found in proccess finder.");const u=Xi.computeDimension(r,i,o,l),f=ae.getProvisionalVersionForDimension(u),h=f.getDimensionForVersion()-7;let g=null;if(f.getAlignmentPatternCenters().length>0){const T=i.getX()-r.getX()+o.getX(),b=i.getY()-r.getY()+o.getY(),k=1-3/h,L=Math.floor(r.getX()+k*(T-r.getX())),V=Math.floor(r.getY()+k*(b-r.getY()));for(let q=4;q<=16;q<<=1)try{g=this.findAlignmentInRegion(l,L,V,q);break}catch(J){if(!(J instanceof H))throw J}}const w=Xi.createTransform(r,i,o,g,u),C=Xi.sampleGrid(this.image,w,u);let S;return g===null?S=[o,r,i]:S=[o,r,i,g],new $s(C,S)}static createTransform(t,r,i,o,l){const u=l-3.5;let f,h,g,w;return o!==null?(f=o.getX(),h=o.getY(),g=u-3,w=g):(f=r.getX()-t.getX()+i.getX(),h=r.getY()-t.getY()+i.getY(),g=u,w=u),yn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,g,w,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),f,h,i.getX(),i.getY())}static sampleGrid(t,r,i){return tr.getInstance().sampleGridWithTransform(t,i,i,r)}static computeDimension(t,r,i,o){const l=Ie.round(oe.distance(t,r)/o),u=Ie.round(oe.distance(t,i)/o);let f=Math.floor((l+u)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new H("Dimensions could be not found.")}return f}calculateModuleSize(t,r,i){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,i,o){let l=this.sizeOfBlackWhiteBlackRun(t,r,i,o),u=1,f=t-(i-t);f<0?(u=t/(t-f),f=0):f>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(f-t),f=this.image.getWidth()-1);let h=Math.floor(r-(o-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),f=Math.floor(t+(f-t)*u),l+=this.sizeOfBlackWhiteBlackRun(t,r,f,h),l-1}sizeOfBlackWhiteBlackRun(t,r,i,o){const l=Math.abs(o-r)>Math.abs(i-t);if(l){let T=t;t=r,r=T,T=i,i=o,o=T}const u=Math.abs(i-t),f=Math.abs(o-r);let h=-u/2;const g=t<i?1:-1,w=r<o?1:-1;let C=0;const S=i+g;for(let T=t,b=r;T!==S;T+=g){const k=l?b:T,L=l?T:b;if(C===1===this.image.get(k,L)){if(C===2)return Ie.distance(T,b,t,r);C++}if(h+=f,h>0){if(b===o)break;b+=w,h-=u}}return C===2?Ie.distance(i+g,o,t,r):NaN}findAlignmentInRegion(t,r,i,o){const l=Math.floor(o*t),u=Math.max(0,r-l),f=Math.min(this.image.getWidth()-1,r+l);if(f-u<t*3)throw new H("Alignment top exceeds estimated module size.");const h=Math.max(0,i-l),g=Math.min(this.image.getHeight()-1,i+l);if(g-h<t*3)throw new H("Alignment bottom exceeds estimated module size.");return new io(this.image,u,h,f-u,g-h,t,this.resultPointCallback).find()}}class sr{constructor(){this.decoder=new dh}getDecoder(){return this.decoder}decode(t,r){let i,o;if(r!=null&&r.get(Q.PURE_BARCODE)!==void 0){const h=sr.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(h,r),o=sr.NO_POINTS}else{const h=new Xi(t.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(h.getBits(),r),o=h.getPoints()}i.getOther()instanceof bc&&i.getOther().applyMirroredCorrection(o);const l=new Ke(i.getText(),i.getRawBytes(),void 0,o,le.QR_CODE,void 0),u=i.getByteSegments();u!==null&&l.putMetadata(mt.BYTE_SEGMENTS,u);const f=i.getECLevel();return f!==null&&l.putMetadata(mt.ERROR_CORRECTION_LEVEL,f),i.hasStructuredAppend()&&(l.putMetadata(mt.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),l.putMetadata(mt.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r===null||i===null)throw new H;const o=this.moduleSize(r,t);let l=r[1],u=i[1],f=r[0],h=i[0];if(f>=h||l>=u)throw new H;if(u-l!==h-f&&(h=f+(u-l),h>=t.getWidth()))throw new H;const g=Math.round((h-f+1)/o),w=Math.round((u-l+1)/o);if(g<=0||w<=0)throw new H;if(w!==g)throw new H;const C=Math.floor(o/2);l+=C,f+=C;const S=f+Math.floor((g-1)*o)-h;if(S>0){if(S>C)throw new H;f-=S}const T=l+Math.floor((w-1)*o)-u;if(T>0){if(T>C)throw new H;l-=T}const b=new Ze(g,w);for(let k=0;k<w;k++){const L=l+Math.floor(k*o);for(let V=0;V<g;V++)t.get(f+Math.floor(V*o),L)&&b.set(V,k)}return b}static moduleSize(t,r){const i=r.getHeight(),o=r.getWidth();let l=t[0],u=t[1],f=!0,h=0;for(;l<o&&u<i;){if(f!==r.get(l,u)){if(++h===5)break;f=!f}l++,u++}if(l===o||u===i)throw new H;return(l-t[0])/7}}sr.NO_POINTS=new Array;class he{PDF417Common(){}static getBitCountSum(t){return Ie.sum(t)}static toIntArray(t){if(t==null||!t.length)return he.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let i=0;for(const o of t)r[i++]=o;return r}static getCodeword(t){const r=R.binarySearch(he.SYMBOL_TABLE,t&262143);return r<0?-1:(he.CODEWORD_TABLE[r]-1)%he.NUMBER_OF_CODEWORDS}}he.NUMBER_OF_CODEWORDS=929,he.MAX_CODEWORDS_IN_BARCODE=he.NUMBER_OF_CODEWORDS-1,he.MIN_ROWS_IN_BARCODE=3,he.MAX_ROWS_IN_BARCODE=90,he.MODULES_IN_CODEWORD=17,he.MODULES_IN_STOP_PATTERN=18,he.BARS_IN_MODULE=8,he.EMPTY_INT_ARRAY=new Int32Array([]),he.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),he.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class gh{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class we{static detectMultiple(t,r,i){let o=t.getBlackMatrix(),l=we.detect(i,o);return l.length||(o=o.clone(),o.rotate180(),l=we.detect(i,o)),new gh(o,l)}static detect(t,r){const i=new Array;let o=0,l=0,u=!1;for(;o<r.getHeight();){const f=we.findVertices(r,o,l);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,l=0;for(const h of i)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=we.ROW_STEP;continue}if(u=!0,i.push(f),!t)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return i}static findVertices(t,r,i){const o=t.getHeight(),l=t.getWidth(),u=new Array(8);return we.copyToResult(u,we.findRowsWithPattern(t,o,l,r,i,we.START_PATTERN),we.INDEXES_START_PATTERN),u[4]!=null&&(i=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),we.copyToResult(u,we.findRowsWithPattern(t,o,l,r,i,we.STOP_PATTERN),we.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,i){for(let o=0;o<i.length;o++)t[i[o]]=r[o]}static findRowsWithPattern(t,r,i,o,l,u){const f=new Array(4);let h=!1;const g=new Int32Array(u.length);for(;o<r;o+=we.ROW_STEP){let C=we.findGuardPattern(t,l,o,i,!1,u,g);if(C!=null){for(;o>0;){const S=we.findGuardPattern(t,l,--o,i,!1,u,g);if(S!=null)C=S;else{o++;break}}f[0]=new oe(C[0],o),f[1]=new oe(C[1],o),h=!0;break}}let w=o+1;if(h){let C=0,S=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;w<r;w++){const T=we.findGuardPattern(t,S[0],w,i,!1,u,g);if(T!=null&&Math.abs(S[0]-T[0])<we.MAX_PATTERN_DRIFT&&Math.abs(S[1]-T[1])<we.MAX_PATTERN_DRIFT)S=T,C=0;else{if(C>we.SKIPPED_ROW_COUNT_MAX)break;C++}}w-=C+1,f[2]=new oe(S[0],w),f[3]=new oe(S[1],w)}return w-o<we.BARCODE_MIN_HEIGHT&&R.fill(f,null),f}static findGuardPattern(t,r,i,o,l,u,f){R.fillWithin(f,0,f.length,0);let h=r,g=0;for(;t.get(h,i)&&h>0&&g++<we.MAX_PIXEL_DRIFT;)h--;let w=h,C=0,S=u.length;for(let T=l;w<o;w++)if(t.get(w,i)!==T)f[C]++;else{if(C===S-1){if(we.patternMatchVariance(f,u,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return new Int32Array([h,w]);h+=f[0]+f[1],P.arraycopy(f,2,f,0,C-1),f[C-1]=0,f[C]=0,C--}else C++;f[C]=1,T=!T}return C===S-1&&we.patternMatchVariance(f,u,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE?new Int32Array([h,w-1]):null}static patternMatchVariance(t,r,i){let o=t.length,l=0,u=0;for(let g=0;g<o;g++)l+=t[g],u+=r[g];if(l<u)return 1/0;let f=l/u;i*=f;let h=0;for(let g=0;g<o;g++){let w=t[g],C=r[g]*f,S=w>C?w-C:C-w;if(S>i)return 1/0;h+=S}return h/l}}we.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),we.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),we.MAX_AVG_VARIANCE=.42,we.MAX_INDIVIDUAL_VARIANCE=.8,we.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),we.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),we.MAX_PIXEL_DRIFT=3,we.MAX_PATTERN_DRIFT=5,we.SKIPPED_ROW_COUNT_MAX=25,we.ROW_STEP=5,we.BARCODE_MIN_HEIGHT=10;class vt{constructor(t,r){if(r.length===0)throw new A;this.field=t;let i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),P.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){let u=r;r=i,i=u}let o=new Int32Array(i.length),l=i.length-r.length;P.arraycopy(i,0,o,0,l);for(let u=l;u<i.length;u++)o[u]=this.field.add(r[u-l],i[u]);return new vt(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new A("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof vt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new vt(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,o=t.coefficients,l=o.length,u=new Int32Array(i+l-1);for(let f=0;f<i;f++){let h=r[f];for(let g=0;g<l;g++)u[f+g]=this.field.add(u[f+g],this.field.multiply(h,o[g]))}return new vt(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let i=0;i<t;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new vt(this.field,r)}multiplyScalar(t){if(t===0)return new vt(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new vt(this.field,i)}multiplyByMonomial(t,r){if(t<0)throw new A;if(r===0)return new vt(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+t);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new vt(this.field,o)}toString(){let t=new Ce;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(r===0||i!==1)&&t.append(i),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class xh{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new A;return this.logTable[t]}inverse(t){if(t===0)throw new qs;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Gl extends xh{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let o=0;o<t;o++)this.expTable[o]=i,i=i*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new vt(this,new Int32Array([0])),this.one=new vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new A;if(r===0)return this.zero;let i=new Int32Array(t+1);return i[0]=r,new vt(this,i)}}Gl.PDF417_GF=new Gl(he.NUMBER_OF_CODEWORDS,3);class Mc{constructor(){this.field=Gl.PDF417_GF}decode(t,r,i){let o=new vt(this.field,t),l=new Int32Array(r),u=!1;for(let b=r;b>0;b--){let k=o.evaluateAt(this.field.exp(b));l[r-b]=k,k!==0&&(u=!0)}if(!u)return 0;let f=this.field.getOne();if(i!=null)for(const b of i){let k=this.field.exp(t.length-1-b),L=new vt(this.field,new Int32Array([this.field.subtract(0,k),1]));f=f.multiply(L)}let h=new vt(this.field,l),g=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),w=g[0],C=g[1],S=this.findErrorLocations(w),T=this.findErrorMagnitudes(C,w,S);for(let b=0;b<S.length;b++){let k=t.length-1-this.field.log(S[b]);if(k<0)throw D.getChecksumInstance();t[k]=this.field.subtract(t[k],T[b])}return S.length}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){let S=t;t=r,r=S}let o=t,l=r,u=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(i/2);){let S=o,T=u;if(o=l,u=f,o.isZero())throw D.getChecksumInstance();l=S;let b=this.field.getZero(),k=o.getCoefficient(o.getDegree()),L=this.field.inverse(k);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let V=l.getDegree()-o.getDegree(),q=this.field.multiply(l.getCoefficient(l.getDegree()),L);b=b.add(this.field.buildMonomial(V,q)),l=l.subtract(o.multiplyByMonomial(V,q))}f=b.multiply(u).subtract(T).negative()}let h=f.getCoefficient(0);if(h===0)throw D.getChecksumInstance();let g=this.field.inverse(h),w=f.multiply(g),C=l.multiply(g);return[w,C]}findErrorLocations(t){let r=t.getDegree(),i=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)t.evaluateAt(l)===0&&(i[o]=this.field.inverse(l),o++);if(o!==r)throw D.getChecksumInstance();return i}findErrorMagnitudes(t,r,i){let o=r.getDegree(),l=new Int32Array(o);for(let g=1;g<=o;g++)l[o-g]=this.field.multiply(g,r.getCoefficient(g));let u=new vt(this.field,l),f=i.length,h=new Int32Array(f);for(let g=0;g<f;g++){let w=this.field.inverse(i[g]),C=this.field.subtract(0,t.evaluateAt(w)),S=this.field.inverse(u.evaluateAt(w));h[g]=this.field.multiply(C,S)}return h}}class Pr{constructor(t,r,i,o,l){t instanceof Pr?this.constructor_2(t):this.constructor_1(t,r,i,o,l)}constructor_1(t,r,i,o,l){const u=r==null||i==null,f=o==null||l==null;if(u&&f)throw new H;u?(r=new oe(0,o.getY()),i=new oe(0,l.getY())):f&&(o=new oe(t.getWidth()-1,r.getY()),l=new oe(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=r,this.bottomLeft=i,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Pr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,i){let o=this.topLeft,l=this.bottomLeft,u=this.topRight,f=this.bottomRight;if(t>0){let h=i?this.topLeft:this.topRight,g=Math.trunc(h.getY()-t);g<0&&(g=0);let w=new oe(h.getX(),g);i?o=w:u=w}if(r>0){let h=i?this.bottomLeft:this.bottomRight,g=Math.trunc(h.getY()+r);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let w=new oe(h.getX(),g);i?l=w:f=w}return new Pr(this.image,o,l,u,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ph{constructor(t,r,i,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Yi{constructor(){this.buffer=""}static form(t,r){let i=-1;function o(u,f,h,g,w,C){if(u==="%%")return"%";if(r[++i]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let S=w?parseInt(w.substr(1)):void 0,T;switch(C){case"s":T=r[i];break;case"c":T=r[i][0];break;case"f":T=parseFloat(r[i]).toFixed(u);break;case"p":T=parseFloat(r[i]).toPrecision(u);break;case"e":T=parseFloat(r[i]).toExponential(u);break;case"x":T=parseInt(r[i]).toString(S||16);break;case"d":T=parseFloat(parseInt(r[i],S||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(S);let b=parseInt(h),k=h&&h[0]+""=="0"?"0":" ";for(;T.length<b;)T=f!==void 0?T+k:k+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}format(t,...r){this.buffer+=Yi.form(t,r)}toString(){return this.buffer}}class Zi{constructor(t){this.boundingBox=new Pr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let i=1;i<Zi.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(t)-i;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+i,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Yi;let r=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return t.toString()}}Zi.MAX_NEARBY_DISTANCE=5;class Ki{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[i,o]of this.values.entries()){const l={getKey:()=>i,getValue:()=>o};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return he.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Dc extends Zi{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,g=1,w=0;for(let C=u;C<f;C++){if(r[C]==null)continue;let S=r[C],T=S.getRowNumber()-h;if(T===0)w++;else if(T===1)g=Math.max(g,w),w=1,h=S.getRowNumber();else if(T<0||S.getRowNumber()>=t.getRowCount()||T>C)r[C]=null;else{let b;g>2?b=(g-2)*T:b=T;let k=b>=C;for(let L=1;L<=b&&!k;L++)k=r[C-L]!=null;k?r[C]=null:(h=S.getRowNumber(),w=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),h=-1;for(let g=l;g<u;g++){if(f[g]==null)continue;let w=f[g];w.setRowNumberAsRowIndicatorColumn();let C=w.getRowNumber()-h;C===0||(C===1?h=w.getRowNumber():w.getRowNumber()>=t.getRowCount()?f[g]=null:h=w.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new Ki,i=new Ki,o=new Ki,l=new Ki;for(let f of t){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let h=f.getValue()%30,g=f.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:i.setValue(h*3+1);break;case 1:l.setValue(h/3),o.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<he.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>he.MAX_ROWS_IN_BARCODE)return null;let u=new ph(r.getValue()[0],i.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let i=0;i<t.length;i++){let o=t[i];if(t[i]==null)continue;let l=o.getValue()%30,u=o.getRowNumber();if(u>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:l+1!==r.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Qi{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=he.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&r[i]!=null&&t[i].getRowNumber()===r[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[i];l!=null&&(l.setRowNumber(t[i].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let f=this.detectionResultColumns[u].getCodewords()[i];f!=null&&(l=Qi.adjustRowNumberIfValid(o,l,f),f.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let f=this.detectionResultColumns[u].getCodewords()[i];f!=null&&(l=Qi.adjustRowNumberIfValid(o,l,f),f.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,i){if(!this.detectionResultColumns[t-1])return;let o=i[r],l=this.detectionResultColumns[t-1].getCodewords(),u=l;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let f=new Array(14);f[2]=l[r],f[3]=u[r],r>0&&(f[0]=i[r-1],f[4]=l[r-1],f[5]=u[r-1]),r>1&&(f[8]=i[r-2],f[10]=l[r-2],f[11]=u[r-2]),r<i.length-1&&(f[1]=i[r+1],f[6]=l[r+1],f[7]=u[r+1]),r<i.length-2&&(f[9]=i[r+2],f[12]=l[r+2],f[13]=u[r+2]);for(let h of f)if(Qi.adjustRowNumber(o,h))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Yi;for(let i=0;i<t.getCodewords().length;i++){r.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[i];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class qi{constructor(t,r,i,o){this.rowNumber=qi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==qi.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}qi.BARCODE_ROW_UNKNOWN=-1;class Gt{static initialize(){for(let t=0;t<he.SYMBOL_TABLE.length;t++){let r=he.SYMBOL_TABLE[t],i=r&1;for(let o=0;o<he.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===i;)l+=1,r>>=1;i=r&1,Gt.RATIOS_TABLE[t]||(Gt.RATIOS_TABLE[t]=new Array(he.BARS_IN_MODULE)),Gt.RATIOS_TABLE[t][he.BARS_IN_MODULE-o-1]=Math.fround(l/he.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Gt.getDecodedCodewordValue(Gt.sampleBitCounts(t));return r!==-1?r:Gt.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Ie.sum(t),i=new Int32Array(he.BARS_IN_MODULE),o=0,l=0;for(let u=0;u<he.MODULES_IN_CODEWORD;u++){let f=r/(2*he.MODULES_IN_CODEWORD)+u*r/he.MODULES_IN_CODEWORD;l+t[o]<=f&&(l+=t[o],o++),i[o]++}return i}static getDecodedCodewordValue(t){let r=Gt.getBitValue(t);return he.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let i=0;i<t.length;i++)for(let o=0;o<t[i];o++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Ie.sum(t),i=new Array(he.BARS_IN_MODULE);if(r>1)for(let u=0;u<i.length;u++)i[u]=Math.fround(t[u]/r);let o=Js.MAX_VALUE,l=-1;this.bSymbolTableReady||Gt.initialize();for(let u=0;u<Gt.RATIOS_TABLE.length;u++){let f=0,h=Gt.RATIOS_TABLE[u];for(let g=0;g<he.BARS_IN_MODULE;g++){let w=Math.fround(h[g]-i[g]);if(f+=Math.fround(w*w),f>=o)break}f<o&&(o=f,l=he.SYMBOL_TABLE[u])}return l}}Gt.bSymbolTableReady=!1,Gt.RATIOS_TABLE=new Array(he.SYMBOL_TABLE.length).map(E=>new Array(he.BARS_IN_MODULE));class kc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Pc{static parseLong(t,r=void 0){return parseInt(t,r)}}class Bc extends p{}Bc.kind="NullPointerException";class mh{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,i){if(t==null)throw new Bc;if(r<0||r>t.length||i<0||r+i>t.length||r+i<0)throw new W;if(i===0)return;for(let o=0;o<i;o++)this.write(t[r+o])}flush(){}close(){}}class wh extends p{}class yh extends mh{constructor(t=32){if(super(),this.count=0,t<0)throw new A("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new wh;i=_.MAX_VALUE}this.buf=R.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new W;this.ensureCapacity(this.count+i),P.arraycopy(t,r,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return R.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var ke;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ke||(ke={}));function Lc(){if(typeof window<"u")return window.BigInt||null;if(typeof es<"u")return es.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let so;function or(E){if(typeof so>"u"&&(so=Lc()),so===null)throw new Error("BigInt is not supported!");return so(E)}function Eh(){let E=[];E[0]=or(1);let t=or(900);E[1]=t;for(let r=2;r<16;r++)E[r]=E[r-1]*t;return E}class z{static decode(t,r){let i=new Ce(""),o=G.ISO8859_1;i.enableDecoding(o);let l=1,u=t[l++],f=new kc;for(;l<t[0];){switch(u){case z.TEXT_COMPACTION_MODE_LATCH:l=z.textCompaction(t,l,i);break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:l=z.byteCompaction(u,t,o,l,i);break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l++]);break;case z.NUMERIC_COMPACTION_MODE_LATCH:l=z.numericCompaction(t,l,i);break;case z.ECI_CHARSET:G.getCharacterSetECIByValue(t[l++]);break;case z.ECI_GENERAL_PURPOSE:l+=2;break;case z.ECI_USER_DEFINED:l++;break;case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=z.decodeMacroBlock(t,l,f);break;case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:throw new j;default:l--,l=z.textCompaction(t,l,i);break}if(l<t.length)u=t[l++];else throw j.getFormatInstance()}if(i.length()===0)throw j.getFormatInstance();let h=new Vi(null,i.toString(),null,r);return h.setOther(f),h}static decodeMacroBlock(t,r,i){if(r+z.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw j.getFormatInstance();let o=new Int32Array(z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<z.NUMBER_OF_SEQUENCE_CODEWORDS;f++,r++)o[f]=t[r];i.setSegmentIndex(_.parseInt(z.decodeBase900toBase10(o,z.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Ce;r=z.textCompaction(t,r,l),i.setFileId(l.toString());let u=-1;for(t[r]===z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new Ce;r=z.textCompaction(t,r+1,f),i.setFileName(f.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Ce;r=z.textCompaction(t,r+1,h),i.setSender(h.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Ce;r=z.textCompaction(t,r+1,g),i.setAddressee(g.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new Ce;r=z.numericCompaction(t,r+1,w),i.setSegmentCount(_.parseInt(w.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new Ce;r=z.numericCompaction(t,r+1,C),i.setTimestamp(Pc.parseLong(C.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new Ce;r=z.numericCompaction(t,r+1,S),i.setChecksum(_.parseInt(S.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new Ce;r=z.numericCompaction(t,r+1,T),i.setFileSize(Pc.parseLong(T.toString()));break;default:throw j.getFormatInstance()}break;case z.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(u!==-1){let f=r-u;i.isLastSegment()&&f--,i.setOptionalData(R.copyOfRange(t,u,u+f))}return r}static textCompaction(t,r,i){let o=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),u=0,f=!1;for(;r<t[0]&&!f;){let h=t[r++];if(h<z.TEXT_COMPACTION_MODE_LATCH)o[u]=h/30,o[u+1]=h%30,u+=2;else switch(h){case z.TEXT_COMPACTION_MODE_LATCH:o[u++]=z.TEXT_COMPACTION_MODE_LATCH;break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:r--,f=!0;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[u]=z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[r++],l[u]=h,u++;break}}return z.decodeTextCompaction(o,l,u,i),r}static decodeTextCompaction(t,r,i,o){let l=ke.ALPHA,u=ke.ALPHA,f=0;for(;f<i;){let h=t[f],g="";switch(l){case ke.ALPHA:if(h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case z.LL:l=ke.LOWER;break;case z.ML:l=ke.MIXED;break;case z.PS:u=l,l=ke.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=ke.ALPHA;break}break;case ke.LOWER:if(h<26)g=String.fromCharCode(97+h);else switch(h){case 26:g=" ";break;case z.AS:u=l,l=ke.ALPHA_SHIFT;break;case z.ML:l=ke.MIXED;break;case z.PS:u=l,l=ke.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=ke.ALPHA;break}break;case ke.MIXED:if(h<z.PL)g=z.MIXED_CHARS[h];else switch(h){case z.PL:l=ke.PUNCT;break;case 26:g=" ";break;case z.LL:l=ke.LOWER;break;case z.AL:l=ke.ALPHA;break;case z.PS:u=l,l=ke.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=ke.ALPHA;break}break;case ke.PUNCT:if(h<z.PAL)g=z.PUNCT_CHARS[h];else switch(h){case z.PAL:l=ke.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=ke.ALPHA;break}break;case ke.ALPHA_SHIFT:if(l=u,h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case z.TEXT_COMPACTION_MODE_LATCH:l=ke.ALPHA;break}break;case ke.PUNCT_SHIFT:if(l=u,h<z.PAL)g=z.PUNCT_CHARS[h];else switch(h){case z.PAL:l=ke.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=ke.ALPHA;break}break}g!==""&&o.append(g),f++}}static byteCompaction(t,r,i,o,l){let u=new yh,f=0,h=0,g=!1;switch(t){case z.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),C=r[o++];for(;o<r[0]&&!g;)switch(w[f++]=C,h=900*h+C,C=r[o++],C){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:o--,g=!0;break;default:if(f%5===0&&f>0){for(let S=0;S<6;++S)u.write(Number(or(h)>>or(8*(5-S))));h=0,f=0}break}o===r[0]&&C<z.TEXT_COMPACTION_MODE_LATCH&&(w[f++]=C);for(let S=0;S<f;S++)u.write(w[S]);break;case z.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!g;){let S=r[o++];if(S<z.TEXT_COMPACTION_MODE_LATCH)f++,h=900*h+S;else switch(S){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:o--,g=!0;break}if(f%5===0&&f>0){for(let T=0;T<6;++T)u.write(Number(or(h)>>or(8*(5-T))));h=0,f=0}}break}return l.append(Me.decode(u.toByteArray(),i)),o}static numericCompaction(t,r,i){let o=0,l=!1,u=new Int32Array(z.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let f=t[r++];if(r===t[0]&&(l=!0),f<z.TEXT_COMPACTION_MODE_LATCH)u[o]=f,o++;else switch(f){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%z.MAX_NUMERIC_CODEWORDS===0||f===z.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(i.append(z.decodeBase900toBase10(u,o)),o=0)}return r}static decodeBase900toBase10(t,r){let i=or(0);for(let l=0;l<r;l++)i+=z.EXP900[r-l-1]*or(t[l]);let o=i.toString();if(o.charAt(0)!=="1")throw new j;return o.substring(1)}}z.TEXT_COMPACTION_MODE_LATCH=900,z.BYTE_COMPACTION_MODE_LATCH=901,z.NUMERIC_COMPACTION_MODE_LATCH=902,z.BYTE_COMPACTION_MODE_LATCH_6=924,z.ECI_USER_DEFINED=925,z.ECI_GENERAL_PURPOSE=926,z.ECI_CHARSET=927,z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,z.MACRO_PDF417_TERMINATOR=922,z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,z.MAX_NUMERIC_CODEWORDS=15,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,z.PL=25,z.LL=27,z.AS=27,z.ML=28,z.AL=28,z.PS=29,z.PAL=29,z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",z.EXP900=Lc()?Eh():[],z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ye{constructor(){}static decode(t,r,i,o,l,u,f){let h=new Pr(t,r,i,o,l),g=null,w=null,C;for(let b=!0;;b=!1){if(r!=null&&(g=ye.getRowIndicatorColumn(t,h,r,!0,u,f)),o!=null&&(w=ye.getRowIndicatorColumn(t,h,o,!1,u,f)),C=ye.merge(g,w),C==null)throw H.getNotFoundInstance();let k=C.getBoundingBox();if(b&&k!=null&&(k.getMinY()<h.getMinY()||k.getMaxY()>h.getMaxY()))h=k;else break}C.setBoundingBox(h);let S=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,g),C.setDetectionResultColumn(S,w);let T=g!=null;for(let b=1;b<=S;b++){let k=T?b:S-b;if(C.getDetectionResultColumn(k)!==void 0)continue;let L;k===0||k===S?L=new Dc(h,k===0):L=new Zi(h),C.setDetectionResultColumn(k,L);let V=-1,q=V;for(let J=h.getMinY();J<=h.getMaxY();J++){if(V=ye.getStartColumn(C,k,J,T),V<0||V>h.getMaxX()){if(q===-1)continue;V=q}let Y=ye.detectCodeword(t,h.getMinX(),h.getMaxX(),T,V,J,u,f);Y!=null&&(L.setCodeword(J,Y),q=V,u=Math.min(u,Y.getWidth()),f=Math.max(f,Y.getWidth()))}}return ye.createDecoderResult(C)}static merge(t,r){if(t==null&&r==null)return null;let i=ye.getBarcodeMetadata(t,r);if(i==null)return null;let o=Pr.merge(ye.adjustBoundingBox(t),ye.adjustBoundingBox(r));return new Qi(i,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let i=ye.getMax(r),o=0;for(let f of r)if(o+=i-f,f>0)break;let l=t.getCodewords();for(let f=0;o>0&&l[f]==null;f++)o--;let u=0;for(let f=r.length-1;f>=0&&(u+=i-r[f],!(r[f]>0));f--);for(let f=l.length-1;u>0&&l[f]==null;f--)u--;return t.getBoundingBox().addMissingRows(o,u,t.isLeft())}static getMax(t){let r=-1;for(let i of t)r=Math.max(r,i);return r}static getBarcodeMetadata(t,r){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(t,r,i,o,l,u){let f=new Dc(r,o);for(let h=0;h<2;h++){let g=h===0?1:-1,w=Math.trunc(Math.trunc(i.getX()));for(let C=Math.trunc(Math.trunc(i.getY()));C<=r.getMaxY()&&C>=r.getMinY();C+=g){let S=ye.detectCodeword(t,0,t.getWidth(),o,w,C,l,u);S!=null&&(f.setCodeword(C,S),o?w=S.getStartX():w=S.getEndX())}}return f}static adjustCodewordCount(t,r){let i=r[0][1],o=i.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-ye.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(l<1||l>he.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();i.setValue(l)}else o[0]!==l&&i.setValue(l)}static createDecoderResult(t){let r=ye.createBarcodeMatrix(t);ye.adjustCodewordCount(t,r);let i=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],u=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let g=0;g<t.getBarcodeColumnCount();g++){let w=r[h][g+1].getValue(),C=h*t.getBarcodeColumnCount()+g;w.length===0?i.push(C):w.length===1?o[C]=w[0]:(u.push(C),l.push(w))}let f=new Array(l.length);for(let h=0;h<f.length;h++)f[h]=l[h];return ye.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,he.toIntArray(i),he.toIntArray(u),f)}static createDecoderResultFromAmbiguousValues(t,r,i,o,l){let u=new Int32Array(o.length),f=100;for(;f-- >0;){for(let h=0;h<u.length;h++)r[o[h]]=l[h][u[h]];try{return ye.decodeCodewords(r,t,i)}catch(h){if(!(h instanceof D))throw h}if(u.length===0)throw D.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<l[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw D.getChecksumInstance()}throw D.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new Ki;let i=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][i].setValue(l.getValue())}}}i++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,i,o){let l=o?1:-1,u=null;if(ye.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodeword(i)),u!=null)return o?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(i),u!=null)return o?u.getStartX():u.getEndX();if(ye.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodewordNearby(i)),u!=null)return o?u.getEndX():u.getStartX();let f=0;for(;ye.isValidBarcodeColumn(t,r-l);){r-=l;for(let h of t.getDetectionResultColumn(r).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+l*f*(h.getEndX()-h.getStartX());f++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,i,o,l,u,f,h){l=ye.adjustCodewordStartColumn(t,r,i,o,l,u);let g=ye.getModuleBitCount(t,r,i,o,l,u);if(g==null)return null;let w,C=Ie.sum(g);if(o)w=l+C;else{for(let b=0;b<g.length/2;b++){let k=g[b];g[b]=g[g.length-1-b],g[g.length-1-b]=k}w=l,l=w-C}if(!ye.checkCodewordSkew(C,f,h))return null;let S=Gt.getDecodedValue(g),T=he.getCodeword(S);return T===-1?null:new qi(l,w,ye.getCodewordBucketNumber(S),T)}static getModuleBitCount(t,r,i,o,l,u){let f=l,h=new Int32Array(8),g=0,w=o?1:-1,C=o;for(;(o?f<i:f>=r)&&g<h.length;)t.get(f,u)===C?(h[g]++,f+=w):(g++,C=!C);return g===h.length||f===(o?i:r)&&g===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,i,o,l,u){let f=l,h=o?-1:1;for(let g=0;g<2;g++){for(;(o?f>=r:f<i)&&o===t.get(f,u);){if(Math.abs(l-f)>ye.CODEWORD_SKEW_SIZE)return l;f+=h}h=-h,o=!o}return f}static checkCodewordSkew(t,r,i){return r-ye.CODEWORD_SKEW_SIZE<=t&&t<=i+ye.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,i){if(t.length===0)throw j.getFormatInstance();let o=1<<r+1,l=ye.correctErrors(t,i,o);ye.verifyCodewordCount(t,o);let u=z.decode(t,""+r);return u.setErrorsCorrected(l),u.setErasures(i.length),u}static correctErrors(t,r,i){if(r!=null&&r.length>i/2+ye.MAX_ERRORS||i<0||i>ye.MAX_EC_CODEWORDS)throw D.getChecksumInstance();return ye.errorCorrection.decode(t,i,r)}static verifyCodewordCount(t,r){if(t.length<4)throw j.getFormatInstance();let i=t[0];if(i>t.length)throw j.getFormatInstance();if(i===0)if(r<t.length)t[0]=t.length-r;else throw j.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),i=0,o=r.length-1;for(;!((t&1)!==i&&(i=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return ye.getCodewordBucketNumber(ye.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new Yi;for(let i=0;i<t.length;i++){r.format("Row %2d: ",i);for(let o=0;o<t[i].length;o++){let l=t[i][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}ye.CODEWORD_SKEW_SIZE=2,ye.MAX_ERRORS=3,ye.MAX_EC_CODEWORDS=512,ye.errorCorrection=new Mc;class St{decode(t,r=null){let i=St.decode(t,r,!1);if(i==null||i.length===0||i[0]==null)throw H.getNotFoundInstance();return i[0]}decodeMultiple(t,r=null){try{return St.decode(t,r,!0)}catch(i){throw i instanceof j||i instanceof D?H.getNotFoundInstance():i}}static decode(t,r,i){const o=new Array,l=we.detectMultiple(t,r,i);for(const u of l.getPoints()){const f=ye.decode(l.getBits(),u[4],u[5],u[6],u[7],St.getMinCodewordWidth(u),St.getMaxCodewordWidth(u)),h=new Ke(f.getText(),f.getRawBytes(),void 0,u,le.PDF_417);h.putMetadata(mt.ERROR_CORRECTION_LEVEL,f.getECLevel());const g=f.getOther();g!=null&&h.putMetadata(mt.PDF417_EXTRA_METADATA,g),o.push(h)}return o.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?_.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(St.getMaxWidth(t[0],t[4]),St.getMaxWidth(t[6],t[2])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN),Math.max(St.getMaxWidth(t[1],t[5]),St.getMaxWidth(t[7],t[3])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(St.getMinWidth(t[0],t[4]),St.getMinWidth(t[6],t[2])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN),Math.min(St.getMinWidth(t[1],t[5]),St.getMinWidth(t[7],t[3])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN)))}reset(){}}class oo extends p{}oo.kind="ReaderException";class Fc{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!a(t)&&t.get(Q.TRY_HARDER)===!0,i=a(t)?null:t.get(Q.POSSIBLE_FORMATS),o=new Array;if(!a(i)){const l=i.some(u=>u===le.UPC_A||u===le.UPC_E||u===le.EAN_13||u===le.EAN_8||u===le.CODABAR||u===le.CODE_39||u===le.CODE_93||u===le.CODE_128||u===le.ITF||u===le.RSS_14||u===le.RSS_EXPANDED);l&&!r&&o.push(new ii(t,this.verbose)),i.includes(le.QR_CODE)&&o.push(new sr),i.includes(le.DATA_MATRIX)&&o.push(new ir),i.includes(le.AZTEC)&&o.push(new eo),i.includes(le.PDF_417)&&o.push(new St),l&&r&&o.push(new ii(t,this.verbose))}o.length===0&&(r||o.push(new ii(t,this.verbose)),o.push(new sr),o.push(new ir),o.push(new eo),o.push(new St),r&&o.push(new ii(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new oo("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(i){if(i instanceof oo)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class Ch extends an{constructor(t=null,r=500){const i=new Fc;i.setHints(t),super(i,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Ah extends an{constructor(t=500){super(new St,t)}}class vh extends an{constructor(t=500){super(new sr,t)}}var Xl;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(Xl||(Xl={}));var ht=Xl;class Yl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Vt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let i=r[r.length-1];const o=this.field;for(let l=r.length;l<=t;l++){const u=i.multiply(new Vt(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(u),i=u}}return r[t]}encode(t,r){if(r===0)throw new A("No error correction bytes");const i=t.length-r;if(i<=0)throw new A("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(i);P.arraycopy(t,0,l,0,i);let u=new Vt(this.field,l);u=u.multiplyByMonomial(r,1);const h=u.divide(o)[1].getCoefficients(),g=r-h.length;for(let w=0;w<g;w++)t[i+w]=0;P.arraycopy(h,0,t,i+g,h.length)}}class rt{constructor(){}static applyMaskPenaltyRule1(t){return rt.applyMaskPenaltyRule1Internal(t,!0)+rt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const i=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l-1;u++){const f=i[u];for(let h=0;h<o-1;h++){const g=f[h];g===f[h+1]&&g===i[u+1][h]&&g===i[u+1][h+1]&&r++}}return rt.N2*r}static applyMaskPenaltyRule3(t){let r=0;const i=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l;u++)for(let f=0;f<o;f++){const h=i[u];f+6<o&&h[f]===1&&h[f+1]===0&&h[f+2]===1&&h[f+3]===1&&h[f+4]===1&&h[f+5]===0&&h[f+6]===1&&(rt.isWhiteHorizontal(h,f-4,f)||rt.isWhiteHorizontal(h,f+7,f+11))&&r++,u+6<l&&i[u][f]===1&&i[u+1][f]===0&&i[u+2][f]===1&&i[u+3][f]===1&&i[u+4][f]===1&&i[u+5][f]===0&&i[u+6][f]===1&&(rt.isWhiteVertical(i,f,u-4,u)||rt.isWhiteVertical(i,f,u+7,u+11))&&r++}return r*rt.N3}static isWhiteHorizontal(t,r,i){r=Math.max(r,0),i=Math.min(i,t.length);for(let o=r;o<i;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let l=i;l<o;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const i=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++){const g=i[h];for(let w=0;w<o;w++)g[w]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*rt.N4}static getDataMaskBit(t,r,i){let o,l;switch(t){case 0:o=i+r&1;break;case 1:o=i&1;break;case 2:o=r%3;break;case 3:o=(i+r)%3;break;case 4:o=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:l=i*r,o=(l&1)+l%3;break;case 6:l=i*r,o=(l&1)+l%3&1;break;case 7:l=i*r,o=l%3+(i+r&1)&1;break;default:throw new A("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let i=0;const o=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),u=t.getArray();for(let f=0;f<o;f++){let h=0,g=-1;for(let w=0;w<l;w++){const C=r?u[f][w]:u[w][f];C===g?h++:(h>=5&&(i+=rt.N1+(h-5)),h=1,g=C)}h>=5&&(i+=rt.N1+(h-5))}return i}}rt.N1=3,rt.N2=3,rt.N3=40,rt.N4=10;class lo{constructor(t,r){this.width=t,this.height=r;const i=new Array(r);for(let o=0;o!==r;o++)i[o]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,i){this.bytes[r][t]=i}setBoolean(t,r,i){this.bytes[r][t]=i?1:0}clear(t){for(const r of this.bytes)R.fill(r,t)}equals(t){if(!(t instanceof lo))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i],u=r.bytes[i];for(let f=0,h=this.width;f<h;++f)if(l[f]!==u[f])return!1}return!0}toString(){const t=new Ce;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(o[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Br{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ce;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Br.NUM_MASK_PATTERNS}}Br.NUM_MASK_PATTERNS=8;class Be extends p{}Be.kind="WriterException";class fe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,i,o,l){fe.clearMatrix(l),fe.embedBasicPatterns(i,l),fe.embedTypeInfo(r,o,l),fe.maybeEmbedVersionInfo(i,l),fe.embedDataBits(t,o,l)}static embedBasicPatterns(t,r){fe.embedPositionDetectionPatternsAndSeparators(r),fe.embedDarkDotAtLeftBottomCorner(r),fe.maybeEmbedPositionAdjustmentPatterns(t,r),fe.embedTimingPatterns(r)}static embedTypeInfo(t,r,i){const o=new U;fe.makeTypeInfoBits(t,r,o);for(let l=0,u=o.getSize();l<u;++l){const f=o.get(o.getSize()-1-l),h=fe.TYPE_INFO_COORDINATES[l],g=h[0],w=h[1];if(i.setBoolean(g,w,f),l<8){const C=i.getWidth()-l-1;i.setBoolean(C,8,f)}else{const S=i.getHeight()-7+(l-8);i.setBoolean(8,S,f)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const i=new U;fe.makeVersionInfoBits(t,i);let o=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const f=i.get(o);o--,r.setBoolean(l,r.getHeight()-11+u,f),r.setBoolean(r.getHeight()-11+u,l,f)}}static embedDataBits(t,r,i){let o=0,l=-1,u=i.getWidth()-1,f=i.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);f>=0&&f<i.getHeight();){for(let h=0;h<2;++h){const g=u-h;if(!fe.isEmpty(i.get(g,f)))continue;let w;o<t.getSize()?(w=t.get(o),++o):w=!1,r!==255&&rt.getDataMaskBit(r,g,f)&&(w=!w),i.setBoolean(g,f,w)}f+=l}l=-l,f+=l,u-=2}if(o!==t.getSize())throw new Be("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-_.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new A("0 polynomial");const i=fe.findMSBSet(r);for(t<<=i-1;fe.findMSBSet(t)>=i;)t^=r<<fe.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,r,i){if(!Br.isValidMaskPattern(r))throw new Be("Invalid mask pattern");const o=t.getBits()<<3|r;i.appendBits(o,5);const l=fe.calculateBCHCode(o,fe.TYPE_INFO_POLY);i.appendBits(l,10);const u=new U;if(u.appendBits(fe.TYPE_INFO_MASK_PATTERN,15),i.xor(u),i.getSize()!==15)throw new Be("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const i=fe.calculateBCHCode(t.getVersionNumber(),fe.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new Be("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const i=(r+1)%2;fe.isEmpty(t.get(r,6))&&t.setNumber(r,6,i),fe.isEmpty(t.get(6,r))&&t.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Be;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,i){for(let o=0;o<8;++o){if(!fe.isEmpty(i.get(t+o,r)))throw new Be;i.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,i){for(let o=0;o<7;++o){if(!fe.isEmpty(i.get(t,r+o)))throw new Be;i.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,i){for(let o=0;o<5;++o){const l=fe.POSITION_ADJUSTMENT_PATTERN[o];for(let u=0;u<5;++u)i.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPattern(t,r,i){for(let o=0;o<7;++o){const l=fe.POSITION_DETECTION_PATTERN[o];for(let u=0;u<7;++u)i.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=fe.POSITION_DETECTION_PATTERN[0].length;fe.embedPositionDetectionPattern(0,0,t),fe.embedPositionDetectionPattern(t.getWidth()-r,0,t),fe.embedPositionDetectionPattern(0,t.getWidth()-r,t);const i=8;fe.embedHorizontalSeparationPattern(0,i-1,t),fe.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),fe.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const o=7;fe.embedVerticalSeparationPattern(o,0,t),fe.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),fe.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,o=fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let l=0,u=o.length;l!==u;l++){const f=o[l];if(f>=0)for(let h=0;h!==u;h++){const g=o[h];g>=0&&fe.isEmpty(r.get(g,f))&&fe.embedPositionAdjustmentPattern(g-2,f-2,r)}}}}fe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),fe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),fe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),fe.VERSION_INFO_POLY=7973,fe.TYPE_INFO_POLY=1335,fe.TYPE_INFO_MASK_PATTERN=21522;class Sh{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ze{constructor(){}static calculateMaskPenalty(t){return rt.applyMaskPenaltyRule1(t)+rt.applyMaskPenaltyRule2(t)+rt.applyMaskPenaltyRule3(t)+rt.applyMaskPenaltyRule4(t)}static encode(t,r,i=null){let o=ze.DEFAULT_BYTE_MODE_ENCODING;const l=i!==null&&i.get(ht.CHARACTER_SET)!==void 0;l&&(o=i.get(ht.CHARACTER_SET).toString());const u=this.chooseMode(t,o),f=new U;if(u===ce.BYTE&&(l||ze.DEFAULT_BYTE_MODE_ENCODING!==o)){const J=G.getCharacterSetECIByName(o);J!==void 0&&this.appendECI(J,f)}this.appendModeInfo(u,f);const h=new U;this.appendBytes(t,u,h,o);let g;if(i!==null&&i.get(ht.QR_VERSION)!==void 0){const J=Number.parseInt(i.get(ht.QR_VERSION).toString(),10);g=ae.getVersionForNumber(J);const Y=this.calculateBitsNeeded(u,f,h,g);if(!this.willFit(Y,g,r))throw new Be("Data too big for requested version")}else g=this.recommendVersion(r,u,f,h);const w=new U;w.appendBitArray(f);const C=u===ce.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(C,g,u,w),w.appendBitArray(h);const S=g.getECBlocksForLevel(r),T=g.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(T,w);const b=this.interleaveWithECBytes(w,g.getTotalCodewords(),T,S.getNumBlocks()),k=new Br;k.setECLevel(r),k.setMode(u),k.setVersion(g);const L=g.getDimensionForVersion(),V=new lo(L,L),q=this.chooseMaskPattern(b,r,g,V);return k.setMaskPattern(q),fe.buildMatrix(b,r,g,q,V),k.setMatrix(V),k}static recommendVersion(t,r,i,o){const l=this.calculateBitsNeeded(r,i,o,ae.getVersionForNumber(1)),u=this.chooseVersion(l,t),f=this.calculateBitsNeeded(r,i,o,u);return this.chooseVersion(f,t)}static calculateBitsNeeded(t,r,i,o){return r.getSize()+t.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(t){return t<ze.ALPHANUMERIC_TABLE.length?ze.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(G.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return ce.KANJI;let i=!1,o=!1;for(let l=0,u=t.length;l<u;++l){const f=t.charAt(l);if(ze.isDigit(f))i=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)o=!0;else return ce.BYTE}return o?ce.ALPHANUMERIC:i?ce.NUMERIC:ce.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=Me.encode(t,G.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,i,o){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let f=0;f<Br.NUM_MASK_PATTERNS;f++){fe.buildMatrix(t,r,i,f,o);let h=this.calculateMaskPenalty(o);h<l&&(l=h,u=f)}return u}static chooseVersion(t,r){for(let i=1;i<=40;i++){const o=ae.getVersionForNumber(i);if(ze.willFit(t,o,r))return o}throw new Be("Data too big")}static willFit(t,r,i){const o=r.getTotalCodewords(),u=r.getECBlocksForLevel(i).getTotalECCodewords(),f=o-u,h=(t+7)/8;return f>=h}static terminateBits(t,r){const i=t*8;if(r.getSize()>i)throw new Be("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let u=0;u<4&&r.getSize()<i;++u)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let u=o;u<8;u++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==i)throw new Be("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,i,o,l,u){if(o>=i)throw new Be("Block ID too large");const f=t%i,h=i-f,g=Math.floor(t/i),w=g+1,C=Math.floor(r/i),S=C+1,T=g-C,b=w-S;if(T!==b)throw new Be("EC bytes mismatch");if(i!==h+f)throw new Be("RS blocks mismatch");if(t!==(C+T)*h+(S+b)*f)throw new Be("Total bytes mismatch");o<h?(l[0]=C,u[0]=T):(l[0]=S,u[0]=b)}static interleaveWithECBytes(t,r,i,o){if(t.getSizeInBytes()!==i)throw new Be("Number of bits and data bytes does not match");let l=0,u=0,f=0;const h=new Array;for(let w=0;w<o;++w){const C=new Int32Array(1),S=new Int32Array(1);ze.getNumDataBytesAndNumECBytesForBlockID(r,i,o,w,C,S);const T=C[0],b=new Uint8Array(T);t.toBytes(8*l,b,0,T);const k=ze.generateECBytes(b,S[0]);h.push(new Sh(b,k)),u=Math.max(u,T),f=Math.max(f,k.length),l+=C[0]}if(i!==l)throw new Be("Data bytes does not match offset");const g=new U;for(let w=0;w<u;++w)for(const C of h){const S=C.getDataBytes();w<S.length&&g.appendBits(S[w],8)}for(let w=0;w<f;++w)for(const C of h){const S=C.getErrorCorrectionBytes();w<S.length&&g.appendBits(S[w],8)}if(r!==g.getSizeInBytes())throw new Be("Interleaving error: "+r+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(t,r){const i=t.length,o=new Int32Array(i+r);for(let u=0;u<i;u++)o[u]=t[u]&255;new Yl(_e.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=o[i+u];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,i,o){const l=i.getCharacterCountBits(r);if(t>=1<<l)throw new Be(t+" is bigger than "+((1<<l)-1));o.appendBits(t,l)}static appendBytes(t,r,i,o){switch(r){case ce.NUMERIC:ze.appendNumericBytes(t,i);break;case ce.ALPHANUMERIC:ze.appendAlphanumericBytes(t,i);break;case ce.BYTE:ze.append8BitBytes(t,i,o);break;case ce.KANJI:ze.appendKanjiBytes(t,i);break;default:throw new Be("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=ze.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const l=ze.getDigit(t.charAt(o));if(o+2<i){const u=ze.getDigit(t.charAt(o+1)),f=ze.getDigit(t.charAt(o+2));r.appendBits(l*100+u*10+f,10),o+=3}else if(o+1<i){const u=ze.getDigit(t.charAt(o+1));r.appendBits(l*10+u,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const l=ze.getAlphanumericCode(t.charCodeAt(o));if(l===-1)throw new Be;if(o+1<i){const u=ze.getAlphanumericCode(t.charCodeAt(o+1));if(u===-1)throw new Be;r.appendBits(l*45+u,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(t,r,i){let o;try{o=Me.encode(t,i)}catch(l){throw new Be(l)}for(let l=0,u=o.length;l!==u;l++){const f=o[l];r.appendBits(f,8)}}static appendKanjiBytes(t,r){let i;try{i=Me.encode(t,G.SJIS)}catch(l){throw new Be(l)}const o=i.length;for(let l=0;l<o;l+=2){const u=i[l]&255,f=i[l+1]&255,h=u<<8&4294967295|f;let g=-1;if(h>=33088&&h<=40956?g=h-33088:h>=57408&&h<=60351&&(g=h-49472),g===-1)throw new Be("Invalid byte sequence");const w=(g>>8)*192+(g&255);r.appendBits(w,13)}}static appendECI(t,r){r.appendBits(ce.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}ze.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ze.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class Lr{write(t,r,i,o=null){if(t.length===0)throw new A("Found empty contents");if(r<0||i<0)throw new A("Requested dimensions are too small: "+r+"x"+i);let l=Ue.L,u=Lr.QUIET_ZONE_SIZE;o!==null&&(o.get(ht.ERROR_CORRECTION)!==void 0&&(l=Ue.fromString(o.get(ht.ERROR_CORRECTION).toString())),o.get(ht.MARGIN)!==void 0&&(u=Number.parseInt(o.get(ht.MARGIN).toString(),10)));const f=ze.encode(t,l,o);return this.renderResult(f,r,i,u)}writeToDom(t,r,i,o,l=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,i,o,l);t&&t.appendChild(u)}renderResult(t,r,i,o){const l=t.getMatrix();if(l===null)throw new On;const u=l.getWidth(),f=l.getHeight(),h=u+o*2,g=f+o*2,w=Math.max(r,h),C=Math.max(i,g),S=Math.min(Math.floor(w/h),Math.floor(C/g)),T=Math.floor((w-u*S)/2),b=Math.floor((C-f*S)/2),k=this.createSVGElement(w,C);for(let L=0,V=b;L<f;L++,V+=S)for(let q=0,J=T;q<u;q++,J+=S)if(l.get(q,L)===1){const Y=this.createSvgRectElement(J,V,S,S);k.appendChild(Y)}return k}createSVGElement(t,r){const i=document.createElementNS(Lr.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(t,r,i,o){const l=document.createElementNS(Lr.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Lr.QUIET_ZONE_SIZE=4,Lr.SVG_NS="http://www.w3.org/2000/svg";class oi{encode(t,r,i,o,l){if(t.length===0)throw new A("Found empty contents");if(r!==le.QR_CODE)throw new A("Can only encode QR_CODE, but got "+r);if(i<0||o<0)throw new A(`Requested dimensions are too small: ${i}x${o}`);let u=Ue.L,f=oi.QUIET_ZONE_SIZE;l!==null&&(l.get(ht.ERROR_CORRECTION)!==void 0&&(u=Ue.fromString(l.get(ht.ERROR_CORRECTION).toString())),l.get(ht.MARGIN)!==void 0&&(f=Number.parseInt(l.get(ht.MARGIN).toString(),10)));const h=ze.encode(t,u,l);return oi.renderResult(h,i,o,f)}static renderResult(t,r,i,o){const l=t.getMatrix();if(l===null)throw new On;const u=l.getWidth(),f=l.getHeight(),h=u+o*2,g=f+o*2,w=Math.max(r,h),C=Math.max(i,g),S=Math.min(Math.floor(w/h),Math.floor(C/g)),T=Math.floor((w-u*S)/2),b=Math.floor((C-f*S)/2),k=new Ze(w,C);for(let L=0,V=b;L<f;L++,V+=S)for(let q=0,J=T;q<u;q++,J+=S)l.get(q,L)===1&&k.setRegion(J,V,S,S);return k}}oi.QUIET_ZONE_SIZE=4;class Ih{encode(t,r,i,o,l){let u;switch(r){case le.QR_CODE:u=new oi;break;default:throw new A("No encoder available for format "+r)}return u.encode(t,r,i,o,l)}}class kn extends ne{constructor(t,r,i,o,l,u,f,h){if(super(u,f),this.yuvData=t,this.dataWidth=r,this.dataHeight=i,this.left=o,this.top=l,o+u>r||l+f>i)throw new A("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,f)}getRow(t,r){if(t<0||t>=this.getHeight())throw new A("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=t*r,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return P.arraycopy(this.yuvData,l,o,0,i),o;for(let u=0;u<r;u++){const f=u*t;P.arraycopy(this.yuvData,l,o,f,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new kn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,o,!1)}renderThumbnail(){const t=this.getWidth()/kn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/kn.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const f=u*t;for(let h=0;h<t;h++){const g=o[l+h*kn.THUMBNAIL_SCALE_FACTOR]&255;i[f+h]=4278190080|g*65793}l+=this.dataWidth*kn.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/kn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/kn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const i=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const u=l+t/2;for(let f=l,h=l+t-1;f<u;f++,h--){const g=i[f];i[f]=i[h],i[h]=g}}}invert(){return new de(this)}}kn.THUMBNAIL_SCALE_FACTOR=2;class Zl extends ne{constructor(t,r,i,o,l,u,f){if(super(r,i),this.dataWidth=o,this.dataHeight=l,this.left=u,this.top=f,t.BYTES_PER_ELEMENT===4){const h=r*i,g=new Uint8ClampedArray(h);for(let w=0;w<h;w++){const C=t[w],S=C>>16&255,T=C>>7&510,b=C&255;g[w]=(S+T+b)/4&255}this.luminances=g}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=i),u===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new A("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=t*r,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return P.arraycopy(this.luminances,l,o,0,i),o;for(let u=0;u<r;u++){const f=u*t;P.arraycopy(this.luminances,l,o,f,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new Zl(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new de(this)}}class Uc extends G{static forName(t){return this.getCharacterSetECIByName(t)}}class Kl{}Kl.ISO_8859_1=G.ISO8859_1;class jc{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class zc{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Nh{constructor(t){this.previous=t}getPrevious(){return this.previous}}class li extends Nh{constructor(t,r,i){super(t),this.value=r,this.bitCount=i}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new li(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new li(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+_.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Ql extends li{constructor(t,r,i){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(t,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(t,r){return new Ql(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Th(E,t,r){return new Ql(E,t,r)}function Ji(E,t,r){return new li(E,t,r)}const _h=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],lr=0,ao=1,dn=2,Vc=3,Pn=4,Rh=new li(null,0,0),ql=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Oh(E){for(let t of E)R.fill(t,-1);return E[lr][Pn]=0,E[ao][Pn]=0,E[ao][lr]=28,E[Vc][Pn]=0,E[dn][Pn]=0,E[dn][lr]=15,E}const Hc=Oh(R.createInt32Array(6,6));class Bn{constructor(t,r,i,o){this.token=t,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let i=this.bitCount,o=this.token;if(t!==this.mode){let u=ql[this.mode][t];o=Ji(o,u&65535,u>>16),i+=u>>16}let l=t===dn?4:5;return o=Ji(o,r,l),new Bn(o,t,0,i+l)}shiftAndAppend(t,r){let i=this.token,o=this.mode===dn?4:5;return i=Ji(i,Hc[this.mode][t],o),i=Ji(i,r,5),new Bn(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,i=this.mode,o=this.bitCount;if(this.mode===Pn||this.mode===dn){let f=ql[i][lr];r=Ji(r,f&65535,f>>16),o+=f>>16,i=lr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Bn(r,i,this.binaryShiftByteCount+1,o+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Th(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Bn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(ql[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Bn.calculateBinaryShiftCost(t)-Bn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let i=new U;for(const o of r)o.appendTo(i,t);return i}toString(){return ue.format("%s bits=%d bytes=%d",_h[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Bn.INITIAL_STATE=new Bn(Rh,lr,0,0);function bh(E){const t=ue.getCharCode(" "),r=ue.getCharCode("."),i=ue.getCharCode(",");E[lr][t]=1;const o=ue.getCharCode("Z"),l=ue.getCharCode("A");for(let S=l;S<=o;S++)E[lr][S]=S-l+2;E[ao][t]=1;const u=ue.getCharCode("z"),f=ue.getCharCode("a");for(let S=f;S<=u;S++)E[ao][S]=S-f+2;E[dn][t]=1;const h=ue.getCharCode("9"),g=ue.getCharCode("0");for(let S=g;S<=h;S++)E[dn][S]=S-g+2;E[dn][i]=12,E[dn][r]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let S=0;S<w.length;S++)E[Vc][ue.getCharCode(w[S])]=S;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<C.length;S++)ue.getCharCode(C[S])>0&&(E[Pn][ue.getCharCode(C[S])]=S);return E}const Jl=bh(R.createInt32Array(5,256));class $i{constructor(t){this.text=t}encode(){const t=ue.getCharCode(" "),r=ue.getCharCode(`
`);let i=zc.singletonList(Bn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ue.getCharCode("\r"):u=f===r?2:0;break;case ue.getCharCode("."):u=f===t?3:0;break;case ue.getCharCode(","):u=f===t?4:0;break;case ue.getCharCode(":"):u=f===t?5:0;break;default:u=0}u>0?(i=$i.updateStateListForPair(i,l,u),l++):i=this.updateStateListForChar(i,l)}return zc.min(i,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const i=[];for(let o of t)this.updateStateForChar(o,r,i);return $i.simplifyStates(i)}updateStateForChar(t,r,i){let o=this.text[r]&255,l=Jl[t.getMode()][o]>0,u=null;for(let f=0;f<=Pn;f++){let h=Jl[f][o];if(h>0){if(u==null&&(u=t.endBinaryShift(r)),!l||f===t.getMode()||f===dn){const g=u.latchAndAppend(f,h);i.push(g)}if(!l&&Hc[t.getMode()][f]>=0){const g=u.shiftAndAppend(f,h);i.push(g)}}}if(t.getBinaryShiftByteCount()>0||Jl[t.getMode()][o]===0){let f=t.addBinaryShiftChar(r);i.push(f)}}static updateStateListForPair(t,r,i){const o=[];for(let l of t)this.updateStateForPair(l,r,i,o);return this.simplifyStates(o)}static updateStateForPair(t,r,i,o){let l=t.endBinaryShift(r);if(o.push(l.latchAndAppend(Pn,i)),t.getMode()!==Pn&&o.push(l.shiftAndAppend(Pn,i)),i===3||i===4){let u=l.latchAndAppend(dn,16-i).latchAndAppend(dn,1);o.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(u)}}static simplifyStates(t){let r=[];for(const i of t){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}o&&r.push(i)}return r}}class Ne{constructor(){}static encodeBytes(t){return Ne.encode(t,Ne.DEFAULT_EC_PERCENT,Ne.DEFAULT_AZTEC_LAYERS)}static encode(t,r,i){let o=new $i(t).encode(),l=_.truncDivision(o.getSize()*r,100)+11,u=o.getSize()+l,f,h,g,w,C;if(i!==Ne.DEFAULT_AZTEC_LAYERS){if(f=i<0,h=Math.abs(i),h>(f?Ne.MAX_NB_BITS_COMPACT:Ne.MAX_NB_BITS))throw new A(ue.format("Illegal value %s for layers",i));g=Ne.totalBitsInLayer(h,f),w=Ne.WORD_SIZE[h];let Y=g-g%w;if(C=Ne.stuffBits(o,w),C.getSize()+l>Y)throw new A("Data to large for user specified layer");if(f&&C.getSize()>w*64)throw new A("Data to large for user specified layer")}else{w=0,C=null;for(let Y=0;;Y++){if(Y>Ne.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(f=Y<=3,h=f?Y+1:Y,g=Ne.totalBitsInLayer(h,f),u>g)continue;(C==null||w!==Ne.WORD_SIZE[h])&&(w=Ne.WORD_SIZE[h],C=Ne.stuffBits(o,w));let Ae=g-g%w;if(!(f&&C.getSize()>w*64)&&C.getSize()+l<=Ae)break}}let S=Ne.generateCheckWords(C,g,w),T=C.getSize()/w,b=Ne.generateModeMessage(f,h,T),k=(f?11:14)+h*4,L=new Int32Array(k),V;if(f){V=k;for(let Y=0;Y<L.length;Y++)L[Y]=Y}else{V=k+1+2*_.truncDivision(_.truncDivision(k,2)-1,15);let Y=_.truncDivision(k,2),Ae=_.truncDivision(V,2);for(let me=0;me<Y;me++){let Xt=me+_.truncDivision(me,15);L[Y-me-1]=Ae-Xt-1,L[Y+me]=Ae+Xt+1}}let q=new Ze(V);for(let Y=0,Ae=0;Y<h;Y++){let me=(h-Y)*4+(f?9:12);for(let Xt=0;Xt<me;Xt++){let Cn=Xt*2;for(let Yt=0;Yt<2;Yt++)S.get(Ae+Cn+Yt)&&q.set(L[Y*2+Yt],L[Y*2+Xt]),S.get(Ae+me*2+Cn+Yt)&&q.set(L[Y*2+Xt],L[k-1-Y*2-Yt]),S.get(Ae+me*4+Cn+Yt)&&q.set(L[k-1-Y*2-Yt],L[k-1-Y*2-Xt]),S.get(Ae+me*6+Cn+Yt)&&q.set(L[k-1-Y*2-Xt],L[Y*2+Yt])}Ae+=me*8}if(Ne.drawModeMessage(q,f,V,b),f)Ne.drawBullsEye(q,_.truncDivision(V,2),5);else{Ne.drawBullsEye(q,_.truncDivision(V,2),7);for(let Y=0,Ae=0;Y<_.truncDivision(k,2)-1;Y+=15,Ae+=16)for(let me=_.truncDivision(V,2)&1;me<V;me+=2)q.set(_.truncDivision(V,2)-Ae,me),q.set(_.truncDivision(V,2)+Ae,me),q.set(me,_.truncDivision(V,2)-Ae),q.set(me,_.truncDivision(V,2)+Ae)}let J=new jc;return J.setCompact(f),J.setSize(V),J.setLayers(h),J.setCodeWords(T),J.setMatrix(q),J}static drawBullsEye(t,r,i){for(let o=0;o<i;o+=2)for(let l=r-o;l<=r+o;l++)t.set(l,r-o),t.set(l,r+o),t.set(r-o,l),t.set(r+o,l);t.set(r-i,r-i),t.set(r-i+1,r-i),t.set(r-i,r-i+1),t.set(r+i,r-i),t.set(r+i,r-i+1),t.set(r+i,r+i-1)}static generateModeMessage(t,r,i){let o=new U;return t?(o.appendBits(r-1,2),o.appendBits(i-1,6),o=Ne.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(i-1,11),o=Ne.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,i,o){let l=_.truncDivision(i,2);if(r)for(let u=0;u<7;u++){let f=l-3+u;o.get(u)&&t.set(f,l-5),o.get(u+7)&&t.set(l+5,f),o.get(20-u)&&t.set(f,l+5),o.get(27-u)&&t.set(l-5,f)}else for(let u=0;u<10;u++){let f=l-5+u+_.truncDivision(u,5);o.get(u)&&t.set(f,l-7),o.get(u+10)&&t.set(l+7,f),o.get(29-u)&&t.set(f,l+7),o.get(39-u)&&t.set(l-7,f)}}static generateCheckWords(t,r,i){let o=t.getSize()/i,l=new Yl(Ne.getGF(i)),u=_.truncDivision(r,i),f=Ne.bitsToWords(t,i,u);l.encode(f,u-o);let h=r%i,g=new U;g.appendBits(0,h);for(const w of Array.from(f))g.appendBits(w,i);return g}static bitsToWords(t,r,i){let o=new Int32Array(i),l,u;for(l=0,u=t.getSize()/r;l<u;l++){let f=0;for(let h=0;h<r;h++)f|=t.get(l*r+h)?1<<r-h-1:0;o[l]=f}return o}static getGF(t){switch(t){case 4:return _e.AZTEC_PARAM;case 6:return _e.AZTEC_DATA_6;case 8:return _e.AZTEC_DATA_8;case 10:return _e.AZTEC_DATA_10;case 12:return _e.AZTEC_DATA_12;default:throw new A("Unsupported word size "+t)}}static stuffBits(t,r){let i=new U,o=t.getSize(),l=(1<<r)-2;for(let u=0;u<o;u+=r){let f=0;for(let h=0;h<r;h++)(u+h>=o||t.get(u+h))&&(f|=1<<r-1-h);(f&l)===l?(i.appendBits(f&l,r),u--):f&l?i.appendBits(f,r):(i.appendBits(f|1,r),u--)}return i}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Ne.DEFAULT_EC_PERCENT=33,Ne.DEFAULT_AZTEC_LAYERS=0,Ne.MAX_NB_BITS=32,Ne.MAX_NB_BITS_COMPACT=4,Ne.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class uo{encode(t,r,i,o){return this.encodeWithHints(t,r,i,o,null)}encodeWithHints(t,r,i,o,l){let u=Kl.ISO_8859_1,f=Ne.DEFAULT_EC_PERCENT,h=Ne.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(ht.CHARACTER_SET)&&(u=Uc.forName(l.get(ht.CHARACTER_SET).toString())),l.has(ht.ERROR_CORRECTION)&&(f=_.parseInt(l.get(ht.ERROR_CORRECTION).toString())),l.has(ht.AZTEC_LAYERS)&&(h=_.parseInt(l.get(ht.AZTEC_LAYERS).toString()))),uo.encodeLayers(t,r,i,o,u,f,h)}static encodeLayers(t,r,i,o,l,u,f){if(r!==le.AZTEC)throw new A("Can only encode AZTEC, but got "+r);let h=Ne.encode(ue.getBytes(t,l),u,f);return uo.renderResult(h,i,o)}static renderResult(t,r,i){let o=t.getMatrix();if(o==null)throw new On;let l=o.getWidth(),u=o.getHeight(),f=Math.max(r,l),h=Math.max(i,u),g=Math.min(f/l,h/u),w=(f-l*g)/2,C=(h-u*g)/2,S=new Ze(f,h);for(let T=0,b=C;T<u;T++,b+=g)for(let k=0,L=w;k<l;k++,L+=g)o.get(k,T)&&S.setRegion(L,b,g,g);return S}}s.AbstractExpandedDecoder=Ll,s.ArgumentException=v,s.ArithmeticException=qs,s.AztecCode=jc,s.AztecCodeReader=eo,s.AztecCodeWriter=uo,s.AztecDecoder=Fe,s.AztecDetector=Nc,s.AztecDetectorResult=Sc,s.AztecEncoder=Ne,s.AztecHighLevelEncoder=$i,s.AztecPoint=Bt,s.BarcodeFormat=le,s.Binarizer=B,s.BinaryBitmap=N,s.BitArray=U,s.BitMatrix=Ze,s.BitSource=zl,s.BrowserAztecCodeReader=rh,s.BrowserBarcodeReader=ah,s.BrowserCodeReader=an,s.BrowserDatamatrixCodeReader=ch,s.BrowserMultiFormatReader=Ch,s.BrowserPDF417Reader=Ah,s.BrowserQRCodeReader=vh,s.BrowserQRCodeSvgWriter=Lr,s.CharacterSetECI=G,s.ChecksumException=D,s.Code128Reader=te,s.Code39Reader=ft,s.DataMatrixDecodedBitStreamParser=rr,s.DataMatrixReader=ir,s.DecodeHintType=Q,s.DecoderResult=Vi,s.DefaultGridSampler=Ic,s.DetectorResult=$s,s.EAN13Reader=Mr,s.EncodeHintType=ht,s.Exception=p,s.FormatException=j,s.GenericGF=_e,s.GenericGFPoly=Vt,s.GlobalHistogramBinarizer=et,s.GridSampler=Dl,s.GridSamplerInstance=tr,s.HTMLCanvasElementLuminanceSource=ge,s.HybridBinarizer=pe,s.ITFReader=Pe,s.IllegalArgumentException=A,s.IllegalStateException=On,s.InvertedLuminanceSource=de,s.LuminanceSource=ne,s.MathUtils=Ie,s.MultiFormatOneDReader=ii,s.MultiFormatReader=Fc,s.MultiFormatWriter=Ih,s.NotFoundException=H,s.OneDReader=at,s.PDF417DecodedBitStreamParser=z,s.PDF417DecoderErrorCorrection=Mc,s.PDF417Reader=St,s.PDF417ResultMetadata=kc,s.PerspectiveTransform=yn,s.PlanarYUVLuminanceSource=kn,s.QRCodeByteMatrix=lo,s.QRCodeDataMask=cn,s.QRCodeDecodedBitStreamParser=Qe,s.QRCodeDecoderErrorCorrectionLevel=Ue,s.QRCodeDecoderFormatInformation=bt,s.QRCodeEncoder=ze,s.QRCodeEncoderQRCode=Br,s.QRCodeMaskUtil=rt,s.QRCodeMatrixUtil=fe,s.QRCodeMode=ce,s.QRCodeReader=sr,s.QRCodeVersion=ae,s.QRCodeWriter=oi,s.RGBLuminanceSource=Zl,s.RSS14Reader=nt,s.RSSExpandedReader=X,s.ReaderException=oo,s.ReedSolomonDecoder=Wi,s.ReedSolomonEncoder=Yl,s.ReedSolomonException=ei,s.Result=Ke,s.ResultMetadataType=mt,s.ResultPoint=oe,s.StringUtils=ue,s.UnsupportedOperationException=xe,s.VideoInputDevice=Ge,s.WhiteRectangleDetector=Vn,s.WriterException=Be,s.ZXingArrays=R,s.ZXingCharset=Uc,s.ZXingInteger=_,s.ZXingStandardCharsets=Kl,s.ZXingStringBuilder=Ce,s.ZXingStringEncoding=Me,s.ZXingSystem=P,s.createAbstractExpandedDecoder=Oc,Object.defineProperty(s,"__esModule",{value:!0})})})(Su,Su.exports);var He=Su.exports;const im=I0(He),sm=S0({__proto__:null,default:im},[He]);var p0=function(){function e(n,s,a){if(this.formatMap=new Map([[re.QR_CODE,He.BarcodeFormat.QR_CODE],[re.AZTEC,He.BarcodeFormat.AZTEC],[re.CODABAR,He.BarcodeFormat.CODABAR],[re.CODE_39,He.BarcodeFormat.CODE_39],[re.CODE_93,He.BarcodeFormat.CODE_93],[re.CODE_128,He.BarcodeFormat.CODE_128],[re.DATA_MATRIX,He.BarcodeFormat.DATA_MATRIX],[re.MAXICODE,He.BarcodeFormat.MAXICODE],[re.ITF,He.BarcodeFormat.ITF],[re.EAN_13,He.BarcodeFormat.EAN_13],[re.EAN_8,He.BarcodeFormat.EAN_8],[re.PDF_417,He.BarcodeFormat.PDF_417],[re.RSS_14,He.BarcodeFormat.RSS_14],[re.RSS_EXPANDED,He.BarcodeFormat.RSS_EXPANDED],[re.UPC_A,He.BarcodeFormat.UPC_A],[re.UPC_E,He.BarcodeFormat.UPC_E],[re.UPC_EAN_EXTENSION,He.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!sm)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=a;var c=this.createZXingFormats(n),d=new Map;d.set(He.DecodeHintType.POSSIBLE_FORMATS,c),d.set(He.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(n){var s=this;return new Promise(function(a,c){try{a(s.decode(n))}catch(d){c(d)}})},e.prototype.decode=function(n){var s=new He.MultiFormatReader(this.verbose,this.hints),a=new He.HTMLCanvasElementLuminanceSource(n),c=new He.BinaryBitmap(new He.HybridBinarizer(a)),d=s.decode(c);return{text:d.text,format:eh.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,a,c){n.set(s,a)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var s=[],a=0,c=n;a<c.length;a++){var d=c[a];this.formatMap.has(d)?s.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return s},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),om=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function y(v){try{p(a.next(v))}catch(A){x(A)}}function m(v){try{p(a.throw(v))}catch(A){x(A)}}function p(v){v.done?d(v.value):c(v.value).then(y,m)}p((a=a.apply(e,n||[])).next())})},lm=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(p){return function(v){return m([p,v])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(s=0)),s;)try{if(a=1,c&&(d=p[0]&2?c.return:p[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,p[1])).done)return d;switch(c=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,c=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){s.label=p[1];break}if(p[0]===6&&s.label<d[1]){s.label=d[1],d=p;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(p);break}d[2]&&s.ops.pop(),s.trys.pop();continue}p=n.call(e,s)}catch(v){p=[6,v],c=0}finally{a=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},m0=function(){function e(n,s,a){if(this.formatMap=new Map([[re.QR_CODE,"qr_code"],[re.AZTEC,"aztec"],[re.CODABAR,"codabar"],[re.CODE_39,"code_39"],[re.CODE_93,"code_93"],[re.CODE_128,"code_128"],[re.DATA_MATRIX,"data_matrix"],[re.ITF,"itf"],[re.EAN_13,"ean_13"],[re.EAN_8,"ean_8"],[re.PDF_417,"pdf417"],[re.UPC_A,"upc_a"],[re.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=a;var c=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return om(this,void 0,void 0,function(){var s,a;return lm(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(n)];case 1:if(s=c.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(s),[2,{text:a.rawValue,format:eh.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var s=null,a=0,c=0,d=n;c<d.length;c++){var x=d[c],y=x.boundingBox.width*x.boundingBox.height;y>a&&(a=y,s=x)}if(!s)throw"No largest barcode found";return s},e.prototype.createBarcodeDetectorFormats=function(n){for(var s=[],a=0,c=n;a<c.length;a++){var d=c[a];this.formatMap.has(d)?s.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(s,a,c){n.set(s,a)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),w0=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function y(v){try{p(a.next(v))}catch(A){x(A)}}function m(v){try{p(a.throw(v))}catch(A){x(A)}}function p(v){v.done?d(v.value):c(v.value).then(y,m)}p((a=a.apply(e,n||[])).next())})},y0=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(p){return function(v){return m([p,v])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(s=0)),s;)try{if(a=1,c&&(d=p[0]&2?c.return:p[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,p[1])).done)return d;switch(c=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,c=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){s.label=p[1];break}if(p[0]===6&&s.label<d[1]){s.label=d[1],d=p;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(p);break}d[2]&&s.ops.pop(),s.trys.pop();continue}p=n.call(e,s)}catch(v){p=[6,v],c=0}finally{a=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},am=function(){function e(n,s,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,s&&m0.isSupported()?(this.primaryDecoder=new m0(n,a,c),this.secondaryDecoder=new p0(n,a,c)):this.primaryDecoder=new p0(n,a,c)}return e.prototype.decodeAsync=function(n){return w0(this,void 0,void 0,function(){var s;return y0(this,function(a){switch(a.label){case 0:s=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return w0(this,void 0,void 0,function(){var s,a;return y0(this,function(c){switch(c.label){case 0:s=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var s=performance.now()-n;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,s=0,a=this.executionResults;s<a.length;s++){var c=a[s];n+=c}var d=n/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),vc=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),gl=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function y(v){try{p(a.next(v))}catch(A){x(A)}}function m(v){try{p(a.throw(v))}catch(A){x(A)}}function p(v){v.done?d(v.value):c(v.value).then(y,m)}p((a=a.apply(e,n||[])).next())})},xl=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(p){return function(v){return m([p,v])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(s=0)),s;)try{if(a=1,c&&(d=p[0]&2?c.return:p[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,p[1])).done)return d;switch(c=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,c=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){s.label=p[1];break}if(p[0]===6&&s.label<d[1]){s.label=d[1],d=p;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(p);break}d[2]&&s.ops.pop(),s.trys.pop();continue}p=n.call(e,s)}catch(v){p=[6,v],c=0}finally{a=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},nh=function(){function e(n,s){this.name=n,this.track=s}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var s={};s[this.name]=n;var a={advanced:[s]};return this.track.applyConstraints(a)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var s=n[this.name];return s}return null},e}(),um=function(e){vc(n,e);function n(s,a){return e.call(this,s,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(s){var a={};a[this.name]=s;var c={advanced:[a]};return this.track.applyConstraints(c)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),a=s[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(nh),cm=function(e){vc(n,e);function n(s){return e.call(this,"zoom",s)||this}return n}(um),fm=function(e){vc(n,e);function n(s){return e.call(this,"torch",s)||this}return n}(nh),dm=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new cm(this.track)},e.prototype.torchFeature=function(){return new fm(this.track)},e}(),hm=function(){function e(n,s,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=s,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var s=document.createElement("video");return s.style.width="".concat(n,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var a=n.surface.clientWidth,c=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,c),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,s,a,c){return gl(this,void 0,void 0,function(){var d,x;return xl(this,function(y){switch(y.label){case 0:return d=new e(n,s,c),a.aspectRatio?(x={aspectRatio:a.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(x)]):[3,2];case 1:y.sent(),y.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var s=this,a=function(){setTimeout(n,200),s.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return gl(this,void 0,void 0,function(){return xl(this,function(s){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(s,a){var c=n.mediaStream.getVideoTracks(),d=c.length,x=0;n.mediaStream.getVideoTracks().forEach(function(y){n.mediaStream.removeTrack(y),y.stop(),++x,x>=d&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),s())})})},e.prototype.getCapabilities=function(){return new dm(this.getFirstTrackOrFail())},e}(),gm=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,s,a){return gl(this,void 0,void 0,function(){return xl(this,function(c){return[2,hm.create(n,this.mediaStream,s,a)]})})},e.create=function(n){return gl(this,void 0,void 0,function(){var s,a;return xl(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return a=c.sent(),[2,new e(a)]}})})},e}(),E0=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function y(v){try{p(a.next(v))}catch(A){x(A)}}function m(v){try{p(a.throw(v))}catch(A){x(A)}}function p(v){v.done?d(v.value):c(v.value).then(y,m)}p((a=a.apply(e,n||[])).next())})},C0=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(p){return function(v){return m([p,v])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(s=0)),s;)try{if(a=1,c&&(d=p[0]&2?c.return:p[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,p[1])).done)return d;switch(c=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,c=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){s.label=p[1];break}if(p[0]===6&&s.label<d[1]){s.label=d[1],d=p;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(p);break}d[2]&&s.ops.pop(),s.trys.pop();continue}p=n.call(e,s)}catch(v){p=[6,v],c=0}finally{a=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},xm=function(){function e(){}return e.failIfNotSupported=function(){return E0(this,void 0,void 0,function(){return C0(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return E0(this,void 0,void 0,function(){return C0(this,function(s){return[2,gm.create(n)]})})},e}(),pm=function(e,n,s,a){function c(d){return d instanceof s?d:new s(function(x){x(d)})}return new(s||(s=Promise))(function(d,x){function y(v){try{p(a.next(v))}catch(A){x(A)}}function m(v){try{p(a.throw(v))}catch(A){x(A)}}function p(v){v.done?d(v.value):c(v.value).then(y,m)}p((a=a.apply(e,n||[])).next())})},mm=function(e,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(p){return function(v){return m([p,v])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(s=0)),s;)try{if(a=1,c&&(d=p[0]&2?c.return:p[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,p[1])).done)return d;switch(c=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,c=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){s.label=p[1];break}if(p[0]===6&&s.label<d[1]){s.label=d[1],d=p;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(p);break}d[2]&&s.ops.pop(),s.trys.pop();continue}p=n.call(e,s)}catch(v){p=[6,v],c=0}finally{a=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},wm=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=vi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=vi.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return pm(this,void 0,void 0,function(){var n,s,a,c,d,x,y;return mm(this,function(m){switch(m.label){case 0:return n=function(p){for(var v=p.getVideoTracks(),A=0,N=v;A<N.length;A++){var D=N[A];D.enabled=!1,D.stop(),p.removeTrack(D)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=m.sent(),c=[],d=0,x=a;d<x.length;d++)y=x[d],y.kind==="videoinput"&&c.push({id:y.deviceId,label:y.label});return n(s),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,s){var a=function(d){for(var x=[],y=0,m=d;y<m.length;y++){var p=m[y];p.kind==="video"&&x.push({id:p.id,label:p.label})}n(x)},c=MediaStreamTrack;c.getSources(a)})},e}(),it;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(it||(it={}));var ym=function(){function e(){this.state=it.NOT_STARTED,this.onGoingTransactionNewState=it.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===it.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=it.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===it.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=it.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==it.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case it.UNKNOWN:throw"Transition from unknown is not allowed";case it.NOT_STARTED:this.failIfNewStateIs(n,[it.PAUSED]);break;case it.SCANNING:break;case it.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,s){for(var a=0,c=s;a<c.length;a++){var d=c[a];if(n===d)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),Em=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===it.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==it.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===it.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===it.PAUSED},e}(),Cm=function(){function e(){}return e.create=function(){return new Em(new ym)},e}(),Am=function(){var e=function(n,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},e(n,s)};return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),en=function(e){Am(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(tm),vm=function(){function e(n,s){this.logger=s,this.fps=en.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=en.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?th.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Hn(this.qrbox)},e.create=function(n,s){return new e(n,s)},e}(),A0=function(){function e(n,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof s=="boolean"?this.verbose=s===!0:s&&(a=s,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new rm(this.verbose),this.qrcode=new am(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Cm.create()}return e.prototype.start=function(n,s,a,c){var d=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var x;c?x=c:x=this.verbose?this.logger.log:function(){};var y=vm.create(s,this.logger);this.clearElement();var m=!1;y.videoConstraints&&(y.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=m,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:en.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var A=this,N=this.stateManagerProxy.startTransition(it.SCANNING);return new Promise(function(D,B){var P=p?y.videoConstraints:A.createVideoConstraints(n);if(!P){N.cancel(),B("videoConstraints should be defined");return}var W={};(!p||y.aspectRatio)&&(W.aspectRatio=y.aspectRatio);var O={onRenderSurfaceReady:function(R,_){A.setupUi(R,_,y),A.isScanning=!0,A.foreverScan(y,a,x)}};xm.failIfNotSupported().then(function(R){R.create(P).then(function(_){return _.render(d.element,W,O).then(function(U){A.renderedCamera=U,N.execute(),D(null)}).catch(function(U){N.cancel(),B(U)})}).catch(function(_){N.cancel(),B(vi.errorGettingUserMedia(_))})}).catch(function(R){N.cancel(),B(vi.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(it.PAUSED),this.showPausedState(),(Hn(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,s=function(){n.stateManagerProxy.directTransition(it.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(it.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var d=document.getElementById(en.SHADED_REGION_ELEMENT_ID);d&&n.element.removeChild(d)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),s.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,s){return this.scanFileV2(n,s).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(n,s){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Hn(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,d){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var x=new Image;x.onload=function(){var y=x.width,m=x.height,p=document.getElementById(a.elementId),v=p.clientWidth?p.clientWidth:en.DEFAULT_WIDTH,A=Math.max(p.clientHeight?p.clientHeight:m,en.FILE_SCAN_MIN_HEIGHT),N=a.computeCanvasDrawConfig(y,m,v,A);if(s){var D=a.createCanvasElement(v,A,"qr-canvas-visible");D.style.display="inline-block",p.appendChild(D);var B=D.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=v,B.canvas.height=A,B.drawImage(x,0,0,y,m,N.x,N.y,N.width,N.height)}var P=en.FILE_SCAN_HIDDEN_CANVAS_PADDING,W=Math.max(x.width,N.width),O=Math.max(x.height,N.height),R=W+2*P,_=O+2*P,U=a.createCanvasElement(R,_);p.appendChild(U);var Z=U.getContext("2d");if(!Z)throw"Unable to get 2d context from canvas";Z.canvas.width=R,Z.canvas.height=_,Z.drawImage(x,0,0,y,m,P,P,W,O);try{a.qrcode.decodeRobustlyAsync(U).then(function(Q){c(x0.createFromQrcodeResult(Q))}).catch(d)}catch(Q){d("QR code parse error, error = ".concat(Q))}},x.onerror=d,x.onabort=d,x.onstalled=d,x.onsuspend=d,x.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return wm.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!th.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var s=[re.QR_CODE,re.AZTEC,re.CODABAR,re.CODE_39,re.CODE_93,re.CODE_128,re.DATA_MATRIX,re.MAXICODE,re.ITF,re.EAN_13,re.EAN_8,re.PDF_417,re.RSS_14,re.RSS_EXPANDED,re.UPC_A,re.UPC_E,re.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return s;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,d=n.formatsToSupport;c<d.length;c++){var x=d[c];em(x)?a.push(x):this.logger.warn("Invalid format: ".concat(x," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Hn(n))return!0;if(!Hn(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(Hn(n.experimentalFeatures))return!0;var s=n.experimentalFeatures;return Hn(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,s,a){var c=this,d=a.qrbox;this.validateQrboxConfig(d);var x=this.toQrdimensions(n,s,d),y=function(p){if(p<en.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(en.MIN_QR_BOX_SIZE,"px.")},m=function(p){return p>n&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=n),p};y(x.width),y(x.height),x.width=m(x.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,s,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,s)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},e.prototype.setupUi=function(n,s,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,s,a);var c=Hn(a.qrbox)?{width:n,height:s}:a.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(n,s,c);d.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=a.isShadedBoxEnabled()&&d.height<=s,y={x:0,y:0,width:n,height:s},m=x?this.getShadedRegionBounds(n,s,d):y,p=this.createCanvasElement(m.width,m.height),v={willReadFrequently:!0},A=p.getContext("2d",v);A.canvas.width=m.width,A.canvas.height=m.height,this.element.append(p),x&&this.possiblyInsertShadingElement(this.element,n,s,d),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=A,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(n){var s=document.createElement("div");s.innerText=vi.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",n.appendChild(s),this.scannerPausedUiElement=s},e.prototype.scanContext=function(n,s){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return n(c.text,x0.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var d=vi.codeParseError(c);return s(d,nm.createFrom(d)),!1})},e.prototype.foreverScan=function(n,s,a){var c=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),x=d.videoWidth/d.clientWidth,y=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*x,p=this.qrRegion.height*y,v=this.qrRegion.x*x,A=this.qrRegion.y*y;this.context.drawImage(d,v,A,m,p,0,0,this.qrRegion.width,this.qrRegion.height);var N=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(n,s,a)},c.getTimeoutFps(n.fps))};this.scanContext(s,a).then(function(D){!D&&n.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(s,a).finally(function(){N()})):N()}).catch(function(D){c.logger.logError("Error happend while scanning context",D),N()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var s="facingMode",a="deviceId",c={user:!0,environment:!0},d="exact",x=function(B){if(B in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(B,"'")},y=Object.keys(n);if(y.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(y.length," keys");var m=Object.keys(n)[0];if(m!==s&&m!==a)throw"Only '".concat(s,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(m===s){var p=n.facingMode;if(typeof p=="string"){if(x(p))return{facingMode:p}}else if(typeof p=="object")if(d in p){if(x(p["".concat(d)]))return{facingMode:{exact:p["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var v=typeof p;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var A=n.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(d in A)return{deviceId:{exact:A["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var N=typeof A;throw"Invalid type of 'deviceId' = ".concat(N)}}}var D=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(D)},e.prototype.computeCanvasDrawConfig=function(n,s,a,c){if(n<=a&&s<=c){var d=(a-n)/2,x=(c-s)/2;return{x:d,y:x,width:n,height:s}}else{var y=n,m=s;return n>a&&(s=a/n*s,n=a),s>c&&(n=c/s*n,s=c),this.logger.log("Image downsampled from "+"".concat(y,"X").concat(m)+" to ".concat(n,"X").concat(s,".")),this.computeCanvasDrawConfig(n,s,a,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=n?en.BORDER_SHADER_MATCH_COLOR:en.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,s,a){var c=n,d=s,x=document.createElement("canvas");return x.style.width="".concat(c,"px"),x.style.height="".concat(d,"px"),x.style.display="none",x.id=Hn(a)?"qr-canvas":a,x},e.prototype.getShadedRegionBounds=function(n,s,a){if(a.width>n||a.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(s-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(n,s,a,c){if(!(s-c.width<1||a-c.height<1)){var d=document.createElement("div");d.style.position="absolute";var x=(s-c.width)/2,y=(a-c.height)/2;if(d.style.borderLeft="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(en.SHADED_REGION_ELEMENT_ID),s-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var m=5,p=40;this.insertShaderBorders(d,p,m,-m,null,0,!0),this.insertShaderBorders(d,p,m,-m,null,0,!1),this.insertShaderBorders(d,p,m,null,-m,0,!0),this.insertShaderBorders(d,p,m,null,-m,0,!1),this.insertShaderBorders(d,m,p+m,-m,null,-m,!0),this.insertShaderBorders(d,m,p+m,null,-m,-m,!0),this.insertShaderBorders(d,m,p+m,-m,null,-m,!1),this.insertShaderBorders(d,m,p+m,null,-m,-m,!1),this.hasBorderShaders=!0}n.append(d)}},e.prototype.insertShaderBorders=function(n,s,a,c,d,x,y){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=en.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(s,"px"),m.style.height="".concat(a,"px"),c!==null&&(m.style.top="".concat(c,"px")),d!==null&&(m.style.bottom="".concat(d,"px")),y?m.style.left="".concat(x,"px"):m.style.right="".concat(x,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),n.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),v0;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(v0||(v0={}));const Sm=({onScan:e,onError:n})=>{const[s,a]=ee.useState(""),[c,d]=ee.useState(null),x=ee.useRef(null),y=ee.useRef(!1);return ee.useEffect(()=>{const m="reader",v=setTimeout(async()=>{try{const A=await A0.getCameras();if(!A||A.length===0){a("No camera found on this device.");return}x.current||(x.current=new A0(m));const N={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[re.QR_CODE]};y.current||(await x.current.start({facingMode:"environment"},N,D=>{try{const B=JSON.parse(D);e(B)}catch(B){console.warn("Non-JSON QR Code",B)}},D=>{}),y.current=!0,d(!0))}catch(A){console.error("Camera start failed",A),d(!1),A.name==="NotAllowedError"?a("Camera permission denied. Please allow camera access in your browser settings."):location.protocol!=="https:"&&location.hostname!=="localhost"?a("Camera access requires a secure HTTPS connection."):a(`Camera error: ${A.message||A}`)}},100);return()=>{clearTimeout(v),x.current&&y.current&&x.current.stop().then(()=>{x.current.clear(),y.current=!1}).catch(A=>console.error("Failed to stop scanner",A))}},[e]),M.jsxs("div",{className:"w-full max-w-md mx-auto space-y-4",children:[M.jsxs("div",{className:"relative overflow-hidden rounded-xl border-2 border-slate-700 bg-black min-h-[300px] flex items-center justify-center",children:[M.jsx("div",{id:"reader",className:"w-full h-full absolute inset-0"}),!c&&!s&&M.jsxs("div",{className:"text-slate-500 animate-pulse flex flex-col items-center",children:[M.jsx(Ep,{size:48,className:"mb-2"}),M.jsx("p",{children:"Starting Camera..."})]}),s&&M.jsxs("div",{className:"z-10 text-center p-6 max-w-[80%] bg-slate-900/90 backdrop-blur rounded-xl border border-red-500/30 text-red-400",children:[M.jsx(wp,{size:32,className:"mx-auto mb-2"}),M.jsx("p",{className:"text-sm font-medium",children:s})]})]}),c===!1&&M.jsx("div",{className:"text-xs text-center text-slate-500",children:"If you are on iOS, make sure you are using Safari. If you are using Chrome on iOS, permissions can be tricky."})]})},Im=()=>{const{events:e,markGuestAttended:n}=Ac(),[s,a]=ee.useState(null),[c,d]=ee.useState(1),[x,y]=ee.useState(""),m=()=>{a(null),d(1)},p=A=>{var B;if(s)return;if(!A.eventId||!A.guestId){a({status:"invalid",message:"Invalid QR Code structure"});return}const N=e.find(P=>P.id===A.eventId);if(!N){a({status:"invalid",message:"Event not found in this system"});return}const D=(B=N.guests)==null?void 0:B.find(P=>P.id===A.guestId);if(!D){a({status:"invalid",message:"Guest not found in guest list"});return}a({status:"valid",data:{event:N,guest:D},message:"Guest Verified"})},v=()=>{if((s==null?void 0:s.status)!=="valid")return;const{event:A,guest:N}=s.data;n(A.id,N.id,c),a({...s,status:"checked-in"})};return M.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[M.jsxs("div",{className:"text-center",children:[M.jsx("h1",{className:"text-2xl font-bold text-white",children:"Guest Scanner"}),M.jsx("p",{className:"text-slate-400",children:"Scan QR codes to verify attendees"})]}),!s&&M.jsxs("div",{className:"animate-in fade-in",children:[M.jsx(Sm,{onScan:p}),M.jsx("p",{className:"text-center text-xs text-slate-500 mt-4",children:"Point camera at the guest's QR code"})]}),s&&s.status==="valid"&&M.jsxs("div",{className:"card text-center space-y-6 animate-in zoom-in duration-300 border-indigo-500/50",children:[M.jsx("div",{className:"w-20 h-20 bg-indigo-500/20 text-indigo-400 rounded-full flex items-center justify-center mx-auto ring-4 ring-indigo-500/10",children:M.jsx(Dp,{size:40})}),M.jsxs("div",{children:[M.jsx("h2",{className:"text-2xl font-bold text-white",children:s.data.guest.name}),M.jsx("p",{className:"text-indigo-300 font-medium",children:s.data.event.title}),s.data.guest.attended&&M.jsx("div",{className:"mt-2 inline-flex items-center gap-1 bg-yellow-500/10 text-yellow-500 px-3 py-1 rounded-full text-xs font-bold",children:"Already Checked In"})]}),M.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl space-y-2",children:[M.jsx("label",{className:"text-sm text-slate-400",children:"Number of Guests"}),M.jsxs("div",{className:"flex items-center justify-center gap-4",children:[M.jsx("button",{onClick:()=>d(Math.max(1,c-1)),className:"w-10 h-10 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center text-xl font-bold transition-colors",children:"-"}),M.jsx("span",{className:"text-3xl font-bold w-12",children:c}),M.jsx("button",{onClick:()=>d(c+1),className:"w-10 h-10 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center text-xl font-bold transition-colors",children:"+"})]})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[M.jsx("button",{onClick:m,className:"btn btn-secondary",children:"Cancel"}),M.jsx("button",{onClick:v,className:"btn btn-primary bg-emerald-600 hover:bg-emerald-500 shadow-lg shadow-emerald-500/20",children:"Confirm Check-In"})]})]}),s&&s.status==="invalid"&&M.jsxs("div",{className:"card text-center space-y-6 animate-in zoom-in duration-300 border-red-500/50 bg-red-500/5",children:[M.jsx("div",{className:"w-20 h-20 bg-red-500/20 text-red-400 rounded-full flex items-center justify-center mx-auto animate-pulse",children:M.jsx(kp,{size:40})}),M.jsxs("div",{children:[M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Invalid Ticket"}),M.jsx("p",{className:"text-red-300 mt-2",children:s.message})]}),M.jsx("button",{onClick:m,className:"btn btn-secondary w-full",children:"Try Again"})]}),s&&s.status==="checked-in"&&M.jsxs("div",{className:"card text-center space-y-6 animate-in zoom-in duration-300 bg-emerald-500/10 border-emerald-500/50",children:[M.jsx("div",{className:"w-20 h-20 bg-emerald-500/20 text-emerald-400 rounded-full flex items-center justify-center mx-auto",children:M.jsx(Ap,{size:40})}),M.jsxs("div",{children:[M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Access Granted"}),M.jsxs("p",{className:"text-emerald-300 mt-2",children:["Welcome, ",s.data.guest.name,"!"]}),M.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Total count: ",c]})]}),M.jsxs("button",{onClick:m,className:"btn btn-primary w-full gap-2",children:[M.jsx(Tp,{size:18})," Scan Next Guest"]})]})]})};function Nm(){return M.jsx(xp,{children:M.jsx(lp,{children:M.jsx(Pp,{children:M.jsxs(ep,{children:[M.jsx(gs,{path:"/",element:M.jsx(Bp,{})}),M.jsx(gs,{path:"/manager",element:M.jsx(Lp,{})}),M.jsx(gs,{path:"/event/:id",element:M.jsx($p,{})}),M.jsx(gs,{path:"/scanner",element:M.jsx(Im,{})})]})})})})}Na.createRoot(document.getElementById("root")).render(M.jsx(vn.StrictMode,{children:M.jsx(Nm,{})}));
